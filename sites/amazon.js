(function(){"use strict";var m;(function(e){e.Error="error",e.Warn="warn",e.Info="info",e.Debug="debug",e.Fatal="fatal",e.Http="http",e.Verbose="verbose",e.Silly="silly",e.Trace="trace"})(m||(m={}));class B{constructor(){this.length=0}push(t){const o={value:t};this.last=this.last?this.last.next=o:this.first=o,this.length++}shift(){if(this.first){const{value:t}=this.first;return this.first=this.first.next,--this.length||(this.last=void 0),t}}}const U=1e3,M=1e3,F=3,z=100,N=e=>JSON.stringify(e).length+1;function j(e=U,t=M,o=F,i=z,r=0,c=N){let u,s,a=[],l=0,d=0,g=0;async function y(){u&&clearTimeout(u),u=null;const f=a,p=l;a=[],l=0;try{await s(f.map(w=>w.log)),f.forEach(w=>w.resolve(w.log)),d=0}catch(w){if(d<o){d++,g=Date.now()+i,a=a.concat(f),l+=p,await h();return}f.map(T=>T.reject(w)),d=0}}async function h(){if(!u)return new Promise(f=>{u=setTimeout(async function(){await y(),f()},t)})}return{initPusher:function(f){return s=f,async function(p){return new Promise(async(w,T)=>(a.push({log:p,resolve:w,reject:T}),r>0&&(l+=c(p)),(a.length>=e||r>0&&l>=r)&&Date.now()>g?await y():await h(),w))}},flush:y}}const S=64;function q(e,t,o="The function"){if(e<=0||t<=0)return l=>l;let i=[0],r=0,c=Date.now();function u(){const l=Date.now(),d=e/S;if(l<c+d)return;const g=Math.floor((l-c)/d);i=Array(Math.min(g,S)).fill(0).concat(i).slice(0,S),c+=g*d}function s(){return i.reduce((l,d)=>l+d)}function a(){i[0]++}return l=>async(...d)=>{if(u(),s()<t)return a(),await l(...d);const g=Date.now();r<g-e&&(r=g,console.error(`${o} was called more than ${t} times during last ${e}ms. Ignoring.`))}}function G(e,t=-1){let o=0;const i=new B;function r(c){return async(...u)=>new Promise((s,a)=>{async function l(){if(o<e){o++;try{s(await c(...u))}catch(d){a(d)}o--,i.length>0&&i.shift()()}else if(t<0||i.length<t)i.push(l);else{a(new Error("Queue max limit exceeded"));return}}return l()})}return r}var A,O;function H(){if(O)return A;O=1;class e extends Error{constructor(a){super(e._prepareSuperMessage(a)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,e)}static _prepareSuperMessage(a){try{return JSON.stringify(a)}catch{return String(a)}}}const t=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],o=Symbol(".toJSON called"),i=s=>{s[o]=!0;const a=s.toJSON();return delete s[o],a},r=({from:s,seen:a,to_:l,forceEnumerable:d,maxDepth:g,depth:y})=>{const h=l||(Array.isArray(s)?[]:{});if(a.push(s),y>=g)return h;if(typeof s.toJSON=="function"&&s[o]!==!0)return i(s);for(const[f,p]of Object.entries(s)){if(typeof Buffer=="function"&&Buffer.isBuffer(p)){h[f]="[object Buffer]";continue}if(typeof p!="function"){if(!p||typeof p!="object"){h[f]=p;continue}if(!a.includes(s[f])){y++,h[f]=r({from:s[f],seen:a.slice(),forceEnumerable:d,maxDepth:g,depth:y});continue}h[f]="[Circular]"}}for(const{property:f,enumerable:p}of t)typeof s[f]=="string"&&Object.defineProperty(h,f,{value:s[f],enumerable:d?!0:p,configurable:!0,writable:!0});return h};return A={serializeError:(s,a={})=>{const{maxDepth:l=Number.POSITIVE_INFINITY}=a;return typeof s=="object"&&s!==null?r({from:s,seen:[],forceEnumerable:!0,maxDepth:l,depth:0}):typeof s=="function"?`[Function: ${s.name||"anonymous"}]`:s},deserializeError:(s,a={})=>{const{maxDepth:l=Number.POSITIVE_INFINITY}=a;if(s instanceof Error)return s;if(typeof s=="object"&&s!==null&&!Array.isArray(s)){const d=new Error;return r({from:s,seen:[],to_:d,maxDepth:l,depth:0}),d}return new e(s)}},A}var R=H();const J={endpoint:"https://in.logs.betterstack.com",batchSize:1e3,batchSizeKiB:0,batchInterval:1e3,retryCount:3,retryBackoff:100,syncMax:5,syncQueuedMax:100,burstProtectionMilliseconds:5e3,burstProtectionMax:1e4,ignoreExceptions:!1,throwExceptions:!1,contextObjectMaxDepth:50,contextObjectMaxDepthWarn:!0,contextObjectCircularRefWarn:!0,sendLogsToConsoleOutput:!1,sendLogsToBetterStack:!0,calculateLogSizeBytes:N};class K{constructor(t,o){if(this._middleware=[],this._countLogged=0,this._countSynced=0,this._countDropped=0,typeof t!="string"||t==="")throw new Error("Logtail source token missing");this._sourceToken=t,this._options=Object.assign(Object.assign({},J),o);const r=G(this._options.syncMax,this._options.syncQueuedMax)(u=>this._sync(u));this._logBurstProtection=q(this._options.burstProtectionMilliseconds,this._options.burstProtectionMax,"Logging"),this.log=this._logBurstProtection(this.log.bind(this));const c=j(this._options.batchSize,this._options.batchInterval,this._options.retryCount,this._options.retryBackoff,this._options.batchSizeKiB*1024,this._options.calculateLogSizeBytes);this._batch=c.initPusher(u=>r(u)),this._flush=c.flush}async flush(){return this._flush()}get logged(){return this._countLogged}get synced(){return this._countSynced}get dropped(){return this._countDropped}async log(t,o=m.Info,i={}){if(typeof i!="object"&&(i={extra:i}),i instanceof Error&&(i={error:i}),this._options.sendLogsToConsoleOutput)switch(o){case"debug":console.debug(t,i);break;case"info":console.info(t,i);break;case"warn":console.warn(t,i);break;case"error":console.error(t,i);break;default:console.log(`[${o.toUpperCase()}]`,t,i);break}if(typeof this._sync!="function")throw new Error("No Logtail logger sync function provided");this._countLogged++;let c=Object.assign(Object.assign({dt:new Date,level:o},i),t instanceof Error?R.serializeError(t):{message:t});for(const u of this._middleware){let s=await u(c);if(s==null)return c;c=s}if(c=this.serialize(c,this._options.contextObjectMaxDepth),!this._options.sendLogsToBetterStack)return c;try{await this._batch(c),this._countSynced++}catch(u){if(this._countDropped++,!this._options.ignoreExceptions){if(this._options.throwExceptions)throw u;console.error(u)}}return c}serialize(t,o,i=new WeakSet){if(t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t;if(t instanceof Date)return isNaN(t.getTime())?t.toString():t.toISOString();if(t instanceof Error)return R.serializeError(t);if((typeof t=="object"||Array.isArray(t))&&(o<1||i.has(t)))return i.has(t)?(this._options.contextObjectCircularRefWarn&&console.warn("[Logtail] Found a circular reference when serializing logs. Please do not use circular references in your logs."),"<omitted circular reference>"):(this._options.contextObjectMaxDepthWarn&&console.warn(`[Logtail] Max depth of ${this._options.contextObjectMaxDepth} reached when serializing logs. Please do not use excessive object depth in your logs.`),`<omitted context beyond configured max depth: ${this._options.contextObjectMaxDepth}>`);if(Array.isArray(t)){i.add(t);const r=t.map(c=>this.serialize(c,o-1,i));return i.delete(t),r}else if(typeof t=="object"){const r={};return i.add(t),Object.entries(t).forEach(c=>{const u=c[0],s=c[1],a=this.serialize(s,o-1,i);a!==void 0&&(r[u]=a)}),i.delete(t),r}else return typeof t>"u"?void 0:`<omitted unserializable ${typeof t}>`}async debug(t,o={}){return this.log(t,m.Debug,o)}async info(t,o={}){return this.log(t,m.Info,o)}async warn(t,o={}){return this.log(t,m.Warn,o)}async error(t,o={}){return this.log(t,m.Error,o)}setSync(t){this._sync=t}use(t){this._middleware.push(t)}remove(t){this._middleware=this._middleware.filter(o=>o!==t)}}class V extends K{async log(t,o=m.Info,i={}){return super.log(t,o,i)}}class Z extends V{constructor(t,o){super(t,Object.assign({batchSizeKiB:48},o));const i=async r=>{const c=await fetch(this._options.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._sourceToken}`},body:JSON.stringify(r),keepalive:!0});if(c.ok)return r;throw new Error(c.statusText)};this.setSync(i),this.configureFlushOnPageLeave()}async log(t,o,i={}){return typeof i!="object"&&(i={extra:i}),i instanceof Error&&(i={error:i}),i=Object.assign(Object.assign({},this.getCurrentContext()),i),super.log(t,o,i)}getCurrentContext(){var t,o,i;const r={};return typeof window<"u"&&(r.url=(t=window.location)===null||t===void 0?void 0:t.href,r.device_pixel_ratio=window.devicePixelRatio,r.screen_width=(o=window.screen)===null||o===void 0?void 0:o.width,r.screen_height=(i=window.screen)===null||i===void 0?void 0:i.height,r.window_width=window.innerWidth,r.window_height=window.innerHeight),typeof navigator<"u"&&(r.user_locale=navigator.userLanguage||navigator.language,r.user_agent=navigator.userAgent),r}configureFlushOnPageLeave(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.flush()})}}function W(){return new Z("PKSXVyGdsc4wsLFEyZ3RaUk8",{endpoint:"https://s1709138.eu-fsn-3.betterstackdata.com",batchSize:30,batchInterval:1e3,retryCount:2})}const n=W(),X="https://www.amazon.[DOMAIN]/s?k=[QUERY]",E={result_item:'div[data-component-type="s-search-result"]',title:"a > h2 > span",price:"span.a-price-whole",rating:'span[aria-label*="out of 5 stars"], i[data-hook="average-star-rating"] span.a-icon-alt, .a-icon-star-small span.a-icon-alt',reviews:'span[aria-label*="ratings"], a[href*="#customerReviews"] span',link:"a.a-link-normal.s-no-outline, h2 a"},Y=["#add-to-cart-button","#add-to-cart-button-ubb","#add-to-cart-button .a-button-input"],Q=['button[name="submit.addToCart"]','button[data-action="add-to-cart"]','input[name="submit.add-to-cart"]','.a-button-input[aria-label*="Add to Cart"]','form[action*="add-to-cart"] input[type="submit"]'],tt="select[id*='variation'], select[id^='native_dropdown']",P={cartButton:"#nav-cart",proceedToCheckout:"#sc-buy-box-ptc-button > span > input"},_={addToCartButton:"#add-to-cart-button"};function et(e){return`[data-uuid="${e}"] > div > div > span > div > div > div.a-section.a-spacing-small.puis-padding-left-small.puis-padding-right-small > div.a-section.a-spacing-none.a-spacing-top-small.s-title-instructions-style > a`}function I(e){if(!e)return null;const t=e.replace(/[^0-9.,-]/g,"").replace(/,/g,""),o=parseFloat(t);return Number.isFinite(o)?o:null}function D(e){if(!e)return null;const t=e.match(/([\d.]+)\s*(?:out of 5)?/i);if(t){const o=parseFloat(t[1]);if(Number.isFinite(o)&&o>=0&&o<=5)return o}return null}function nt(e){if(!e)return null;const t=e.replace(/[^0-9]/g,"");if(t.length===0)return null;const o=parseInt(t,10);return Number.isFinite(o)&&o>=0?o:null}function ot(){if(n.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üîç [AMAZON] PRODUCT DETECTION STARTED
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìç Current URL: ${window.location.href}`),window.location.pathname.includes("/dp/")||window.location.pathname.includes("/gp/product/"))return n.info("‚ÑπÔ∏è  Detected PRODUCT DETAIL PAGE - switching to single product detection"),rt();if(window.location.pathname==="/"||window.location.pathname==="")return n.info("‚ÑπÔ∏è  Detected HOMEPAGE - no search results to extract"),n.info("üí° TIP: Try searching for a product first, then use the assistant"),[];n.info(`üìç Using selector: "${E.result_item}"`);const e=document.querySelectorAll(E.result_item);if(n.info(`‚úì Found ${e.length} product containers
`),e.length===0){n.info("‚ö†Ô∏è  No results with primary selector, trying alternatives...");const t=['div[data-asin]:not([data-asin=""])',".s-result-item[data-asin]","div.s-result-item"];for(const o of t){const i=document.querySelectorAll(o);if(n.info(`  üìç Trying "${o}": found ${i.length}`),i.length>0)return n.info(`  ‚úì Using alternative selector: "${o}"`),v(i)}return n.info("‚ùå No products found with any selector"),n.info("üí° TIP: Make sure you're on a search results page"),[]}return v(e)}function rt(){const e=document.querySelector("#productTitle, #title"),t=document.querySelector(".a-price .a-offscreen, #priceblock_ourprice, #priceblock_dealprice"),o=document.querySelector("#acrPopover .a-icon-alt, .a-icon-star .a-icon-alt");if(!e)return n.info("‚ùå Could not find product title on product page"),[];const i=(e.textContent||"").trim(),r=I(t?(t.textContent||"").trim():void 0),c=D(o?(o.textContent||"").trim():void 0);return n.info(`‚úì Found single product: ${i}`),n.info(`  üí∞ Price: ${r}`),n.info(`  ‚≠ê Rating: ${c}`),[{"data-uuid":"single-product",title:i,price:r,rating:c,reviews:null,link:window.location.href,selector:"#productTitle",priceNumber:r,isDetailPage:!0}]}function v(e){const t=[],o=Array.from(e).slice(0,20);n.info(`üìä Processing first ${o.length} products...
`),o.forEach((r,c)=>{if(console.group(`üõçÔ∏è  Product #${c+1}`),!ct(r)){n.info("‚ùå SKIPPED - Not visible"),console.groupEnd();return}if((r.textContent||"").toLowerCase().includes("sponsored")){n.info("‚ùå SKIPPED - Sponsored product"),console.groupEnd();return}const s=r,a=s.getAttribute("data-uuid")||s.getAttribute("data-asin")||`product-${c}`,l=s.querySelector(E.title),d=l?(l.textContent||"").trim():null,g=s.querySelector(E.price),y=g?(g.textContent||"").trim():null,h=I(y||void 0),f=s.querySelector(E.rating),p=f?(f.textContent||"").trim():null;if(p&&(p.toLowerCase().includes("previous")||p.toLowerCase().includes("next")||p.toLowerCase().includes("page"))){n.info("‚ùå SKIPPED - Invalid rating text detected (navigation element)"),console.groupEnd();return}const w=D(p||void 0),T=s.querySelector(E.reviews),k=T?(T.textContent||"").trim():null,x=nt(k||void 0),L=s.querySelector(E.link),$=L?L.href:null;if(!d){n.info("‚ùå SKIPPED - No title found"),console.groupEnd();return}if(h===null){n.info("‚ùå SKIPPED - No price found"),console.groupEnd();return}const pt={"data-uuid":a,title:d,price:h,rating:w,reviews:x,link:$,selector:st(s)||void 0,priceNumber:h};n.info("üì¶ Product extracted:",{uuid:a,title:d,priceText:y,priceParsed:h,ratingText:p,ratingParsed:w,reviewsText:k,reviewsParsed:x,link:$}),t.push(pt),console.groupEnd()}),n.info(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üì¶ EXTRACTION COMPLETE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìä Total containers found: ${e.length}
‚úì Valid products extracted: ${t.length}

üìã PRODUCTS BEING SENT TO LLM (FULL TITLES - NOT TRUNCATED):
`);let i=[];return t.forEach((r,c)=>{i.push(`
üõçÔ∏è  PRODUCT ${c+1}:
   üìù Title:   ${r.title}
   üí∞ Price:   $${r.price}
   ‚≠ê Rating:  ${r.rating||"N/A"}
   üí¨ Reviews: ${r.reviews||"N/A"}
   üîó Link:    ${r.link}
   üè∑Ô∏è  UUID:    ${r["data-uuid"]}`)}),n.info(i.join("")),n.info(`
üìä SUMMARY TABLE:`),console.table(t.map(r=>({"Title (Full)":r.title,Price:`$${r.price}`,Rating:r.rating||"N/A",Reviews:r.reviews||"N/A"}))),n.info(`
üìÑ FULL JSON DATA (for LLM):`),n.info(JSON.stringify(t,null,2)),n.info(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`),t}async function it(e){n.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üõí [AMAZON] EXECUTING: ADD TO CART
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìã Arguments received:
`+JSON.stringify(e,null,2)+`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`);try{if(C())return n.info("‚ö†Ô∏è  CAPTCHA detected - aborting action"),{success:!1,error:"CAPTCHA detected - pausing actions",data:{captcha:!0}};if(e.addToCartSelector){n.info(`üîç Trying pre-detected ATC selector: ${e.addToCartSelector}`);const r=document.querySelector(e.addToCartSelector);if(r&&!r.disabled)return n.info("‚úì Button found and enabled - clicking"),r.click(),await b(400+Math.random()*600),n.info(`‚úÖ Success: Clicked pre-detected SRP button
`),{success:!0,data:{clicked:"srp_predetected"}};n.info("‚ùå Button not found or disabled")}if(e.selector){n.info(`üîç Trying product card selector: ${e.selector}`);const r=document.querySelector(e.selector);if(r){n.info("‚úì Product card found");for(const c of Q){n.info(`  üîç Trying ATC selector: ${c}`);const u=r.querySelector(c);if(u&&!u.disabled)return n.info("  ‚úì Button found and enabled - clicking"),u.click(),await b(400+Math.random()*600),n.info(`‚úÖ Success: Clicked SRP card button
`),{success:!0,data:{clicked:"srp_card"}}}n.info("‚ùå No enabled ATC button found in card")}else n.info("‚ùå Product card not found")}if(e.link)return n.info(`üîó Navigating to product page: ${e.link}`),window.location.href=e.link,n.info(`‚úÖ Success: Navigation initiated
`),{success:!0,data:{navigatedToPDP:!0,url:e.link}};if(e.productId){n.info(`üîç Trying to find product by ID: ${e.productId}`);const r=document.querySelector(`[data-asin='${e.productId}'], a[href*='/${e.productId}']`);if(r){const c=r.closest("a");if(c!=null&&c.href)return n.info(`‚úì Product link found: ${c.href}`),window.location.href=c.href,n.info(`‚úÖ Success: Navigation initiated
`),{success:!0,data:{navigatedToPDP:!0,url:c.href}}}n.info("‚ùå Product link not found")}n.info("üîç Checking for variant selectors");const t=document.querySelector(tt);t&&t.options.length>1&&(n.info("‚úì Variant selector found - selecting first option"),t.selectedIndex=1,t.dispatchEvent(new Event("change",{bubbles:!0})),await b(500+Math.random()*600)),n.info("üîç Trying standard ATC selectors");for(const r of Y){n.info(`  üîç Trying: ${r}`);const c=document.querySelector(r);if(c&&!c.disabled)return n.info("  ‚úì Button found and enabled - clicking"),c.click(),await b(500+Math.random()*700),n.info(`‚úÖ Success: Clicked button with selector ${r}
`),{success:!0,data:{clicked:r}}}n.info("‚ùå No enabled buttons found with standard selectors"),n.info("üîç Trying text-based button search");const i=Array.from(document.querySelectorAll('button, input[type="submit"], input[type="button"], a.a-button-text')).find(r=>{const c=(r.textContent||r.value||"").toLowerCase().trim();return(c==="add to cart"||c==="add to basket")&&!r.disabled});return i?(n.info(`‚úì Found button with text: "${i.textContent}"`),i.click(),await b(500+Math.random()*700),n.info(`‚úÖ Success: Clicked text-matched button
`),{success:!0,data:{clicked:"text_match",text:i.textContent}}):(n.info(`‚ùå FAILED: No add-to-cart button found
`),{success:!1,error:"Add to cart not available or blocked - tried selectors and text match"})}catch(t){return console.error("‚ùå ERROR:",t),{success:!1,error:String(t)}}}function C(){return window.location.href.toLowerCase().includes("captcha")||/verify/i.test(document.body.textContent||"")?!0:document.querySelectorAll('form[action*="captcha"], div[class*="captcha"], iframe[src*="captcha"], iframe[src*="recaptcha"]').length>0}function ct(e){try{const t=e.getBoundingClientRect();return t.width>0&&t.height>0}catch{return!1}}function st(e){if(!(e instanceof Element))return null;if(e.id)return`#${e.id}`;const t=[];let o=e;for(;o&&o.nodeType===Node.ELEMENT_NODE&&o!==document.documentElement;){let i=o.nodeName.toLowerCase();if(o.className){const r=o.className.split(" ")[0];r&&(i+=`.${r}`)}t.unshift(i),o=o.parentElement}return t.length?t.join(" > "):null}function b(e){return new Promise(t=>setTimeout(t,e))}async function at(e){if(n.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìã [AMAZON] EXECUTING: NAVIGATE TO PRODUCT SPECS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìã Arguments received:
`+JSON.stringify(e,null,2)+`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`),!e.productUuid)return n.info(`‚ùå FAILED: No product UUID provided
`),{success:!1,error:"No product UUID provided"};try{const t=et(e.productUuid);n.info(`üîç Built specs selector: ${t}`);const o=document.querySelector(t);return o?(n.info("‚úì Product specs link found - clicking"),o.click(),await b(500+Math.random()*500),n.info(`‚úÖ Success: Navigated to product specs
`),{success:!0,data:{navigatedToSpecs:!0,uuid:e.productUuid}}):(n.info(`‚ùå FAILED: Product specs link not found
`),{success:!1,error:"Product specs link not found"})}catch(t){return console.error("‚ùå ERROR:",t),{success:!1,error:String(t)}}}async function ut(e){n.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üõí [AMAZON] EXECUTING: ADD TO CART FROM PRODUCT PAGE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìã Arguments received:
`+JSON.stringify(e,null,2)+`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`);try{if(C())return n.info("‚ö†Ô∏è  CAPTCHA detected - aborting action"),{success:!1,error:"CAPTCHA detected - pausing actions",data:{captcha:!0}};n.info(`üîç Looking for add-to-cart button: ${_.addToCartButton}`);const t=document.querySelector(_.addToCartButton);return t&&!t.disabled?(n.info("‚úì Button found and enabled - clicking"),t.click(),await b(500+Math.random()*700),n.info(`‚úÖ Success: Product added to cart
`),{success:!0,data:{clicked:"product_page_atc"}}):(n.info(`‚ùå FAILED: Add to cart button not found or disabled
`),{success:!1,error:"Add to cart button not available"})}catch(t){return console.error("‚ùå ERROR:",t),{success:!1,error:String(t)}}}function lt(){n.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üõí [AMAZON] EXECUTING: NAVIGATE TO CART
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`);try{const t=window.location.hostname.match(/amazon\.(.+)$/),o=t?t[1]:"com",i=`https://www.amazon.${o}/gp/cart/view.html?ref_=nav_cart`;return n.info(`‚úì Detected domain: ${o}`),n.info(`‚úì Navigating to: ${i}`),window.location.href=i,n.info(`‚úÖ Success: Navigated to cart
`),{success:!0,data:{navigatedToCart:!0,url:i}}}catch(e){return console.error("‚ùå ERROR:",e),{success:!1,error:String(e)}}}function dt(e){return n.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üîó [AMAZON] EXECUTING: NAVIGATE TO PRODUCT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìã Arguments received:
`+JSON.stringify(e,null,2)+`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`),e.link?(n.info(`üîó Navigating to: ${e.link}`),window.location.href=e.link,n.info(`‚úÖ Success: Navigation initiated
`),{success:!0,data:{navigatedToPDP:!0,url:e.link}}):(n.info(`‚ùå FAILED: No link URL provided
`),{success:!1,error:"No link URL provided"})}async function ft(){n.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üí≥ [AMAZON] EXECUTING: PROCEED TO CHECKOUT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`);try{const e=window.location.href.toLowerCase();if(!e.includes("/gp/cart/")&&!e.includes("/cart/"))return n.info("‚ùå FAILED: Not on cart page"),n.info(`Current URL: ${e}
`),{success:!1,error:"Not on cart page. Please navigate to cart first."};if(C())return n.info("‚ö†Ô∏è  CAPTCHA detected - aborting action"),{success:!1,error:"CAPTCHA detected - pausing actions",data:{captcha:!0}};n.info(`üîç Looking for proceed to checkout button: ${P.proceedToCheckout}`);const t=document.querySelector(P.proceedToCheckout);if(t&&!t.disabled)return n.info("‚úì Button found and enabled - clicking"),t.click(),await b(500+Math.random()*700),n.info(`‚úÖ Success: Proceeding to checkout
`),{success:!0,data:{clicked:"proceed_to_checkout"}};const o=['input[name="proceedToRetailCheckout"]','input[name="proceedToCheckout"]','button[name="proceedToCheckout"]',"#sc-buy-box-ptc-button input"];for(const i of o){n.info(`  üîç Trying alternative selector: ${i}`);const r=document.querySelector(i);if(r&&!r.disabled)return n.info("  ‚úì Button found and enabled - clicking"),r.click(),await b(500+Math.random()*700),n.info(`‚úÖ Success: Proceeding to checkout
`),{success:!0,data:{clicked:i}}}return n.info(`‚ùå FAILED: Proceed to checkout button not found or disabled
`),{success:!1,error:"Proceed to checkout button not available"}}catch(e){return console.error("‚ùå ERROR:",e),{success:!1,error:String(e)}}}window.__siteIntegration=window.__siteIntegration||{},window.__siteIntegration.amazon={detectProductCards:ot,addToCart:it,addToCartFromProductPage:ut,navigateToProduct:dt,navigateToProductSpecs:at,navigateToCart:lt,proceedToCheckout:ft,detectCaptcha:C,SEARCH_TEMPLATE:X,SELECTORS:E,CART_SELECTORS:P,PRODUCT_PAGE_SELECTORS:_},window.__siteIntegrationReady=!0,console.debug("Amazon site integration injected and ready")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1hem9uLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQGxvZ3RhaWwvdHlwZXMvZGlzdC9lczYvdHlwZXMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGxvZ3RhaWwvdG9vbHMvZGlzdC9lczYvcXVldWUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGxvZ3RhaWwvdG9vbHMvZGlzdC9lczYvYmF0Y2guanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGxvZ3RhaWwvdG9vbHMvZGlzdC9lczYvYnVyc3RQcm90ZWN0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bsb2d0YWlsL3Rvb2xzL2Rpc3QvZXM2L3Rocm90dGxlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3NlcmlhbGl6ZS1lcnJvci9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbG9ndGFpbC9jb3JlL2Rpc3QvZXM2L2Jhc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGxvZ3RhaWwvYnJvd3Nlci9kaXN0L2VzNi9icm93c2VyLmpzIiwiLi4vLi4vc3JjL2xpYi91dGlscy9sb2dnZXIudHMiLCIuLi8uLi9zcmMvc2l0ZXMvYW1hem9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTG9ndGFpbCBsaWJyYXJ5IG9wdGlvbnNcbiAqL1xuZXhwb3J0IHZhciBMb2dMZXZlbDtcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcbiAgICAvLyBjb3JlIGxvZyBsZXZlbHMgLSBhdmFpbGFibGUgYXMgZnVuY3Rpb25zXG4gICAgTG9nTGV2ZWxbXCJFcnJvclwiXSA9IFwiZXJyb3JcIjtcbiAgICBMb2dMZXZlbFtcIldhcm5cIl0gPSBcIndhcm5cIjtcbiAgICBMb2dMZXZlbFtcIkluZm9cIl0gPSBcImluZm9cIjtcbiAgICBMb2dMZXZlbFtcIkRlYnVnXCJdID0gXCJkZWJ1Z1wiO1xuICAgIC8vIGV4dHJhIGxvZyBsZXZlbHMgLSByZWNvZ25pemVkIHdoZW4gcGFzc2VkIGZyb20gbG9nZ2luZyBmcmFtZXdvcmtzXG4gICAgTG9nTGV2ZWxbXCJGYXRhbFwiXSA9IFwiZmF0YWxcIjtcbiAgICBMb2dMZXZlbFtcIkh0dHBcIl0gPSBcImh0dHBcIjtcbiAgICBMb2dMZXZlbFtcIlZlcmJvc2VcIl0gPSBcInZlcmJvc2VcIjtcbiAgICBMb2dMZXZlbFtcIlNpbGx5XCJdID0gXCJzaWxseVwiO1xuICAgIExvZ0xldmVsW1wiVHJhY2VcIl0gPSBcInRyYWNlXCI7XG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiLyoqXG4gKiBRdWV1ZSwgZm9yIEZJRk8gYWNjZXNzIHRvIGFyYml0cmFyeSBvYmplY3RzLiBJbnRlbmRlZCB0byBiZSBhIGZhc3RlclxuICogcmVwbGFjZW1lbnQgZm9yIGEgSmF2YXNjcmlwdCBhcnJheS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVldWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyc3Qgbm9kZSBpbiB0aGUgdHJlZVxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBpdGVtcyBpbiB0aGUgcXVldWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgdmFsdWUgaW50byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gQW55IG9iamVjdCB0byBwdXNoIGludG8gdGhlIHF1ZXVlXG4gICAgICovXG4gICAgcHVzaCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub2RlID0geyB2YWx1ZSB9O1xuICAgICAgICB0aGlzLmxhc3QgPSB0aGlzLmxhc3QgPyAodGhpcy5sYXN0Lm5leHQgPSBub2RlKSA6ICh0aGlzLmZpcnN0ID0gbm9kZSk7XG4gICAgICAgIHRoaXMubGVuZ3RoKys7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHZhbHVlIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBxdWV1ZSAoRklGTykgYW5kIHJldHVybiBpdFxuICAgICAqL1xuICAgIHNoaWZ0KCkge1xuICAgICAgICBpZiAodGhpcy5maXJzdCkge1xuICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5maXJzdDtcbiAgICAgICAgICAgIHRoaXMuZmlyc3QgPSB0aGlzLmZpcnN0Lm5leHQ7XG4gICAgICAgICAgICBpZiAoIS0tdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWV1ZS5qcy5tYXAiLCIvKlxuICogRGVmYXVsdCBidWZmZXIgc2l6ZVxuICovXG5jb25zdCBERUZBVUxUX0JVRkZFUl9TSVpFID0gMTAwMDtcbi8qXG4gKiBEZWZhdWx0IGZsdXNoIHRpbWVvdXRcbiAqL1xuY29uc3QgREVGQVVMVF9GTFVTSF9USU1FT1VUID0gMTAwMDtcbi8qXG4gKiBEZWZhdWx0IHJldHJ5IGNvdW50XG4gKi9cbmNvbnN0IERFRkFVTFRfUkVUUllfQ09VTlQgPSAzO1xuLypcbiAqIERlZmF1bHQgcmV0cnkgYmFja29mZlxuICovXG5jb25zdCBERUZBVUxUX1JFVFJZX0JBQ0tPRkYgPSAxMDA7XG4vKlxuICogRGVmYXVsdCBmdW5jdGlvbiBmb3IgY29tcHV0aW5nIGxvZyBzaXplIChzZXJpYWxpemVkIEpTT04gbGVuZ3RoICsgMSBmb3IgY29tbWEpXG4gKi9cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVKc29uTG9nU2l6ZUJ5dGVzID0gKGxvZykgPT4gSlNPTi5zdHJpbmdpZnkobG9nKS5sZW5ndGggKyAxO1xuLyoqXG4gKiBiYXRjaCB0aGUgYnVmZmVyIGNvbWluZyBpbiwgcHJvY2VzcyB0aGVtIGFuZCB0aGVuIHJlc29sdmVcbiAqXG4gKiBAcGFyYW0gc2l6ZSAtIE51bWJlclxuICogQHBhcmFtIGZsdXNoVGltZW91dCAtIE51bWJlclxuICogQHBhcmFtIHJldHJ5Q291bnQgLSBOdW1iZXJcbiAqIEBwYXJhbSByZXRyeUJhY2tvZmYgLSBOdW1iZXJcbiAqIEBwYXJhbSBzaXplQnl0ZXMgLSBTaXplIG9mIHRoZSBiYXRjaCAoaW4gYnl0ZXMpIHRoYXQgdHJpZ2dlcnMgZmx1c2hpbmcuIFNldCB0byAwIHRvIGRpc2FibGUuXG4gKiBAcGFyYW0gY2FsY3VsYXRlTG9nU2l6ZUJ5dGVzIC0gRnVuY3Rpb24gdG8gY2FsY3VsYXRlIHNpemUgb2YgYSBzaW5nbGUgSUxvZ3RhaWxMb2cgaW5zdGFuY2UgKGluIGJ5dGVzKS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUJhdGNoKHNpemUgPSBERUZBVUxUX0JVRkZFUl9TSVpFLCBmbHVzaFRpbWVvdXQgPSBERUZBVUxUX0ZMVVNIX1RJTUVPVVQsIHJldHJ5Q291bnQgPSBERUZBVUxUX1JFVFJZX0NPVU5ULCByZXRyeUJhY2tvZmYgPSBERUZBVUxUX1JFVFJZX0JBQ0tPRkYsIHNpemVCeXRlcyA9IDAsIGNhbGN1bGF0ZUxvZ1NpemVCeXRlcyA9IGNhbGN1bGF0ZUpzb25Mb2dTaXplQnl0ZXMpIHtcbiAgICBsZXQgdGltZW91dDtcbiAgICBsZXQgY2I7XG4gICAgbGV0IGJ1ZmZlciA9IFtdO1xuICAgIGxldCBidWZmZXJTaXplQnl0ZXMgPSAwO1xuICAgIGxldCByZXRyeSA9IDA7XG4gICAgLy8gV2FpdCB1bnRpbCB0aGUgbWluaW11bSByZXRyeSBiYWNrb2ZmIHRpbWUgaGFzIHBhc3NlZCBiZWZvcmUgcmV0cnlpbmdcbiAgICBsZXQgbWluUmV0cnlCYWNrb2ZmID0gMDtcbiAgICAvKlxuICAgICAqIFByb2Nlc3MgdGhlbiBmbHVzaCB0aGUgbGlzdFxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBjb25zdCBjdXJyZW50QnVmZmVyID0gYnVmZmVyO1xuICAgICAgICBjb25zdCBjdXJyZW50QnVmZmVyU2l6ZUtCID0gYnVmZmVyU2l6ZUJ5dGVzO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgICAgYnVmZmVyU2l6ZUJ5dGVzID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNiKGN1cnJlbnRCdWZmZXIubWFwKChkKSA9PiBkLmxvZykpO1xuICAgICAgICAgICAgY3VycmVudEJ1ZmZlci5mb3JFYWNoKChkKSA9PiBkLnJlc29sdmUoZC5sb2cpKTtcbiAgICAgICAgICAgIHJldHJ5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKHJldHJ5IDwgcmV0cnlDb3VudCkge1xuICAgICAgICAgICAgICAgIHJldHJ5Kys7XG4gICAgICAgICAgICAgICAgbWluUmV0cnlCYWNrb2ZmID0gRGF0ZS5ub3coKSArIHJldHJ5QmFja29mZjtcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuY29uY2F0KGN1cnJlbnRCdWZmZXIpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlclNpemVCeXRlcyArPSBjdXJyZW50QnVmZmVyU2l6ZUtCO1xuICAgICAgICAgICAgICAgIGF3YWl0IHNldHVwVGltZW91dCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRCdWZmZXIubWFwKChkKSA9PiBkLnJlamVjdChlKSk7XG4gICAgICAgICAgICByZXRyeSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLypcbiAgICAgKiBTdGFydCB0aW1lb3V0IHRvIGZsdXNoXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gc2V0dXBUaW1lb3V0KCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgZmx1c2hUaW1lb3V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qXG4gICAgICogQmF0Y2hlciB3aGljaCB0YWtlcyBhIHByb2Nlc3MgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gZm4gLSBBbnkgZnVuY3Rpb24gdG8gcHJvY2VzcyBsaXN0XG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdFB1c2hlcjogZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICBjYiA9IGZuO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFB1c2hlcyBlYWNoIGxvZyBpbnRvIGxpc3RcbiAgICAgICAgICAgICAqIEBwYXJhbSBsb2c6IElMb2d0YWlsTG9nIC0gQW55IG9iamVjdCB0byBwdXNoIGludG8gbGlzdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gKGxvZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKHsgbG9nLCByZXNvbHZlLCByZWplY3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBza2lwIGxvZyBzaXplIGNhbGN1bGF0aW9uIGlmIHRoZXJlIGlzIG5vIG1heCBzaXplIHNldFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZUJ5dGVzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyU2l6ZUJ5dGVzICs9IGNhbGN1bGF0ZUxvZ1NpemVCeXRlcyhsb2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBidWZmZXIgaXMgZnVsbCBlbm91Z2gsIGZsdXNoIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIFVubGVzcyB3ZSdyZSBzdGlsbCB3YWl0aW5nIGZvciB0aGUgbWluaW11bSByZXRyeSBiYWNrb2ZmIHRpbWVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNCdWZmZXJGdWxsRW5vdWdoID0gYnVmZmVyLmxlbmd0aCA+PSBzaXplIHx8IChzaXplQnl0ZXMgPiAwICYmIGJ1ZmZlclNpemVCeXRlcyA+PSBzaXplQnl0ZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNCdWZmZXJGdWxsRW5vdWdoICYmIERhdGUubm93KCkgPiBtaW5SZXRyeUJhY2tvZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZXR1cFRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGZsdXNoLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXRjaC5qcy5tYXAiLCJjb25zdCBSRVNPTFVUSU9OID0gNjQ7XG4vKipcbiAqIENyZWF0ZSBhIGJ1cnN0IHByb3RlY3Rpb24gd2hpY2ggYWxsb3dzIHJ1bm5pbmcgZnVuY3Rpb24gb25seSBhIG51bWJlciBvZiB0aW1lcyBpbiBhIGNvbmZpZ3VyYWJsZSB3aW5kb3dcbiAqIEBwYXJhbSBtaWxsaXNlY29uZHMgLSBsZW5ndGggb2YgdGhlIGNoZWNrZWQgd2luZG93IGluIG1pbGxpc2Vjb25kc1xuICogQHBhcmFtIG1heCAtIG1heGltdW0gbnVtYmVyIG9mIGZ1bmN0aW9ucyB0byBydW4gaW4gdGhhdCB3aW5kb3dcbiAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBmdW5jdGlvbiBuYW1lIGZvciBlcnJvciBtZXNzYWdlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VCdXJzdFByb3RlY3Rpb24obWlsbGlzZWNvbmRzLCBtYXgsIGZ1bmN0aW9uTmFtZSA9IFwiVGhlIGZ1bmN0aW9uXCIpIHtcbiAgICBpZiAobWlsbGlzZWNvbmRzIDw9IDAgfHwgbWF4IDw9IDApIHtcbiAgICAgICAgcmV0dXJuIChmbikgPT4gZm47XG4gICAgfVxuICAgIGxldCBjYWxsQ291bnRzID0gWzBdO1xuICAgIGxldCBsYXN0RXJyb3JPdXRwdXQgPSAwO1xuICAgIGxldCBsYXN0SW50ZXJ2YWxUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBmdW5jdGlvbiB1cGRhdGVDYWxsQ291bnRzKCkge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBpbnRlcnZhbExlbmd0aCA9IG1pbGxpc2Vjb25kcyAvIFJFU09MVVRJT047XG4gICAgICAgIGlmIChub3cgPCBsYXN0SW50ZXJ2YWxUaW1lICsgaW50ZXJ2YWxMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmVwZW5kIGNhbGxDb3VudHMgd2l0aCBjb3JyZWN0IG51bWJlciBvZiB6ZXJvZXMgYW5kIGtlZXAgaXRzIGxlbmd0aCB0byBSRVNPTFVUSU9OIGF0IG1heFxuICAgICAgICBjb25zdCBpbnRlcnZhbENvdW50U2luY2VMYXN0ID0gTWF0aC5mbG9vcigobm93IC0gbGFzdEludGVydmFsVGltZSkgLyBpbnRlcnZhbExlbmd0aCk7XG4gICAgICAgIGNhbGxDb3VudHMgPSBBcnJheShNYXRoLm1pbihpbnRlcnZhbENvdW50U2luY2VMYXN0LCBSRVNPTFVUSU9OKSkuZmlsbCgwKS5jb25jYXQoY2FsbENvdW50cykuc2xpY2UoMCwgUkVTT0xVVElPTik7XG4gICAgICAgIGxhc3RJbnRlcnZhbFRpbWUgKz0gaW50ZXJ2YWxDb3VudFNpbmNlTGFzdCAqIGludGVydmFsTGVuZ3RoO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUb3RhbENhbGxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxDb3VudHMucmVkdWNlKCh0b3RhbCwgaXRlbSkgPT4gdG90YWwgKyBpdGVtKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5jcmVtZW50Q2FsbENvdW50KCkge1xuICAgICAgICBjYWxsQ291bnRzWzBdKys7XG4gICAgfVxuICAgIHJldHVybiAoZm4pID0+IHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVDYWxsQ291bnRzKCk7XG4gICAgICAgICAgICBpZiAoZ2V0VG90YWxDYWxsQ291bnQoKSA8IG1heCkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudENhbGxDb3VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBmbiguLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBpZiAobGFzdEVycm9yT3V0cHV0IDwgbm93IC0gbWlsbGlzZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgbGFzdEVycm9yT3V0cHV0ID0gbm93O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZnVuY3Rpb25OYW1lfSB3YXMgY2FsbGVkIG1vcmUgdGhhbiAke21heH0gdGltZXMgZHVyaW5nIGxhc3QgJHttaWxsaXNlY29uZHN9bXMuIElnbm9yaW5nLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idXJzdFByb3RlY3Rpb24uanMubWFwIiwiaW1wb3J0IFF1ZXVlIGZyb20gXCIuL3F1ZXVlXCI7XG4vKipcbiAqIENyZWF0ZSBhIHRocm90dGxlIHdoaWNoIHJ1bnMgdXAgdG8gYG1heGAgYXN5bmMgZnVuY3Rpb25zIGF0IG9uY2VcbiAqIEBwYXJhbSBtYXggLSBtYXhpbXVtIG51bWJlciBvZiBhc3luYyBmdW5jdGlvbnMgdG8gcnVuXG4gKiBAcGFyYW0gcXVldWVNYXggLSBtYXhpbXVtIG51bWJlciBvZiBmdW5jdGlvbnMgdG8gcXVldWUgKC0xID0gdW5saW1pdGVkLCBkZWZhdWx0KVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlVGhyb3R0bGUobWF4LCBxdWV1ZU1heCA9IC0xKSB7XG4gICAgLy8gQ3VycmVudCBpdGVyYXRpb24gY3ljbGVcbiAgICBsZXQgY3VycmVudCA9IDA7XG4gICAgLy8gQ3JlYXRlIGEgRklGTyBxdWV1ZVxuICAgIGNvbnN0IHF1ZXVlID0gbmV3IFF1ZXVlKCk7XG4gICAgLyoqXG4gICAgICogVGhyb3R0bGUgZnVuY3Rpb24gdGhhdCB0aHJvdHRsZXMgdGhlIHBhc3NlZCBmdW5jIGFjY29yZGluZyB0byBgbWF4YFxuICAgICAqIEBwYXJhbSBmbiAtIGFzeW5jIGZ1bmN0aW9uIHRvIHJlc29sdmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmbikge1xuICAgICAgICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSGFuZGxlciBmb3IgcmVzb2x2aW5nIHRoZSBQcm9taXNlIGNoYWluXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZXNvbHZlIGlmIHRoZSBgbWF4YCBoYXNuJ3QgYmVlbiBleGhhdXN0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPCBtYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudCB0aGUgYXZhaWxhYmxlIHNsb3Qgc2l6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBd2FpdCB0aGUgcGFzc2VkIGZ1bmN0aW9uIGhlcmUgZmlyc3QsIHRvIGRldGVybWluZSBpZiBhbnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlcnJvcnMgYXJlIHRocm93biwgc28gdGhleSBjYW4gYmUgaGFuZGxlZCBieSBvdXIgb3V0c2lkZSBgcmVqZWN0YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXdhaXQgZm4oLi4uYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGhhcyBub3cgcmVzb2x2ZWQsIG1ha2UgdGhlIHNsb3QgYXZhaWxhYmxlIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgaXRlbXMgd2FpdGluZyBpbiB0aGUgcXVldWUsIHJlc29sdmUgdGhlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUuc2hpZnQoKSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHF1ZXVlTWF4IDwgMCB8fCBxdWV1ZS5sZW5ndGggPCBxdWV1ZU1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGBtYXhgIGhhcyBiZWVuIGV4Y2VlZGVkIGFuZCBpZiBxdWV1ZSBsaW1pdCBoYXNuJ3QgYmVlbiBoaXQgLSBwdXNoIG9udG8gdGhlIHF1ZXVlIHRvIHdhaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWplY3QgdGhpcyBjYWxsIGR1ZSB0byBxdWV1ZSBsaW1pdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIlF1ZXVlIG1heCBsaW1pdCBleGNlZWRlZFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBhc3luYyBoYW5kbGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBSZXR1cm4gdGhlIHRocm90dGxlIGZ1bmN0aW9uXG4gICAgcmV0dXJuIHRocm90dGxlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3R0bGUuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBOb25FcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSkge1xuXHRcdHN1cGVyKE5vbkVycm9yLl9wcmVwYXJlU3VwZXJNZXNzYWdlKG1lc3NhZ2UpKTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG5cdFx0XHR2YWx1ZTogJ05vbkVycm9yJyxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cblx0XHRpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0XHRcdEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIE5vbkVycm9yKTtcblx0XHR9XG5cdH1cblxuXHRzdGF0aWMgX3ByZXBhcmVTdXBlck1lc3NhZ2UobWVzc2FnZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG5cdFx0fSBjYXRjaCB7XG5cdFx0XHRyZXR1cm4gU3RyaW5nKG1lc3NhZ2UpO1xuXHRcdH1cblx0fVxufVxuXG5jb25zdCBjb21tb25Qcm9wZXJ0aWVzID0gW1xuXHR7cHJvcGVydHk6ICduYW1lJywgZW51bWVyYWJsZTogZmFsc2V9LFxuXHR7cHJvcGVydHk6ICdtZXNzYWdlJywgZW51bWVyYWJsZTogZmFsc2V9LFxuXHR7cHJvcGVydHk6ICdzdGFjaycsIGVudW1lcmFibGU6IGZhbHNlfSxcblx0e3Byb3BlcnR5OiAnY29kZScsIGVudW1lcmFibGU6IHRydWV9XG5dO1xuXG5jb25zdCBpc0NhbGxlZCA9IFN5bWJvbCgnLnRvSlNPTiBjYWxsZWQnKTtcblxuY29uc3QgdG9KU09OID0gZnJvbSA9PiB7XG5cdGZyb21baXNDYWxsZWRdID0gdHJ1ZTtcblx0Y29uc3QganNvbiA9IGZyb20udG9KU09OKCk7XG5cdGRlbGV0ZSBmcm9tW2lzQ2FsbGVkXTtcblx0cmV0dXJuIGpzb247XG59O1xuXG5jb25zdCBkZXN0cm95Q2lyY3VsYXIgPSAoe1xuXHRmcm9tLFxuXHRzZWVuLFxuXHR0b18sXG5cdGZvcmNlRW51bWVyYWJsZSxcblx0bWF4RGVwdGgsXG5cdGRlcHRoXG59KSA9PiB7XG5cdGNvbnN0IHRvID0gdG9fIHx8IChBcnJheS5pc0FycmF5KGZyb20pID8gW10gOiB7fSk7XG5cblx0c2Vlbi5wdXNoKGZyb20pO1xuXG5cdGlmIChkZXB0aCA+PSBtYXhEZXB0aCkge1xuXHRcdHJldHVybiB0bztcblx0fVxuXG5cdGlmICh0eXBlb2YgZnJvbS50b0pTT04gPT09ICdmdW5jdGlvbicgJiYgZnJvbVtpc0NhbGxlZF0gIT09IHRydWUpIHtcblx0XHRyZXR1cm4gdG9KU09OKGZyb20pO1xuXHR9XG5cblx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZnJvbSkpIHtcblx0XHRpZiAodHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG5cdFx0XHR0b1trZXldID0gJ1tvYmplY3QgQnVmZmVyXSc7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdHRvW2tleV0gPSB2YWx1ZTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmICghc2Vlbi5pbmNsdWRlcyhmcm9tW2tleV0pKSB7XG5cdFx0XHRkZXB0aCsrO1xuXG5cdFx0XHR0b1trZXldID0gZGVzdHJveUNpcmN1bGFyKHtcblx0XHRcdFx0ZnJvbTogZnJvbVtrZXldLFxuXHRcdFx0XHRzZWVuOiBzZWVuLnNsaWNlKCksXG5cdFx0XHRcdGZvcmNlRW51bWVyYWJsZSxcblx0XHRcdFx0bWF4RGVwdGgsXG5cdFx0XHRcdGRlcHRoXG5cdFx0XHR9KTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdHRvW2tleV0gPSAnW0NpcmN1bGFyXSc7XG5cdH1cblxuXHRmb3IgKGNvbnN0IHtwcm9wZXJ0eSwgZW51bWVyYWJsZX0gb2YgY29tbW9uUHJvcGVydGllcykge1xuXHRcdGlmICh0eXBlb2YgZnJvbVtwcm9wZXJ0eV0gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodG8sIHByb3BlcnR5LCB7XG5cdFx0XHRcdHZhbHVlOiBmcm9tW3Byb3BlcnR5XSxcblx0XHRcdFx0ZW51bWVyYWJsZTogZm9yY2VFbnVtZXJhYmxlID8gdHJ1ZSA6IGVudW1lcmFibGUsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG5cbmNvbnN0IHNlcmlhbGl6ZUVycm9yID0gKHZhbHVlLCBvcHRpb25zID0ge30pID0+IHtcblx0Y29uc3Qge21heERlcHRoID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSA9IG9wdGlvbnM7XG5cblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcblx0XHRyZXR1cm4gZGVzdHJveUNpcmN1bGFyKHtcblx0XHRcdGZyb206IHZhbHVlLFxuXHRcdFx0c2VlbjogW10sXG5cdFx0XHRmb3JjZUVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRtYXhEZXB0aCxcblx0XHRcdGRlcHRoOiAwXG5cdFx0fSk7XG5cdH1cblxuXHQvLyBQZW9wbGUgc29tZXRpbWVzIHRocm93IHRoaW5ncyBiZXNpZGVzIEVycm9yIG9iamVjdHPigKZcblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIGBKU09OLnN0cmluZ2lmeSgpYCBkaXNjYXJkcyBmdW5jdGlvbnMuIFdlIGRvIHRvbywgdW5sZXNzIGEgZnVuY3Rpb24gaXMgdGhyb3duIGRpcmVjdGx5LlxuXHRcdHJldHVybiBgW0Z1bmN0aW9uOiAkeyh2YWx1ZS5uYW1lIHx8ICdhbm9ueW1vdXMnKX1dYDtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn07XG5cbmNvbnN0IGRlc2VyaWFsaXplRXJyb3IgPSAodmFsdWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuXHRjb25zdCB7bWF4RGVwdGggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9ID0gb3B0aW9ucztcblxuXHRpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdGNvbnN0IG5ld0Vycm9yID0gbmV3IEVycm9yKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgdW5pY29ybi9lcnJvci1tZXNzYWdlXG5cdFx0ZGVzdHJveUNpcmN1bGFyKHtcblx0XHRcdGZyb206IHZhbHVlLFxuXHRcdFx0c2VlbjogW10sXG5cdFx0XHR0b186IG5ld0Vycm9yLFxuXHRcdFx0bWF4RGVwdGgsXG5cdFx0XHRkZXB0aDogMFxuXHRcdH0pO1xuXHRcdHJldHVybiBuZXdFcnJvcjtcblx0fVxuXG5cdHJldHVybiBuZXcgTm9uRXJyb3IodmFsdWUpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHNlcmlhbGl6ZUVycm9yLFxuXHRkZXNlcmlhbGl6ZUVycm9yXG59O1xuIiwiaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiQGxvZ3RhaWwvdHlwZXNcIjtcbmltcG9ydCB7IG1ha2VCYXRjaCwgbWFrZUJ1cnN0UHJvdGVjdGlvbiwgbWFrZVRocm90dGxlLCBjYWxjdWxhdGVKc29uTG9nU2l6ZUJ5dGVzIH0gZnJvbSBcIkBsb2d0YWlsL3Rvb2xzXCI7XG5pbXBvcnQgeyBzZXJpYWxpemVFcnJvciB9IGZyb20gXCJzZXJpYWxpemUtZXJyb3JcIjtcbi8vIFNldCBkZWZhdWx0IG9wdGlvbnMgZm9yIExvZ3RhaWxcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIC8vIERlZmF1bHQgc3luYyBlbmRwb2ludCAocHJvdG9jb2wgKyBkb21haW4pXG4gICAgZW5kcG9pbnQ6IFwiaHR0cHM6Ly9pbi5sb2dzLmJldHRlcnN0YWNrLmNvbVwiLFxuICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIGxvZ3MgdG8gc3luYyBpbiBhIHNpbmdsZSByZXF1ZXN0IHRvIEJldHRlciBTdGFja1xuICAgIGJhdGNoU2l6ZTogMTAwMCxcbiAgICAvLyBTaXplIG9mIGxvZ3MgKGluIEtpQikgdG8gdHJpZ2dlciBzeW5jIHRvIEJldHRlciBTdGFjayAoMCB0byBkaXNhYmxlKVxuICAgIGJhdGNoU2l6ZUtpQjogMCxcbiAgICAvLyBNYXggaW50ZXJ2YWwgKGluIG1pbGxpc2Vjb25kcykgYmVmb3JlIGEgYmF0Y2ggb2YgbG9ncyBwcm9jZWVkcyB0byBzeW5jaW5nXG4gICAgYmF0Y2hJbnRlcnZhbDogMTAwMCxcbiAgICAvLyBNYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0byByZXRyeSBhIGZhaWxlZCBzeW5jIHJlcXVlc3RcbiAgICByZXRyeUNvdW50OiAzLFxuICAgIC8vIE1pbmltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZXRyeWluZyBhIGZhaWxlZCBzeW5jIHJlcXVlc3RcbiAgICByZXRyeUJhY2tvZmY6IDEwMCxcbiAgICAvLyBNYXhpbXVtIG51bWJlciBvZiBzeW5jIHJlcXVlc3RzIHRvIG1ha2UgY29uY3VycmVudGx5XG4gICAgc3luY01heDogNSxcbiAgICAvLyBNYXhpbXVtIG51bWJlciBvZiBzeW5jIHJlcXVlc3RzIHRoYXQgY2FuIGJlIHF1ZXVlZCAoLTEgZm9yIHVubGltaXRlZCBxdWV1ZSlcbiAgICBzeW5jUXVldWVkTWF4OiAxMDAsXG4gICAgLy8gTGVuZ3RoIG9mIHRoZSBjaGVja2VkIHdpbmRvdyBmb3IgbG9ncyBidXJzdCBwcm90ZWN0aW9uIGluIG1pbGxpc2Vjb25kcyAoMCB0byBkaXNhYmxlKVxuICAgIGJ1cnN0UHJvdGVjdGlvbk1pbGxpc2Vjb25kczogNTAwMCxcbiAgICAvLyBNYXhpbXVtIG51bWJlciBvZiBhY2NlcHRlZCBsb2dzIGluIHRoZSBzcGVjaWZpZWQgdGltZSB3aW5kb3cgKDAgdG8gZGlzYWJsZSlcbiAgICBidXJzdFByb3RlY3Rpb25NYXg6IDEwMDAwLFxuICAgIC8vIElmIHRydWUsIGVycm9ycyB3aGVuIHNlbmRpbmcgbG9ncyB3aWxsIGJlIGlnbm9yZWRcbiAgICAvLyBIYXMgcHJlY2VkZW5jZSBvdmVyIHRocm93RXhjZXB0aW9uc1xuICAgIGlnbm9yZUV4Y2VwdGlvbnM6IGZhbHNlLFxuICAgIC8vIElmIHRydWUsIGVycm9ycyB3aGVuIHNlbmRpbmcgbG9ncyB3aWxsIHJlc3VsdCBpbiBhIHRocm93biBleGNlcHRpb25cbiAgICB0aHJvd0V4Y2VwdGlvbnM6IGZhbHNlLFxuICAgIC8vIE1heGltdW0gZGVwdGggKG51bWJlciBvZiBhdHRyaWJ1dGUgbGV2ZWxzKSBvZiBhIGNvbnRleHQgb2JqZWN0XG4gICAgY29udGV4dE9iamVjdE1heERlcHRoOiA1MCxcbiAgICAvLyBQcm9kdWNlIGEgd2FybiBsb2cgd2hlbiBjb250ZXh0IG9iamVjdCBtYXggZGVwdGggaXMgcmVhY2hlZFxuICAgIGNvbnRleHRPYmplY3RNYXhEZXB0aFdhcm46IHRydWUsXG4gICAgLy8gUHJvZHVjZSBhIHdhcm5pbmcgd2hlbiBjaXJjdWxhciByZWZlcmVuY2UgaXMgZm91bmQgaW4gY29udGV4dCBvYmplY3RcbiAgICBjb250ZXh0T2JqZWN0Q2lyY3VsYXJSZWZXYXJuOiB0cnVlLFxuICAgIC8vIElmIHRydWUsIGFsbCBsb2dzIHdpbGwgYmUgc2VudCB0byBzdGFuZGFyZCBjb25zb2xlIG91dHB1dCBmdW5jdGlvbnMgKGNvbnNvbGUuaW5mbywgY29uc29sZS53YXJuLCAuLi4pXG4gICAgc2VuZExvZ3NUb0NvbnNvbGVPdXRwdXQ6IGZhbHNlLFxuICAgIC8vIElmIHRydWUsIGFsbCBsb2dzIHdpbGwgYmUgc2VudCB0byBCZXR0ZXIgU3RhY2tcbiAgICBzZW5kTG9nc1RvQmV0dGVyU3RhY2s6IHRydWUsXG4gICAgLy8gRnVuY3Rpb24gdG8gYmUgdXNlZCB0byBjYWxjdWxhdGUgc2l6ZSBvZiBsb2dzIGluIGJ5dGVzICh0byBldmFsdWF0ZSBiYXRjaFNpemVMaW1pdEtpQilcbiAgICBjYWxjdWxhdGVMb2dTaXplQnl0ZXM6IGNhbGN1bGF0ZUpzb25Mb2dTaXplQnl0ZXMsXG59O1xuLyoqXG4gKiBMb2d0YWlsIGNvcmUgY2xhc3MgZm9yIGxvZ2dpbmcgdG8gdGhlIEJldHRlciBTdGFjayBzZXJ2aWNlXG4gKi9cbmNsYXNzIExvZ3RhaWwge1xuICAgIC8qIENPTlNUUlVDVE9SICovXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBuZXcgTG9ndGFpbCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHNvdXJjZVRva2VuOiBzdHJpbmcgLSBQcml2YXRlIHNvdXJjZSB0b2tlbiBmb3IgbG9nZ2luZyB0byBCZXR0ZXIgU3RhY2tcbiAgICAgKiBAcGFyYW0gb3B0aW9ucz86IElMb2d0YWlsT3B0aW9ucyAtIE9wdGlvbmFsbHkgc3BlY2lmeSBMb2d0YWlsIG9wdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VUb2tlbiwgb3B0aW9ucykge1xuICAgICAgICAvLyBNaWRkbGV3YXJlXG4gICAgICAgIHRoaXMuX21pZGRsZXdhcmUgPSBbXTtcbiAgICAgICAgLy8gTnVtYmVyIG9mIGxvZ3MgbG9nZ2VkXG4gICAgICAgIHRoaXMuX2NvdW50TG9nZ2VkID0gMDtcbiAgICAgICAgLy8gTnVtYmVyIG9mIGxvZ3Mgc3VjY2Vzc2Z1bGx5IHN5bmNlZCB3aXRoIExvZ3RhaWxcbiAgICAgICAgdGhpcy5fY291bnRTeW5jZWQgPSAwO1xuICAgICAgICAvLyBOdW1iZXIgb2YgbG9ncyB0aGF0IGZhaWxlZCB0byBiZSBzeW5jZWQgdG8gTG9ndGFpbFxuICAgICAgICB0aGlzLl9jb3VudERyb3BwZWQgPSAwO1xuICAgICAgICAvLyBGaXJzdCwgY2hlY2sgd2UgaGF2ZSBhIHZhbGlkIHNvdXJjZSB0b2tlblxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVRva2VuICE9PSBcInN0cmluZ1wiIHx8IHNvdXJjZVRva2VuID09PSBcIlwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMb2d0YWlsIHNvdXJjZSB0b2tlbiBtaXNzaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlIHRoZSBzb3VyY2UgdG9rZW4sIHRvIHVzZSBmb3Igc3luY2luZyB3aXRoIEJldHRlciBTdGFja1xuICAgICAgICB0aGlzLl9zb3VyY2VUb2tlbiA9IHNvdXJjZVRva2VuO1xuICAgICAgICAvLyBNZXJnZSBkZWZhdWx0IGFuZCB1c2VyIG9wdGlvbnNcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgdGhyb3R0bGVyLCBmb3Igc3luYyBvcGVyYXRpb25zXG4gICAgICAgIGNvbnN0IHRocm90dGxlID0gbWFrZVRocm90dGxlKHRoaXMuX29wdGlvbnMuc3luY01heCwgdGhpcy5fb3B0aW9ucy5zeW5jUXVldWVkTWF4KTtcbiAgICAgICAgLy8gU3luYyBhZnRlciB0aHJvdHRsaW5nXG4gICAgICAgIGNvbnN0IHRocm90dGxlciA9IHRocm90dGxlKChsb2dzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3luYyhsb2dzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEJ1cnN0IHByb3RlY3Rpb24gZm9yIGxvZ2dpbmdcbiAgICAgICAgdGhpcy5fbG9nQnVyc3RQcm90ZWN0aW9uID0gbWFrZUJ1cnN0UHJvdGVjdGlvbih0aGlzLl9vcHRpb25zLmJ1cnN0UHJvdGVjdGlvbk1pbGxpc2Vjb25kcywgdGhpcy5fb3B0aW9ucy5idXJzdFByb3RlY3Rpb25NYXgsIFwiTG9nZ2luZ1wiKTtcbiAgICAgICAgdGhpcy5sb2cgPSB0aGlzLl9sb2dCdXJzdFByb3RlY3Rpb24odGhpcy5sb2cuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIGJhdGNoZXIsIGZvciBhZ2dyZWdhdGluZyBsb2dzIGJ5IGJ1ZmZlciBzaXplL2ludGVydmFsXG4gICAgICAgIGNvbnN0IGJhdGNoZXIgPSBtYWtlQmF0Y2godGhpcy5fb3B0aW9ucy5iYXRjaFNpemUsIHRoaXMuX29wdGlvbnMuYmF0Y2hJbnRlcnZhbCwgdGhpcy5fb3B0aW9ucy5yZXRyeUNvdW50LCB0aGlzLl9vcHRpb25zLnJldHJ5QmFja29mZiwgdGhpcy5fb3B0aW9ucy5iYXRjaFNpemVLaUIgKiAxMDI0LCB0aGlzLl9vcHRpb25zLmNhbGN1bGF0ZUxvZ1NpemVCeXRlcyk7XG4gICAgICAgIHRoaXMuX2JhdGNoID0gYmF0Y2hlci5pbml0UHVzaGVyKChsb2dzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3R0bGVyKGxvZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZmx1c2ggPSBiYXRjaGVyLmZsdXNoO1xuICAgIH1cbiAgICAvKiBQVUJMSUMgTUVUSE9EUyAqL1xuICAgIC8qKlxuICAgICAqIEZsdXNoIGJhdGNoZWQgbG9ncyB0byBMb2d0YWlsXG4gICAgICovXG4gICAgYXN5bmMgZmx1c2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mbHVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgZW50cmllcyBsb2dnZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIG51bWJlclxuICAgICAqL1xuICAgIGdldCBsb2dnZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb3VudExvZ2dlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGxvZyBlbnRyaWVzIHN5bmNlZCB3aXRoIEJldHRlciBTdGFja1xuICAgICAqXG4gICAgICogQHJldHVybnMgbnVtYmVyXG4gICAgICovXG4gICAgZ2V0IHN5bmNlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50U3luY2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgZW50cmllcyBkcm9wcGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBudW1iZXJcbiAgICAgKi9cbiAgICBnZXQgZHJvcHBlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50RHJvcHBlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9nIGFuIGVudHJ5LCB0byBiZSBzeW5jZWQgd2l0aCBCZXR0ZXIgU3RhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlOiBzdHJpbmcgLSBMb2cgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBsZXZlbCAoTG9nTGV2ZWwpIC0gTGV2ZWwgdG8gbG9nIGF0IChkZWJ1Z3xpbmZvfHdhcm58ZXJyb3IpXG4gICAgICogQHBhcmFtIGNvbnRleHQ6IChDb250ZXh0KSAtIENvbnRleHQgKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SUxvZ3RhaWxMb2c+IGFmdGVyIHN5bmNpbmdcbiAgICAgKi9cbiAgICBhc3luYyBsb2cobWVzc2FnZSwgbGV2ZWwgPSBMb2dMZXZlbC5JbmZvLCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgLy8gV3JhcCBjb250ZXh0IGluIGFuIG9iamVjdCwgaWYgaXQncyBub3QgYWxyZWFkeVxuICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRDb250ZXh0ID0geyBleHRyYTogY29udGV4dCB9O1xuICAgICAgICAgICAgY29udGV4dCA9IHdyYXBwZWRDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRDb250ZXh0ID0geyBlcnJvcjogY29udGV4dCB9O1xuICAgICAgICAgICAgY29udGV4dCA9IHdyYXBwZWRDb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNlbmRMb2dzVG9Db25zb2xlT3V0cHV0KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlYnVnXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcobWVzc2FnZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhtZXNzYWdlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIndhcm5cIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFske2xldmVsLnRvVXBwZXJDYXNlKCl9XWAsIG1lc3NhZ2UsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayB0aGF0IHdlIGhhdmUgYSBzeW5jIGZ1bmN0aW9uXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fc3luYyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBMb2d0YWlsIGxvZ2dlciBzeW5jIGZ1bmN0aW9uIHByb3ZpZGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluY3JlbWVudCBsb2cgY291bnRcbiAgICAgICAgdGhpcy5fY291bnRMb2dnZWQrKztcbiAgICAgICAgLy8gU3RhcnQgYnVpbGRpbmcgdGhlIGxvZyBtZXNzYWdlXG4gICAgICAgIGxldCBsb2cgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBcbiAgICAgICAgICAgIC8vIEltcGxpY2l0IGRhdGUgdGltZXN0YW1wXG4gICAgICAgICAgICBkdDogbmV3IERhdGUoKSwgXG4gICAgICAgICAgICAvLyBFeHBsaWNpdCBsZXZlbFxuICAgICAgICAgICAgbGV2ZWwgfSwgY29udGV4dCksIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IgPyBzZXJpYWxpemVFcnJvcihtZXNzYWdlKSA6IHsgbWVzc2FnZSB9KSk7XG4gICAgICAgIGxldCB0cmFuc2Zvcm1lZExvZyA9IGxvZztcbiAgICAgICAgZm9yIChjb25zdCBtaWRkbGV3YXJlIG9mIHRoaXMuX21pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgIGxldCBuZXdUcmFuc2Zvcm1lZExvZyA9IGF3YWl0IG1pZGRsZXdhcmUodHJhbnNmb3JtZWRMb2cpO1xuICAgICAgICAgICAgaWYgKG5ld1RyYW5zZm9ybWVkTG9nID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBwdXNoIHRoZSBsb2cgaWYgaXQgd2FzIGZpbHRlcmVkIG91dCBpbiBhIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRMb2c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFuc2Zvcm1lZExvZyA9IG5ld1RyYW5zZm9ybWVkTG9nO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hbnVhbGx5IHNlcmlhbGl6ZSB0aGUgbG9nIGRhdGFcbiAgICAgICAgdHJhbnNmb3JtZWRMb2cgPSB0aGlzLnNlcmlhbGl6ZSh0cmFuc2Zvcm1lZExvZywgdGhpcy5fb3B0aW9ucy5jb250ZXh0T2JqZWN0TWF4RGVwdGgpO1xuICAgICAgICBpZiAoIXRoaXMuX29wdGlvbnMuc2VuZExvZ3NUb0JldHRlclN0YWNrKSB7XG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBsb2cgYmVmb3JlIHNlbmRpbmcgaXRcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZExvZztcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUHVzaCB0aGUgbG9nIHRocm91Z2ggdGhlIGJhdGNoZXIsIGFuZCBzeW5jXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9iYXRjaCh0cmFuc2Zvcm1lZExvZyk7XG4gICAgICAgICAgICAvLyBJbmNyZW1lbnQgc3luYyBjb3VudFxuICAgICAgICAgICAgdGhpcy5fY291bnRTeW5jZWQrKztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSW5jcmVtZW50IGRyb3BwZWQgY291bnRcbiAgICAgICAgICAgIHRoaXMuX2NvdW50RHJvcHBlZCsrO1xuICAgICAgICAgICAgLy8gQ2F0Y2ggYW55IGVycm9ycyAtIHJlLXRocm93IGlmIGBpZ25vcmVFeGNlcHRpb25zYCA9PSBmYWxzZVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmlnbm9yZUV4Y2VwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy50aHJvd0V4Y2VwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE91dHB1dCB0byBjb25zb2xlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIGxvZ1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRMb2c7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgbWF4RGVwdGgsIHZpc2l0ZWRPYmplY3RzID0gbmV3IFdlYWtTZXQoKSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAvLyBEYXRlIGluc3RhbmNlcyBjYW4gYmUgaW52YWxpZCAmIHRvSVNPU3RyaW5nKCkgd2lsbCBmYWlsXG4gICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUVycm9yKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKSAmJiAobWF4RGVwdGggPCAxIHx8IHZpc2l0ZWRPYmplY3RzLmhhcyh2YWx1ZSkpKSB7XG4gICAgICAgICAgICBpZiAodmlzaXRlZE9iamVjdHMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmNvbnRleHRPYmplY3RDaXJjdWxhclJlZldhcm4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbTG9ndGFpbF0gRm91bmQgYSBjaXJjdWxhciByZWZlcmVuY2Ugd2hlbiBzZXJpYWxpemluZyBsb2dzLiBQbGVhc2UgZG8gbm90IHVzZSBjaXJjdWxhciByZWZlcmVuY2VzIGluIHlvdXIgbG9ncy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPG9taXR0ZWQgY2lyY3VsYXIgcmVmZXJlbmNlPlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY29udGV4dE9iamVjdE1heERlcHRoV2Fybikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW0xvZ3RhaWxdIE1heCBkZXB0aCBvZiAke3RoaXMuX29wdGlvbnMuY29udGV4dE9iamVjdE1heERlcHRofSByZWFjaGVkIHdoZW4gc2VyaWFsaXppbmcgbG9ncy4gUGxlYXNlIGRvIG5vdCB1c2UgZXhjZXNzaXZlIG9iamVjdCBkZXB0aCBpbiB5b3VyIGxvZ3MuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYDxvbWl0dGVkIGNvbnRleHQgYmV5b25kIGNvbmZpZ3VyZWQgbWF4IGRlcHRoOiAke3RoaXMuX29wdGlvbnMuY29udGV4dE9iamVjdE1heERlcHRofT5gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB2aXNpdGVkT2JqZWN0cy5hZGQodmFsdWUpO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZEFycmF5ID0gdmFsdWUubWFwKChpdGVtKSA9PiB0aGlzLnNlcmlhbGl6ZShpdGVtLCBtYXhEZXB0aCAtIDEsIHZpc2l0ZWRPYmplY3RzKSk7XG4gICAgICAgICAgICB2aXNpdGVkT2JqZWN0cy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRBcnJheTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRPYmplY3QgPSB7fTtcbiAgICAgICAgICAgIHZpc2l0ZWRPYmplY3RzLmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGl0ZW1bMF07XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpdGVtWzFdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRWYWx1ZSA9IHRoaXMuc2VyaWFsaXplKHZhbHVlLCBtYXhEZXB0aCAtIDEsIHZpc2l0ZWRPYmplY3RzKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VyaWFsaXplZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXplZE9iamVjdFtrZXldID0gc2VyaWFsaXplZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmlzaXRlZE9iamVjdHMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVkT2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBgPG9taXR0ZWQgdW5zZXJpYWxpemFibGUgJHt0eXBlb2YgdmFsdWV9PmA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBEZWJ1ZyBsZXZlbCBsb2csIHRvIGJlIHN5bmNlZCB3aXRoIEJldHRlciBTdGFja1xuICAgICAqXG4gICAgICogQHBhcmFtIG1lc3NhZ2U6IHN0cmluZyAtIExvZyBtZXNzYWdlXG4gICAgICogQHBhcmFtIGNvbnRleHQ6IChQaWNrPElMb2d0YWlsTG9nLCBcImNvbnRleHRcIj4pIC0gQ29udGV4dCAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxJTG9ndGFpbExvZz4gYWZ0ZXIgc3luY2luZ1xuICAgICAqL1xuICAgIGFzeW5jIGRlYnVnKG1lc3NhZ2UsIGNvbnRleHQgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2cobWVzc2FnZSwgTG9nTGV2ZWwuRGVidWcsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEluZm8gbGV2ZWwgbG9nLCB0byBiZSBzeW5jZWQgd2l0aCBCZXR0ZXIgU3RhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlOiBzdHJpbmcgLSBMb2cgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBjb250ZXh0OiAoUGljazxJTG9ndGFpbExvZywgXCJjb250ZXh0XCI+KSAtIENvbnRleHQgKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SUxvZ3RhaWxMb2c+IGFmdGVyIHN5bmNpbmdcbiAgICAgKi9cbiAgICBhc3luYyBpbmZvKG1lc3NhZ2UsIGNvbnRleHQgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2cobWVzc2FnZSwgTG9nTGV2ZWwuSW5mbywgY29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogV2FybmluZyBsZXZlbCBsb2csIHRvIGJlIHN5bmNlZCB3aXRoIEJldHRlciBTdGFja1xuICAgICAqXG4gICAgICogQHBhcmFtIG1lc3NhZ2U6IHN0cmluZyAtIExvZyBtZXNzYWdlXG4gICAgICogQHBhcmFtIGNvbnRleHQ6IChQaWNrPElMb2d0YWlsTG9nLCBcImNvbnRleHRcIj4pIC0gQ29udGV4dCAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxJTG9ndGFpbExvZz4gYWZ0ZXIgc3luY2luZ1xuICAgICAqL1xuICAgIGFzeW5jIHdhcm4obWVzc2FnZSwgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhtZXNzYWdlLCBMb2dMZXZlbC5XYXJuLCBjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXYXJuaW5nIGxldmVsIGxvZywgdG8gYmUgc3luY2VkIHdpdGggQmV0dGVyIFN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZTogc3RyaW5nIC0gTG9nIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gY29udGV4dDogKFBpY2s8SUxvZ3RhaWxMb2csIFwiY29udGV4dFwiPikgLSBDb250ZXh0IChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPElMb2d0YWlsTG9nPiBhZnRlciBzeW5jaW5nXG4gICAgICovXG4gICAgYXN5bmMgZXJyb3IobWVzc2FnZSwgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhtZXNzYWdlLCBMb2dMZXZlbC5FcnJvciwgY29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN5bmMgbWV0aG9kIC0gaS5lLiB0aGUgZmluYWwgc3RlcCBpbiB0aGUgcGlwZWxpbmUgdG8gZ2V0IGxvZ3NcbiAgICAgKiBvdmVyIHRvIEJldHRlciBTdGFja1xuICAgICAqXG4gICAgICogQHBhcmFtIGZuIC0gUGlwZWxpbmUgZnVuY3Rpb24gdG8gdXNlIGFzIHN5bmMgbWV0aG9kXG4gICAgICovXG4gICAgc2V0U3luYyhmbikge1xuICAgICAgICB0aGlzLl9zeW5jID0gZm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gdGhlIGxvZ2dpbmcgcGlwZWxpbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbiAtIEZ1bmN0aW9uIHRvIGFkZCB0byB0aGUgbG9nIHBpcGVsaW5lXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqL1xuICAgIHVzZShmbikge1xuICAgICAgICB0aGlzLl9taWRkbGV3YXJlLnB1c2goZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBmdW5jdGlvbiBmcm9tIHRoZSBwaXBlbGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIGZuIC0gUGlwZWxpbmUgZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgcmVtb3ZlKGZuKSB7XG4gICAgICAgIHRoaXMuX21pZGRsZXdhcmUgPSB0aGlzLl9taWRkbGV3YXJlLmZpbHRlcigocCkgPT4gcCAhPT0gZm4pO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgTG9ndGFpbCB7XG4gICAgYXN5bmMgbG9nKG1lc3NhZ2UsIGxldmVsID0gTG9nTGV2ZWwuSW5mbywgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHJldHVybiBzdXBlci5sb2cobWVzc2FnZSwgbGV2ZWwsIGNvbnRleHQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UuanMubWFwIiwiaW1wb3J0IHsgQmFzZSB9IGZyb20gXCJAbG9ndGFpbC9jb3JlXCI7XG4vLyBBd2FpdGluZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTcxNzIyXG4vLyBpbXBvcnQgeyBnZXRVc2VyQWdlbnQgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5leHBvcnQgY2xhc3MgQnJvd3NlciBleHRlbmRzIEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZVRva2VuLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIEFmdGVyIHJlYWNoaW5nIDQ4S2lCLCB0aGUgYmF0Y2ggd2lsbCBnZXQgZmx1c2hlZCBhdXRvbWF0aWNhbGx5IHRvIGF2b2lkIDY0S2lCIGJvZHkgbGltaXQgZm9yIGtlZXBhbGl2ZSByZXF1ZXN0c1xuICAgICAgICBzdXBlcihzb3VyY2VUb2tlbiwgT2JqZWN0LmFzc2lnbih7IGJhdGNoU2l6ZUtpQjogNDggfSwgb3B0aW9ucykpO1xuICAgICAgICAvLyBTeW5jIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IHN5bmMgPSBhc3luYyAobG9ncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy5fb3B0aW9ucy5lbmRwb2ludCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuX3NvdXJjZVRva2VufWAsXG4gICAgICAgICAgICAgICAgICAgIC8vIEF3YWl0aW5nOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01NzE3MjJcbiAgICAgICAgICAgICAgICAgICAgLy8gXCJVc2VyLUFnZW50XCI6IGdldFVzZXJBZ2VudCgpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShsb2dzKSxcbiAgICAgICAgICAgICAgICBrZWVwYWxpdmU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9ncztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVE9ETzogaWYgc3RhdHVzIGlzIDUweCB0aHJvdyBjdXN0b20gU2VydmVyRXJyb3JcbiAgICAgICAgICAgICAqIHRvIGJlIHVzZWQgaW4gcmV0cnkgbG9naWNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5zdGF0dXNUZXh0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IHRoZSB0aHJvdHRsZWQgc3luYyBmdW5jdGlvblxuICAgICAgICB0aGlzLnNldFN5bmMoc3luYyk7XG4gICAgICAgIHRoaXMuY29uZmlndXJlRmx1c2hPblBhZ2VMZWF2ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBgQmFzZWAgbG9nIHRvIGFkZCBicm93c2VyLXNwZWNpZmljIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlOiBzdHJpbmcgLSBMb2cgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBsZXZlbCAoTG9nTGV2ZWwpIC0gTGV2ZWwgdG8gbG9nIGF0IChkZWJ1Z3xpbmZvfHdhcm58ZXJyb3IpXG4gICAgICogQHBhcmFtIGNvbnRleHQ6IChDb250ZXh0KSAtIExvZyBjb250ZXh0IGZvciBwYXNzaW5nIHN0cnVjdHVyZWQgZGF0YVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SUxvZ3RhaWxMb2c+IGFmdGVyIHN5bmNpbmdcbiAgICAgKi9cbiAgICBhc3luYyBsb2cobWVzc2FnZSwgbGV2ZWwsIGNvbnRleHQgPSB7fSkge1xuICAgICAgICAvLyBXcmFwIGNvbnRleHQgaW4gYW4gb2JqZWN0LCBpZiBpdCdzIG5vdCBhbHJlYWR5XG4gICAgICAgIGlmICh0eXBlb2YgY29udGV4dCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZENvbnRleHQgPSB7IGV4dHJhOiBjb250ZXh0IH07XG4gICAgICAgICAgICBjb250ZXh0ID0gd3JhcHBlZENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZENvbnRleHQgPSB7IGVycm9yOiBjb250ZXh0IH07XG4gICAgICAgICAgICBjb250ZXh0ID0gd3JhcHBlZENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRDdXJyZW50Q29udGV4dCgpKSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBzdXBlci5sb2cobWVzc2FnZSwgbGV2ZWwsIGNvbnRleHQpO1xuICAgIH1cbiAgICBnZXRDdXJyZW50Q29udGV4dCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQudXJsID0gKF9hID0gd2luZG93LmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaHJlZjtcbiAgICAgICAgICAgIGNvbnRleHQuZGV2aWNlX3BpeGVsX3JhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgICAgICBjb250ZXh0LnNjcmVlbl93aWR0aCA9IChfYiA9IHdpbmRvdy5zY3JlZW4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi53aWR0aDtcbiAgICAgICAgICAgIGNvbnRleHQuc2NyZWVuX2hlaWdodCA9IChfYyA9IHdpbmRvdy5zY3JlZW4pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5oZWlnaHQ7XG4gICAgICAgICAgICBjb250ZXh0LndpbmRvd193aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgY29udGV4dC53aW5kb3dfaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBjb250ZXh0LnVzZXJfbG9jYWxlID0gbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gICAgICAgICAgICBjb250ZXh0LnVzZXJfYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbiAgICBjb25maWd1cmVGbHVzaE9uUGFnZUxlYXZlKCkge1xuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci5qcy5tYXAiLCIvKipcbiAqIExvZ2dlciBVdGlsaXR5XG4gKiBDZW50cmFsaXplZCBMb2d0YWlsIGluaXRpYWxpemF0aW9uLlxuICovXG5cbmltcG9ydCB7IExvZ3RhaWwgfSBmcm9tIFwiQGxvZ3RhaWwvYnJvd3NlclwiO1xuXG4vLyBLZWVwIHR5cGVzIGZvciBjb21wYXRpYmlsaXR5IGlmIG5lZWRlZCwgb3IgZGVwcmVjYXRlIHRoZW0gZnVsbHkgaWYgdW51c2VkLlxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICBERUJVRyA9IDAsXG4gIElORk8gPSAxLFxuICBXQVJOID0gMixcbiAgRVJST1IgPSAzLFxuICBOT05FID0gNCxcbn1cblxuZXhwb3J0IHR5cGUgTG9nSG9vayA9IChsZXZlbDogTG9nTGV2ZWwsIG5hbWVzcGFjZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcsIGRhdGE/OiB1bmtub3duKSA9PiB2b2lkO1xuXG4vKipcbiAqIFNpbmdsZXRvbi1saWtlIGZhY3RvcnkgZm9yIGNyZWF0aW5nIHRoZSBMb2d0YWlsIGluc3RhbmNlLlxuICogSW4gYSBDaHJvbWUgZXh0ZW5zaW9uLCB0aGlzIHdpbGwgc3RpbGwgcnVuIG9uY2UgcGVyIGNvbnRleHQgKEJhY2tncm91bmQsIENvbnRlbnQsIFBvcHVwKSxcbiAqIGNyZWF0aW5nIGEgc2VwYXJhdGUgaW5zdGFuY2UgZm9yIGVhY2gsIHdoaWNoIGlzIHJlcXVpcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9nZ2VyKCk6IExvZ3RhaWwge1xuICByZXR1cm4gbmV3IExvZ3RhaWwoXCJQS1NYVnlHZHNjNHdzTEZFeVozUmFVazhcIiwge1xuICAgIGVuZHBvaW50OiAnaHR0cHM6Ly9zMTcwOTEzOC5ldS1mc24tMy5iZXR0ZXJzdGFja2RhdGEuY29tJyxcbiAgICBiYXRjaFNpemU6IDMwLFxuICAgIGJhdGNoSW50ZXJ2YWw6IDEwMDAsXG4gICAgcmV0cnlDb3VudDogMixcbiAgfSk7XG59XG4iLCIvKipcbiAqIEFtYXpvbiBTaXRlIEludGVncmF0aW9uXG4gKiBJbmplY3RlZCBvbiBhbWF6b24uY29tIGFuZCBhbWF6b24uY29tLmF1IHBhZ2VzIHRvIGRldGVjdCBwcm9kdWN0IGNhcmRzIGFuZCBwZXJmb3JtIHNob3BwaW5nIGFjdGlvbnNcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IFRvb2xSZXN1bHQgfSBmcm9tICdAL3R5cGVzL3Rvb2xzJztcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5cblxuLy8gY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignQU1BWk9OJyk7XG5jb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoKTtcblxuY29uc3QgU0VBUkNIX1RFTVBMQVRFID0gJ2h0dHBzOi8vd3d3LmFtYXpvbi5bRE9NQUlOXS9zP2s9W1FVRVJZXSc7XG5cbi8qKlxuICogQW1hem9uIFByb2R1Y3QgQ2FyZCBTZWxlY3RvcnNcbiAqIFRoZXNlIHNlbGVjdG9ycyB0YXJnZXQgc3BlY2lmaWMgZWxlbWVudHMgd2l0aGluIEFtYXpvbiBzZWFyY2ggcmVzdWx0IHBhZ2VzXG4gKiB0byBleHRyYWN0IHByb2R1Y3QgaW5mb3JtYXRpb24gZm9yIExMTSBmaWx0ZXJpbmcgYW5kIGNhcnQgb3BlcmF0aW9ucy5cbiAqL1xuY29uc3QgU0VMRUNUT1JTID0ge1xuICAvLyBQcm9kdWN0IGNhcmQgY29udGFpbmVyIC0gaWRlbnRpZmllcyBlYWNoIHNlYXJjaCByZXN1bHQgaXRlbVxuICByZXN1bHRfaXRlbTogJ2RpdltkYXRhLWNvbXBvbmVudC10eXBlPVwicy1zZWFyY2gtcmVzdWx0XCJdJyxcbiAgLy8gUHJvZHVjdCB0aXRsZSAtIGV4YWN0IHBhdGggdG8gdGl0bGUgdGV4dFxuICB0aXRsZTogJ2EgPiBoMiA+IHNwYW4nLFxuICAvLyBQcm9kdWN0IHByaWNlIC0gd2hvbGUgZG9sbGFyIGFtb3VudCAoZXhjbHVkaW5nIGNlbnRzKVxuICBwcmljZTogJ3NwYW4uYS1wcmljZS13aG9sZScsXG4gIC8vIFByb2R1Y3QgcmF0aW5nIC0gc3RhciByYXRpbmcgdmFsdWUgKDAtNSBzY2FsZSkgLSB1cGRhdGVkIHRvIGJlIG1vcmUgcm9idXN0XG4gIHJhdGluZzpcbiAgICAnc3BhblthcmlhLWxhYmVsKj1cIm91dCBvZiA1IHN0YXJzXCJdLCBpW2RhdGEtaG9vaz1cImF2ZXJhZ2Utc3Rhci1yYXRpbmdcIl0gc3Bhbi5hLWljb24tYWx0LCAuYS1pY29uLXN0YXItc21hbGwgc3Bhbi5hLWljb24tYWx0JyxcbiAgLy8gUmV2aWV3cyBjb3VudCAtIG51bWJlciBvZiBjdXN0b21lciByZXZpZXdzXG4gIHJldmlld3M6ICdzcGFuW2FyaWEtbGFiZWwqPVwicmF0aW5nc1wiXSwgYVtocmVmKj1cIiNjdXN0b21lclJldmlld3NcIl0gc3BhbicsXG4gIC8vIFByb2R1Y3QgbGluayAtIGFuY2hvciB0YWcgdG8gcHJvZHVjdCBkZXRhaWwgcGFnZVxuICBsaW5rOiAnYS5hLWxpbmstbm9ybWFsLnMtbm8tb3V0bGluZSwgaDIgYScsXG59O1xuXG5jb25zdCBBVENfU0VMRUNUT1JTID0gW1xuICAnI2FkZC10by1jYXJ0LWJ1dHRvbicsXG4gICcjYWRkLXRvLWNhcnQtYnV0dG9uLXViYicsXG4gICcjYWRkLXRvLWNhcnQtYnV0dG9uIC5hLWJ1dHRvbi1pbnB1dCcsXG5dO1xuY29uc3QgU1JQX0FUQ19TRUxFQ1RPUlMgPSBbXG4gICdidXR0b25bbmFtZT1cInN1Ym1pdC5hZGRUb0NhcnRcIl0nLFxuICAnYnV0dG9uW2RhdGEtYWN0aW9uPVwiYWRkLXRvLWNhcnRcIl0nLFxuICAnaW5wdXRbbmFtZT1cInN1Ym1pdC5hZGQtdG8tY2FydFwiXScsXG4gICcuYS1idXR0b24taW5wdXRbYXJpYS1sYWJlbCo9XCJBZGQgdG8gQ2FydFwiXScsXG4gICdmb3JtW2FjdGlvbio9XCJhZGQtdG8tY2FydFwiXSBpbnB1dFt0eXBlPVwic3VibWl0XCJdJyxcbl07XG5jb25zdCBWQVJJQU5UX1NFTEVDVE9SUyA9IFwic2VsZWN0W2lkKj0ndmFyaWF0aW9uJ10sIHNlbGVjdFtpZF49J25hdGl2ZV9kcm9wZG93biddXCI7XG5cbi8qKlxuICogQ2FydCBhbmQgY2hlY2tvdXQgc2VsZWN0b3JzXG4gKiBUaGVzZSBhcmUgdXNlZCBhZnRlciBwcm9kdWN0IHNlbGVjdGlvbiB0byBwcm9jZWVkIHRvIHB1cmNoYXNlXG4gKi9cbmNvbnN0IENBUlRfU0VMRUNUT1JTID0ge1xuICAvLyBDYXJ0IGJ1dHRvbiAtIGF2YWlsYWJsZSBvbiBhbGwgcGFnZXNcbiAgY2FydEJ1dHRvbjogJyNuYXYtY2FydCcsXG4gIC8vIFByb2NlZWQgdG8gY2hlY2tvdXQgYnV0dG9uIC0gb25seSBhcHBlYXJzIGluIGNhcnQgcGFnZSBhZnRlciBwcm9kdWN0IGlzIGFkZGVkXG4gIHByb2NlZWRUb0NoZWNrb3V0OiAnI3NjLWJ1eS1ib3gtcHRjLWJ1dHRvbiA+IHNwYW4gPiBpbnB1dCcsXG59O1xuXG4vKipcbiAqIFByb2R1Y3QgZGV0YWlsIHBhZ2Ugc2VsZWN0b3JzXG4gKi9cbmNvbnN0IFBST0RVQ1RfUEFHRV9TRUxFQ1RPUlMgPSB7XG4gIC8vIEFkZCB0byBjYXJ0IGJ1dHRvbiBvbiBwcm9kdWN0IGRldGFpbCBwYWdlXG4gIGFkZFRvQ2FydEJ1dHRvbjogJyNhZGQtdG8tY2FydC1idXR0b24nLFxufTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzZWxlY3RvciB0byBuYXZpZ2F0ZSB0byBwcm9kdWN0IHNwZWNzL2RldGFpbHMgdXNpbmcgVVVJRFxuICogRm9ybWF0OiBbUHJvZHVjdC11dWlkXSA+IGRpdiA+IGRpdiA+IHNwYW4gPiBkaXYgPiBkaXYgPiBkaXYuYS1zZWN0aW9uLmEtc3BhY2luZy1zbWFsbC5wdWlzLXBhZGRpbmctbGVmdC1zbWFsbC5wdWlzLXBhZGRpbmctcmlnaHQtc21hbGwgPiBkaXYuYS1zZWN0aW9uLmEtc3BhY2luZy1ub25lLmEtc3BhY2luZy10b3Atc21hbGwucy10aXRsZS1pbnN0cnVjdGlvbnMtc3R5bGUgPiBhXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUHJvZHVjdFNwZWNzU2VsZWN0b3IocHJvZHVjdFV1aWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgW2RhdGEtdXVpZD1cIiR7cHJvZHVjdFV1aWR9XCJdID4gZGl2ID4gZGl2ID4gc3BhbiA+IGRpdiA+IGRpdiA+IGRpdi5hLXNlY3Rpb24uYS1zcGFjaW5nLXNtYWxsLnB1aXMtcGFkZGluZy1sZWZ0LXNtYWxsLnB1aXMtcGFkZGluZy1yaWdodC1zbWFsbCA+IGRpdi5hLXNlY3Rpb24uYS1zcGFjaW5nLW5vbmUuYS1zcGFjaW5nLXRvcC1zbWFsbC5zLXRpdGxlLWluc3RydWN0aW9ucy1zdHlsZSA+IGFgO1xufVxuXG5mdW5jdGlvbiBwYXJzZVByaWNlKHByaWNlVGV4dD86IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICBpZiAoIXByaWNlVGV4dCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGNsZWFuZWQgPSBwcmljZVRleHQucmVwbGFjZSgvW14wLTkuLC1dL2csICcnKS5yZXBsYWNlKC8sL2csICcnKTtcbiAgY29uc3QgbiA9IHBhcnNlRmxvYXQoY2xlYW5lZCk7XG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobikgPyBuIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcGFyc2VSYXRpbmcocmF0aW5nVGV4dD86IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICBpZiAoIXJhdGluZ1RleHQpIHJldHVybiBudWxsO1xuICAvLyBFeHRyYWN0IHJhdGluZyBsaWtlIFwiNC41IG91dCBvZiA1IHN0YXJzXCIgb3IganVzdCBcIjQuNVwiXG4gIGNvbnN0IG1hdGNoID0gcmF0aW5nVGV4dC5tYXRjaCgvKFtcXGQuXSspXFxzKig/Om91dCBvZiA1KT8vaSk7XG4gIGlmIChtYXRjaCkge1xuICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgICAvLyBPbmx5IGFjY2VwdCByYXRpbmdzIGJldHdlZW4gMCBhbmQgNVxuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobikgJiYgbiA+PSAwICYmIG4gPD0gNSkge1xuICAgICAgcmV0dXJuIG47XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZVJldmlld3MocmV2aWV3c1RleHQ/OiBzdHJpbmcpOiBudW1iZXIgfCBudWxsIHtcbiAgaWYgKCFyZXZpZXdzVGV4dCkgcmV0dXJuIG51bGw7XG4gIC8vIEV4dHJhY3QgbnVtYmVyIGxpa2UgXCIxLDIzNFwiIG9yIFwiKDEyMzQpXCIgb3IgXCIxLDIzNCByYXRpbmdzXCJcbiAgY29uc3QgY2xlYW5lZCA9IHJldmlld3NUZXh0LnJlcGxhY2UoL1teMC05XS9nLCAnJyk7XG4gIGlmIChjbGVhbmVkLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IG4gPSBwYXJzZUludChjbGVhbmVkLCAxMCk7XG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobikgJiYgbiA+PSAwID8gbiA6IG51bGw7XG59XG5cbi8qKlxuICogRGV0ZWN0cyBhbmQgZXh0cmFjdHMgcHJvZHVjdCBjYXJkcyBmcm9tIEFtYXpvbiBzZWFyY2ggcmVzdWx0IHBhZ2VzXG4gKiBSZXR1cm5zIHN0cnVjdHVyZWQgZGF0YSBvcHRpbWl6ZWQgZm9yIExMTSBmaWx0ZXJpbmdcbiAqXG4gKiBAcmV0dXJucyBBcnJheSBvZiBwcm9kdWN0IG9iamVjdHMgd2l0aCBmaWVsZHM6IGRhdGEtdXVpZCwgdGl0bGUsIHByaWNlLCByYXRpbmcsIHJldmlld3MsIGxpbmtcbiAqL1xuZnVuY3Rpb24gZGV0ZWN0UHJvZHVjdENhcmRzKCkge1xuICBsb2dnZXIuaW5mbyhcbiAgICAnXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5SNIFtBTUFaT05dIFBST0RVQ1QgREVURUNUSU9OIFNUQVJURURcXG4nICtcbiAgICAn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJyArXG4gICAgYPCfk40gQ3VycmVudCBVUkw6ICR7d2luZG93LmxvY2F0aW9uLmhyZWZ9YFxuICApO1xuXG4gIC8vIENoZWNrIGlmIHdlJ3JlIG9uIGEgcHJvZHVjdCBkZXRhaWwgcGFnZSBmaXJzdFxuICBpZiAoXG4gICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvZHAvJykgfHxcbiAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJy9ncC9wcm9kdWN0LycpXG4gICkge1xuICAgIGxvZ2dlci5pbmZvKCfihLnvuI8gIERldGVjdGVkIFBST0RVQ1QgREVUQUlMIFBBR0UgLSBzd2l0Y2hpbmcgdG8gc2luZ2xlIHByb2R1Y3QgZGV0ZWN0aW9uJyk7XG4gICAgcmV0dXJuIGRldGVjdFNpbmdsZVByb2R1Y3RQYWdlKCk7XG4gIH1cblxuICAvLyBDaGVjayBpZiB3ZSdyZSBvbiBob21lcGFnZVxuICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnLycgfHwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSAnJykge1xuICAgIGxvZ2dlci5pbmZvKCfihLnvuI8gIERldGVjdGVkIEhPTUVQQUdFIC0gbm8gc2VhcmNoIHJlc3VsdHMgdG8gZXh0cmFjdCcpO1xuICAgIGxvZ2dlci5pbmZvKCfwn5KhIFRJUDogVHJ5IHNlYXJjaGluZyBmb3IgYSBwcm9kdWN0IGZpcnN0LCB0aGVuIHVzZSB0aGUgYXNzaXN0YW50Jyk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgbG9nZ2VyLmluZm8oYPCfk40gVXNpbmcgc2VsZWN0b3I6IFwiJHtTRUxFQ1RPUlMucmVzdWx0X2l0ZW19XCJgKTtcbiAgY29uc3QgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JTLnJlc3VsdF9pdGVtKTtcbiAgbG9nZ2VyLmluZm8oYOKckyBGb3VuZCAke3Jlc3VsdHMubGVuZ3RofSBwcm9kdWN0IGNvbnRhaW5lcnNcXG5gKTtcblxuICAvLyBJZiBubyByZXN1bHRzIGZvdW5kIHdpdGggcHJpbWFyeSBzZWxlY3RvciwgdHJ5IGFsdGVybmF0aXZlIHNlbGVjdG9yc1xuICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICBsb2dnZXIuaW5mbygn4pqg77iPICBObyByZXN1bHRzIHdpdGggcHJpbWFyeSBzZWxlY3RvciwgdHJ5aW5nIGFsdGVybmF0aXZlcy4uLicpO1xuICAgIGNvbnN0IGFsdFNlbGVjdG9ycyA9IFtcbiAgICAgICdkaXZbZGF0YS1hc2luXTpub3QoW2RhdGEtYXNpbj1cIlwiXSknLFxuICAgICAgJy5zLXJlc3VsdC1pdGVtW2RhdGEtYXNpbl0nLFxuICAgICAgJ2Rpdi5zLXJlc3VsdC1pdGVtJyxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBhbHRTZWxlY3RvciBvZiBhbHRTZWxlY3RvcnMpIHtcbiAgICAgIGNvbnN0IGFsdFJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFsdFNlbGVjdG9yKTtcbiAgICAgIGxvZ2dlci5pbmZvKGAgIPCfk40gVHJ5aW5nIFwiJHthbHRTZWxlY3Rvcn1cIjogZm91bmQgJHthbHRSZXN1bHRzLmxlbmd0aH1gKTtcbiAgICAgIGlmIChhbHRSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oYCAg4pyTIFVzaW5nIGFsdGVybmF0aXZlIHNlbGVjdG9yOiBcIiR7YWx0U2VsZWN0b3J9XCJgKTtcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RQcm9kdWN0c0Zyb21FbGVtZW50cyhhbHRSZXN1bHRzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2dnZXIuaW5mbygn4p2MIE5vIHByb2R1Y3RzIGZvdW5kIHdpdGggYW55IHNlbGVjdG9yJyk7XG4gICAgbG9nZ2VyLmluZm8oXCLwn5KhIFRJUDogTWFrZSBzdXJlIHlvdSdyZSBvbiBhIHNlYXJjaCByZXN1bHRzIHBhZ2VcIik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIGV4dHJhY3RQcm9kdWN0c0Zyb21FbGVtZW50cyhyZXN1bHRzKTtcbn1cblxuLyoqXG4gKiBEZXRlY3QgYW5kIGV4dHJhY3Qgc2luZ2xlIHByb2R1Y3QgZnJvbSBwcm9kdWN0IGRldGFpbCBwYWdlXG4gKi9cbmZ1bmN0aW9uIGRldGVjdFNpbmdsZVByb2R1Y3RQYWdlKCk6IGFueVtdIHtcbiAgY29uc3QgdGl0bGVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9kdWN0VGl0bGUsICN0aXRsZScpO1xuICBjb25zdCBwcmljZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAnLmEtcHJpY2UgLmEtb2Zmc2NyZWVuLCAjcHJpY2VibG9ja19vdXJwcmljZSwgI3ByaWNlYmxvY2tfZGVhbHByaWNlJ1xuICApO1xuICBjb25zdCByYXRpbmdFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhY3JQb3BvdmVyIC5hLWljb24tYWx0LCAuYS1pY29uLXN0YXIgLmEtaWNvbi1hbHQnKTtcblxuICBpZiAoIXRpdGxlRWwpIHtcbiAgICBsb2dnZXIuaW5mbygn4p2MIENvdWxkIG5vdCBmaW5kIHByb2R1Y3QgdGl0bGUgb24gcHJvZHVjdCBwYWdlJyk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgdGl0bGUgPSAodGl0bGVFbC50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpO1xuICBjb25zdCBwcmljZSA9IHBhcnNlUHJpY2UocHJpY2VFbCA/IChwcmljZUVsLnRleHRDb250ZW50IHx8ICcnKS50cmltKCkgOiB1bmRlZmluZWQpO1xuICBjb25zdCByYXRpbmcgPSBwYXJzZVJhdGluZyhyYXRpbmdFbCA/IChyYXRpbmdFbC50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpIDogdW5kZWZpbmVkKTtcblxuICBsb2dnZXIuaW5mbyhg4pyTIEZvdW5kIHNpbmdsZSBwcm9kdWN0OiAke3RpdGxlfWApO1xuICBsb2dnZXIuaW5mbyhgICDwn5KwIFByaWNlOiAke3ByaWNlfWApO1xuICBsb2dnZXIuaW5mbyhgICDirZAgUmF0aW5nOiAke3JhdGluZ31gKTtcblxuICByZXR1cm4gW1xuICAgIHtcbiAgICAgICdkYXRhLXV1aWQnOiAnc2luZ2xlLXByb2R1Y3QnLFxuICAgICAgdGl0bGUsXG4gICAgICBwcmljZSxcbiAgICAgIHJhdGluZyxcbiAgICAgIHJldmlld3M6IG51bGwsXG4gICAgICBsaW5rOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIHNlbGVjdG9yOiAnI3Byb2R1Y3RUaXRsZScsXG4gICAgICBwcmljZU51bWJlcjogcHJpY2UsXG4gICAgICBpc0RldGFpbFBhZ2U6IHRydWUsXG4gICAgfSxcbiAgXTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gZXh0cmFjdCBwcm9kdWN0cyBmcm9tIGEgTm9kZUxpc3Qgb2YgZWxlbWVudHNcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdFByb2R1Y3RzRnJvbUVsZW1lbnRzKHJlc3VsdHM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gfCBFbGVtZW50W10pOiBhbnlbXSB7XG4gIGNvbnN0IGNhcmRzOiBhbnlbXSA9IFtdO1xuXG4gIC8vIExpbWl0IHRvIGZpcnN0IDEwLTIwIHByb2R1Y3RzIGZvciBMTE0gcHJvY2Vzc2luZ1xuICBjb25zdCBsaW1pdGVkUmVzdWx0cyA9IEFycmF5LmZyb20ocmVzdWx0cykuc2xpY2UoMCwgMjApO1xuICBsb2dnZXIuaW5mbyhg8J+TiiBQcm9jZXNzaW5nIGZpcnN0ICR7bGltaXRlZFJlc3VsdHMubGVuZ3RofSBwcm9kdWN0cy4uLlxcbmApO1xuXG4gIGxpbWl0ZWRSZXN1bHRzLmZvckVhY2goKHIsIGluZGV4KSA9PiB7XG4gICAgY29uc29sZS5ncm91cChg8J+bje+4jyAgUHJvZHVjdCAjJHtpbmRleCArIDF9YCk7XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGludmlzaWJsZSBwcm9kdWN0cyAoemVybyB3aWR0aCBvciBoZWlnaHQpXG4gICAgaWYgKCFpc0VsZW1lbnRWaXNpYmxlKHIgYXMgRWxlbWVudCkpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCfinYwgU0tJUFBFRCAtIE5vdCB2aXNpYmxlJyk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIG91dCBzcG9uc29yZWQgcHJvZHVjdHNcbiAgICBjb25zdCB0ZXh0ID0gKHIudGV4dENvbnRlbnQgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHRleHQuaW5jbHVkZXMoJ3Nwb25zb3JlZCcpKSB7XG4gICAgICBsb2dnZXIuaW5mbygn4p2MIFNLSVBQRUQgLSBTcG9uc29yZWQgcHJvZHVjdCcpO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsID0gciBhcyBFbGVtZW50O1xuXG4gICAgLy8gRXh0cmFjdCBkYXRhLXV1aWQgKHVuaXF1ZSBpZGVudGlmaWVyKSBmcm9tIGNvbnRhaW5lciBhdHRyaWJ1dGVzXG4gICAgY29uc3QgZGF0YVV1aWQgPVxuICAgICAgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXV1aWQnKSB8fCBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXNpbicpIHx8IGBwcm9kdWN0LSR7aW5kZXh9YDtcblxuICAgIC8vIEV4dHJhY3QgdGl0bGUgdXNpbmcgZXhhY3Qgc2VsZWN0b3JcbiAgICBjb25zdCB0aXRsZUVsID0gZWwucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMudGl0bGUpO1xuICAgIGNvbnN0IHRpdGxlID0gdGl0bGVFbCA/ICh0aXRsZUVsLnRleHRDb250ZW50IHx8ICcnKS50cmltKCkgOiBudWxsO1xuXG4gICAgLy8gRXh0cmFjdCBwcmljZSB1c2luZyBleGFjdCBzZWxlY3RvclxuICAgIGNvbnN0IHByaWNlRWwgPSBlbC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5wcmljZSk7XG4gICAgY29uc3QgcHJpY2VUZXh0ID0gcHJpY2VFbCA/IChwcmljZUVsLnRleHRDb250ZW50IHx8ICcnKS50cmltKCkgOiBudWxsO1xuICAgIGNvbnN0IHByaWNlID0gcGFyc2VQcmljZShwcmljZVRleHQgfHwgdW5kZWZpbmVkKTtcblxuICAgIC8vIEV4dHJhY3QgcmF0aW5nIHVzaW5nIGV4YWN0IHNlbGVjdG9yXG4gICAgY29uc3QgcmF0aW5nRWwgPSBlbC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SUy5yYXRpbmcpO1xuICAgIGNvbnN0IHJhdGluZ1RleHQgPSByYXRpbmdFbCA/IChyYXRpbmdFbC50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpIDogbnVsbDtcblxuICAgIC8vIFNraXAgcHJvZHVjdHMgd2l0aCBpbnZhbGlkIHJhdGluZyB0ZXh0IChuYXZpZ2F0aW9uIGVsZW1lbnRzLCBldGMuKVxuICAgIGlmIChcbiAgICAgIHJhdGluZ1RleHQgJiZcbiAgICAgIChyYXRpbmdUZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3ByZXZpb3VzJykgfHxcbiAgICAgICAgcmF0aW5nVGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCduZXh0JykgfHxcbiAgICAgICAgcmF0aW5nVGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdwYWdlJykpXG4gICAgKSB7XG4gICAgICBsb2dnZXIuaW5mbygn4p2MIFNLSVBQRUQgLSBJbnZhbGlkIHJhdGluZyB0ZXh0IGRldGVjdGVkIChuYXZpZ2F0aW9uIGVsZW1lbnQpJyk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmF0aW5nID0gcGFyc2VSYXRpbmcocmF0aW5nVGV4dCB8fCB1bmRlZmluZWQpO1xuXG4gICAgLy8gRXh0cmFjdCByZXZpZXdzIGNvdW50IHVzaW5nIGV4YWN0IHNlbGVjdG9yXG4gICAgY29uc3QgcmV2aWV3c0VsID0gZWwucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMucmV2aWV3cyk7XG4gICAgY29uc3QgcmV2aWV3c1RleHQgPSByZXZpZXdzRWwgPyAocmV2aWV3c0VsLnRleHRDb250ZW50IHx8ICcnKS50cmltKCkgOiBudWxsO1xuICAgIGNvbnN0IHJldmlld3MgPSBwYXJzZVJldmlld3MocmV2aWV3c1RleHQgfHwgdW5kZWZpbmVkKTtcblxuICAgIC8vIEV4dHJhY3QgcHJvZHVjdCBkZXRhaWwgcGFnZSBsaW5rXG4gICAgY29uc3QgbGlua0VsID0gZWwucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMubGluaykgYXMgSFRNTEFuY2hvckVsZW1lbnQgfCBudWxsO1xuICAgIGNvbnN0IGxpbmsgPSBsaW5rRWwgPyBsaW5rRWwuaHJlZiA6IG51bGw7XG5cbiAgICAvLyBTa2lwIGl0ZW1zIHdpdGhvdXQgdGl0bGUgb3IgcHJpY2UgKGludmFsaWQvaW5jb21wbGV0ZSBwcm9kdWN0cylcbiAgICBpZiAoIXRpdGxlKSB7XG4gICAgICBsb2dnZXIuaW5mbygn4p2MIFNLSVBQRUQgLSBObyB0aXRsZSBmb3VuZCcpO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocHJpY2UgPT09IG51bGwpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCfinYwgU0tJUFBFRCAtIE5vIHByaWNlIGZvdW5kJyk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHN0cnVjdHVyZWQgZGF0YSBmb3IgTExNIGZpbHRlcmluZ1xuICAgIGNvbnN0IHByb2R1Y3REYXRhID0ge1xuICAgICAgJ2RhdGEtdXVpZCc6IGRhdGFVdWlkLFxuICAgICAgdGl0bGUsXG4gICAgICBwcmljZSxcbiAgICAgIHJhdGluZyxcbiAgICAgIHJldmlld3MsXG4gICAgICBsaW5rLFxuICAgICAgLy8gS2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgc2VsZWN0b3I6IGdlbmVyYXRlU2VsZWN0b3IoZWwpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHByaWNlTnVtYmVyOiBwcmljZSxcbiAgICB9O1xuXG4gICAgLy8gTG9nIHRoZSBjb25jZW50cmF0ZWQgZGF0YSBvYmplY3RcbiAgICBsb2dnZXIuaW5mbygn8J+TpiBQcm9kdWN0IGV4dHJhY3RlZDonLCB7XG4gICAgICB1dWlkOiBkYXRhVXVpZCxcbiAgICAgIHRpdGxlLFxuICAgICAgcHJpY2VUZXh0LFxuICAgICAgcHJpY2VQYXJzZWQ6IHByaWNlLFxuICAgICAgcmF0aW5nVGV4dCxcbiAgICAgIHJhdGluZ1BhcnNlZDogcmF0aW5nLFxuICAgICAgcmV2aWV3c1RleHQsXG4gICAgICByZXZpZXdzUGFyc2VkOiByZXZpZXdzLFxuICAgICAgbGlua1xuICAgIH0pO1xuXG4gICAgY2FyZHMucHVzaChwcm9kdWN0RGF0YSk7XG5cbiAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gIH0pO1xuXG4gIGxvZ2dlci5pbmZvKFxuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nICtcbiAgICAn8J+TpiBFWFRSQUNUSU9OIENPTVBMRVRFXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgIGDwn5OKIFRvdGFsIGNvbnRhaW5lcnMgZm91bmQ6ICR7cmVzdWx0cy5sZW5ndGh9XFxuYCArXG4gICAgYOKckyBWYWxpZCBwcm9kdWN0cyBleHRyYWN0ZWQ6ICR7Y2FyZHMubGVuZ3RofVxcbmAgK1xuICAgICdcXG7wn5OLIFBST0RVQ1RTIEJFSU5HIFNFTlQgVE8gTExNIChGVUxMIFRJVExFUyAtIE5PVCBUUlVOQ0FURUQpOlxcbidcbiAgKTtcblxuICAvLyBMb2cgZWFjaCBwcm9kdWN0IGluIGEgc3RydWN0dXJlZCwgaHVtYW4tcmVhZGFibGUgZm9ybWF0XG4gIGxldCBtc2dzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNhcmRzLmZvckVhY2goKHByb2R1Y3QsIGluZGV4KSA9PiB7XG4gICAgbXNncy5wdXNoKFxuICAgICAgYFxcbvCfm43vuI8gIFBST0RVQ1QgJHtpbmRleCArIDF9OlxcbmAgK1xuICAgICAgYCAgIPCfk50gVGl0bGU6ICAgJHtwcm9kdWN0LnRpdGxlfVxcbmAgK1xuICAgICAgYCAgIPCfkrAgUHJpY2U6ICAgJCR7cHJvZHVjdC5wcmljZX1cXG5gICtcbiAgICAgIGAgICDirZAgUmF0aW5nOiAgJHtwcm9kdWN0LnJhdGluZyB8fCAnTi9BJ31cXG5gICtcbiAgICAgIGAgICDwn5KsIFJldmlld3M6ICR7cHJvZHVjdC5yZXZpZXdzIHx8ICdOL0EnfVxcbmAgK1xuICAgICAgYCAgIPCflJcgTGluazogICAgJHtwcm9kdWN0Lmxpbmt9XFxuYCArXG4gICAgICBgICAg8J+Pt++4jyAgVVVJRDogICAgJHtwcm9kdWN0WydkYXRhLXV1aWQnXX1gXG4gICAgKTtcbiAgfSk7XG4gIGxvZ2dlci5pbmZvKG1zZ3Muam9pbignJykpO1xuXG4gIGxvZ2dlci5pbmZvKCdcXG7wn5OKIFNVTU1BUlkgVEFCTEU6Jyk7XG4gIGNvbnNvbGUudGFibGUoXG4gICAgY2FyZHMubWFwKChwKSA9PiAoe1xuICAgICAgJ1RpdGxlIChGdWxsKSc6IHAudGl0bGUsIC8vIE5vIHRydW5jYXRpb25cbiAgICAgIFByaWNlOiBgJCR7cC5wcmljZX1gLFxuICAgICAgUmF0aW5nOiBwLnJhdGluZyB8fCAnTi9BJyxcbiAgICAgIFJldmlld3M6IHAucmV2aWV3cyB8fCAnTi9BJyxcbiAgICB9KSlcbiAgKTtcblxuICBsb2dnZXIuaW5mbygnXFxu8J+ThCBGVUxMIEpTT04gREFUQSAoZm9yIExMTSk6Jyk7XG4gIGxvZ2dlci5pbmZvKEpTT04uc3RyaW5naWZ5KGNhcmRzLCBudWxsLCAyKSk7XG4gIGxvZ2dlci5pbmZvKCfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nKTtcblxuICByZXR1cm4gY2FyZHM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFkZFRvQ2FydChhcmdzOiBhbnkpOiBQcm9taXNlPFRvb2xSZXN1bHQ+IHtcbiAgbG9nZ2VyLmluZm8oXG4gICAgJ1xcbicgK1xuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nICtcbiAgICAn8J+bkiBbQU1BWk9OXSBFWEVDVVRJTkc6IEFERCBUTyBDQVJUXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5OLIEFyZ3VtZW50cyByZWNlaXZlZDpcXG4nICtcbiAgICBKU09OLnN0cmluZ2lmeShhcmdzLCBudWxsLCAyKSArXG4gICAgJ1xcbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbidcbiAgKTtcblxuICB0cnkge1xuICAgIGlmIChkZXRlY3RDYXB0Y2hhKCkpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCfimqDvuI8gIENBUFRDSEEgZGV0ZWN0ZWQgLSBhYm9ydGluZyBhY3Rpb24nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0NBUFRDSEEgZGV0ZWN0ZWQgLSBwYXVzaW5nIGFjdGlvbnMnLFxuICAgICAgICBkYXRhOiB7IGNhcHRjaGE6IHRydWUgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgYWRkVG9DYXJ0U2VsZWN0b3IgaXMgcHJvdmlkZWQgKHByZS1kZXRlY3RlZCBmcm9tIFNSUCksIHRyeSBpdCBmaXJzdFxuICAgIGlmIChhcmdzLmFkZFRvQ2FydFNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIuaW5mbyhg8J+UjSBUcnlpbmcgcHJlLWRldGVjdGVkIEFUQyBzZWxlY3RvcjogJHthcmdzLmFkZFRvQ2FydFNlbGVjdG9yfWApO1xuICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhcmdzLmFkZFRvQ2FydFNlbGVjdG9yKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgICBpZiAoYnRuICYmICFidG4uZGlzYWJsZWQpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+KckyBCdXR0b24gZm91bmQgYW5kIGVuYWJsZWQgLSBjbGlja2luZycpO1xuICAgICAgICBidG4uY2xpY2soKTtcbiAgICAgICAgYXdhaXQgc2xlZXAoNDAwICsgTWF0aC5yYW5kb20oKSAqIDYwMCk7XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogQ2xpY2tlZCBwcmUtZGV0ZWN0ZWQgU1JQIGJ1dHRvblxcbicpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGNsaWNrZWQ6ICdzcnBfcHJlZGV0ZWN0ZWQnIH0gfTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5pbmZvKCfinYwgQnV0dG9uIG5vdCBmb3VuZCBvciBkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIC8vIElmIHByb2R1Y3QgY2FyZCBzZWxlY3RvciBpcyBwcm92aWRlZCwgbG9vayBmb3IgYWRkLXRvLWNhcnQgd2l0aGluIGl0XG4gICAgaWYgKGFyZ3Muc2VsZWN0b3IpIHtcbiAgICAgIGxvZ2dlci5pbmZvKGDwn5SNIFRyeWluZyBwcm9kdWN0IGNhcmQgc2VsZWN0b3I6ICR7YXJncy5zZWxlY3Rvcn1gKTtcbiAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFyZ3Muc2VsZWN0b3IpIGFzIEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+KckyBQcm9kdWN0IGNhcmQgZm91bmQnKTtcbiAgICAgICAgZm9yIChjb25zdCBzZWwgb2YgU1JQX0FUQ19TRUxFQ1RPUlMpIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbyhgICDwn5SNIFRyeWluZyBBVEMgc2VsZWN0b3I6ICR7c2VsfWApO1xuICAgICAgICAgIGNvbnN0IGF0Y0J0biA9IGNhcmQucXVlcnlTZWxlY3RvcihzZWwpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICAgICAgICBpZiAoYXRjQnRuICYmICFhdGNCdG4uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcgIOKckyBCdXR0b24gZm91bmQgYW5kIGVuYWJsZWQgLSBjbGlja2luZycpO1xuICAgICAgICAgICAgYXRjQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBhd2FpdCBzbGVlcCg0MDAgKyBNYXRoLnJhbmRvbSgpICogNjAwKTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogQ2xpY2tlZCBTUlAgY2FyZCBidXR0b25cXG4nKTtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgY2xpY2tlZDogJ3NycF9jYXJkJyB9IH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinYwgTm8gZW5hYmxlZCBBVEMgYnV0dG9uIGZvdW5kIGluIGNhcmQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinYwgUHJvZHVjdCBjYXJkIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERpcmVjdCBVUkwgbmF2aWdhdGlvbiAtIG1vc3QgcmVsaWFibGUgbWV0aG9kXG4gICAgLy8gVXNlIHRoZSBleHRyYWN0ZWQgbGluayBVUkwgaW5zdGVhZCBvZiB0cnlpbmcgdG8gZmluZCBhbmQgY2xpY2sgZWxlbWVudHNcbiAgICBpZiAoYXJncy5saW5rKSB7XG4gICAgICBsb2dnZXIuaW5mbyhg8J+UlyBOYXZpZ2F0aW5nIHRvIHByb2R1Y3QgcGFnZTogJHthcmdzLmxpbmt9YCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGFyZ3MubGluaztcbiAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogTmF2aWdhdGlvbiBpbml0aWF0ZWRcXG4nKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgbmF2aWdhdGVkVG9QRFA6IHRydWUsIHVybDogYXJncy5saW5rIH0gfTtcbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjazogSWYgcHJvZHVjdElkIHBhc3NlZCB3aXRob3V0IGxpbmssIHRyeSB0byBmaW5kIHRoZSBwcm9kdWN0IFVSTFxuICAgIGlmIChhcmdzLnByb2R1Y3RJZCkge1xuICAgICAgbG9nZ2VyLmluZm8oYPCflI0gVHJ5aW5nIHRvIGZpbmQgcHJvZHVjdCBieSBJRDogJHthcmdzLnByb2R1Y3RJZH1gKTtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYFtkYXRhLWFzaW49JyR7YXJncy5wcm9kdWN0SWR9J10sIGFbaHJlZio9Jy8ke2FyZ3MucHJvZHVjdElkfSddYFxuICAgICAgKTtcbiAgICAgIGlmIChlbCkge1xuICAgICAgICBjb25zdCBhbmNob3IgPSAoZWwgYXMgSFRNTEVsZW1lbnQpLmNsb3Nlc3QoJ2EnKSBhcyBIVE1MQW5jaG9yRWxlbWVudCB8IG51bGw7XG4gICAgICAgIGlmIChhbmNob3I/LmhyZWYpIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbyhg4pyTIFByb2R1Y3QgbGluayBmb3VuZDogJHthbmNob3IuaHJlZn1gKTtcbiAgICAgICAgICAvLyBVc2UgZGlyZWN0IG5hdmlnYXRpb24gaW5zdGVhZCBvZiBjbGlja2luZ1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYW5jaG9yLmhyZWY7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ+KchSBTdWNjZXNzOiBOYXZpZ2F0aW9uIGluaXRpYXRlZFxcbicpO1xuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgbmF2aWdhdGVkVG9QRFA6IHRydWUsIHVybDogYW5jaG9yLmhyZWYgfSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsb2dnZXIuaW5mbygn4p2MIFByb2R1Y3QgbGluayBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICAvLyBWYXJpYW50IGhhbmRsaW5nXG4gICAgbG9nZ2VyLmluZm8oJ/CflI0gQ2hlY2tpbmcgZm9yIHZhcmlhbnQgc2VsZWN0b3JzJyk7XG4gICAgY29uc3QgdmFyaWFudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoVkFSSUFOVF9TRUxFQ1RPUlMpIGFzIEhUTUxTZWxlY3RFbGVtZW50IHwgbnVsbDtcbiAgICBpZiAodmFyaWFudCAmJiB2YXJpYW50Lm9wdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgbG9nZ2VyLmluZm8oJ+KckyBWYXJpYW50IHNlbGVjdG9yIGZvdW5kIC0gc2VsZWN0aW5nIGZpcnN0IG9wdGlvbicpO1xuICAgICAgdmFyaWFudC5zZWxlY3RlZEluZGV4ID0gMTtcbiAgICAgIHZhcmlhbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICBhd2FpdCBzbGVlcCg1MDAgKyBNYXRoLnJhbmRvbSgpICogNjAwKTtcbiAgICB9XG5cbiAgICAvLyBUcnkgYWRkLXRvLWNhcnQgc2VsZWN0b3JzXG4gICAgbG9nZ2VyLmluZm8oJ/CflI0gVHJ5aW5nIHN0YW5kYXJkIEFUQyBzZWxlY3RvcnMnKTtcbiAgICBmb3IgKGNvbnN0IHNlbCBvZiBBVENfU0VMRUNUT1JTKSB7XG4gICAgICBsb2dnZXIuaW5mbyhgICDwn5SNIFRyeWluZzogJHtzZWx9YCk7XG4gICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKGJ0biAmJiAhYnRuLmRpc2FibGVkKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCcgIOKckyBCdXR0b24gZm91bmQgYW5kIGVuYWJsZWQgLSBjbGlja2luZycpO1xuICAgICAgICBidG4uY2xpY2soKTtcbiAgICAgICAgYXdhaXQgc2xlZXAoNTAwICsgTWF0aC5yYW5kb20oKSAqIDcwMCk7XG4gICAgICAgIGxvZ2dlci5pbmZvKGDinIUgU3VjY2VzczogQ2xpY2tlZCBidXR0b24gd2l0aCBzZWxlY3RvciAke3NlbH1cXG5gKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBjbGlja2VkOiBzZWwgfSB9O1xuICAgICAgfVxuICAgIH1cbiAgICBsb2dnZXIuaW5mbygn4p2MIE5vIGVuYWJsZWQgYnV0dG9ucyBmb3VuZCB3aXRoIHN0YW5kYXJkIHNlbGVjdG9ycycpO1xuXG4gICAgLy8gRmFsbGJhY2s6IFVzZSBYUGF0aC9UZXh0IHNlYXJjaCBmb3IgXCJBZGQgdG8gQ2FydFwiIGJ1dHRvbiAocm9idXN0IGFnYWluc3Qgc2VsZWN0b3IgY2hhbmdlcylcbiAgICBsb2dnZXIuaW5mbygn8J+UjSBUcnlpbmcgdGV4dC1iYXNlZCBidXR0b24gc2VhcmNoJyk7XG4gICAgY29uc3QgdGV4dEJ1dHRvbnMgPSBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgJ2J1dHRvbiwgaW5wdXRbdHlwZT1cInN1Ym1pdFwiXSwgaW5wdXRbdHlwZT1cImJ1dHRvblwiXSwgYS5hLWJ1dHRvbi10ZXh0J1xuICAgICAgKVxuICAgICk7XG4gICAgY29uc3QgdGFyZ2V0QnRuID0gdGV4dEJ1dHRvbnMuZmluZCgoYikgPT4ge1xuICAgICAgY29uc3QgdGV4dCA9IChiLnRleHRDb250ZW50IHx8IChiIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIHx8ICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICh0ZXh0ID09PSAnYWRkIHRvIGNhcnQnIHx8IHRleHQgPT09ICdhZGQgdG8gYmFza2V0JykgJiYgIShiIGFzIEhUTUxCdXR0b25FbGVtZW50KS5kaXNhYmxlZFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGlmICh0YXJnZXRCdG4pIHtcbiAgICAgIGxvZ2dlci5pbmZvKGDinJMgRm91bmQgYnV0dG9uIHdpdGggdGV4dDogXCIke3RhcmdldEJ0bi50ZXh0Q29udGVudH1cImApO1xuICAgICAgKHRhcmdldEJ0biBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgICAgIGF3YWl0IHNsZWVwKDUwMCArIE1hdGgucmFuZG9tKCkgKiA3MDApO1xuICAgICAgbG9nZ2VyLmluZm8oJ+KchSBTdWNjZXNzOiBDbGlja2VkIHRleHQtbWF0Y2hlZCBidXR0b25cXG4nKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgY2xpY2tlZDogJ3RleHRfbWF0Y2gnLCB0ZXh0OiB0YXJnZXRCdG4udGV4dENvbnRlbnQgfSB9O1xuICAgIH1cblxuICAgIGxvZ2dlci5pbmZvKCfinYwgRkFJTEVEOiBObyBhZGQtdG8tY2FydCBidXR0b24gZm91bmRcXG4nKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0FkZCB0byBjYXJ0IG5vdCBhdmFpbGFibGUgb3IgYmxvY2tlZCAtIHRyaWVkIHNlbGVjdG9ycyBhbmQgdGV4dCBtYXRjaCcsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRVJST1I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogU3RyaW5nKGVycm9yKSB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGRldGVjdENhcHRjaGEoKTogYm9vbGVhbiB7XG4gIGNvbnN0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnRvTG93ZXJDYXNlKCk7XG4gIGlmICh1cmwuaW5jbHVkZXMoJ2NhcHRjaGEnKSB8fCAvdmVyaWZ5L2kudGVzdChkb2N1bWVudC5ib2R5LnRleHRDb250ZW50IHx8ICcnKSkgcmV0dXJuIHRydWU7XG4gIGNvbnN0IG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnZm9ybVthY3Rpb24qPVwiY2FwdGNoYVwiXSwgZGl2W2NsYXNzKj1cImNhcHRjaGFcIl0sIGlmcmFtZVtzcmMqPVwiY2FwdGNoYVwiXSwgaWZyYW1lW3NyYyo9XCJyZWNhcHRjaGFcIl0nXG4gICk7XG4gIHJldHVybiBub2Rlcy5sZW5ndGggPiAwO1xufVxuXG5mdW5jdGlvbiBpc0VsZW1lbnRWaXNpYmxlKGVsOiBFbGVtZW50KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVjdCA9IChlbCBhcyBIVE1MRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHJlY3Qud2lkdGggPiAwICYmIHJlY3QuaGVpZ2h0ID4gMDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2VsZWN0b3IoZWw6IEVsZW1lbnQpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKCEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSkgcmV0dXJuIG51bGw7XG4gIGlmIChlbC5pZCkgcmV0dXJuIGAjJHtlbC5pZH1gO1xuICBjb25zdCBwYXRoOiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgbm9kZTogRWxlbWVudCB8IG51bGwgPSBlbDtcbiAgd2hpbGUgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgbm9kZSAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgbGV0IG5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG5vZGUuY2xhc3NOYW1lKSB7XG4gICAgICBjb25zdCBjbiA9IChub2RlLmNsYXNzTmFtZSBhcyBzdHJpbmcpLnNwbGl0KCcgJylbMF07XG4gICAgICBpZiAoY24pIG5hbWUgKz0gYC4ke2NufWA7XG4gICAgfVxuICAgIHBhdGgudW5zaGlmdChuYW1lKTtcbiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBwYXRoLmxlbmd0aCA/IHBhdGguam9pbignID4gJykgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgbXMpKTtcbn1cblxuLyoqXG4gKiBOYXZpZ2F0ZSB0byBwcm9kdWN0IHNwZWNzL2RldGFpbHMgcGFnZSBmcm9tIHNlYXJjaCByZXN1bHRzXG4gKiBVc2VzIHRoZSBwcm9kdWN0IFVVSUQgdG8gY29uc3RydWN0IHRoZSBzZWxlY3RvciBmb3IgdGhlIHNwZWNzIGxpbmtcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGVUb1Byb2R1Y3RTcGVjcyhhcmdzOiB7IHByb2R1Y3RVdWlkOiBzdHJpbmcgfSk6IFByb21pc2U8VG9vbFJlc3VsdD4ge1xuICBsb2dnZXIuaW5mbyhcbiAgICAnXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5OLIFtBTUFaT05dIEVYRUNVVElORzogTkFWSUdBVEUgVE8gUFJPRFVDVCBTUEVDU1xcbicgK1xuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nICtcbiAgICAn8J+TiyBBcmd1bWVudHMgcmVjZWl2ZWQ6XFxuJyArXG4gICAgSlNPTi5zdHJpbmdpZnkoYXJncywgbnVsbCwgMikgK1xuICAgICdcXG7ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nXG4gICk7XG5cbiAgaWYgKCFhcmdzLnByb2R1Y3RVdWlkKSB7XG4gICAgbG9nZ2VyLmluZm8oJ+KdjCBGQUlMRUQ6IE5vIHByb2R1Y3QgVVVJRCBwcm92aWRlZFxcbicpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIHByb2R1Y3QgVVVJRCBwcm92aWRlZCcgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gQnVpbGQgdGhlIHNlbGVjdG9yIHVzaW5nIHRoZSBwcm9kdWN0IFVVSURcbiAgICBjb25zdCBzcGVjc1NlbGVjdG9yID0gYnVpbGRQcm9kdWN0U3BlY3NTZWxlY3RvcihhcmdzLnByb2R1Y3RVdWlkKTtcbiAgICBsb2dnZXIuaW5mbyhg8J+UjSBCdWlsdCBzcGVjcyBzZWxlY3RvcjogJHtzcGVjc1NlbGVjdG9yfWApO1xuXG4gICAgLy8gRmluZCBhbmQgY2xpY2sgdGhlIHNwZWNzIGxpbmtcbiAgICBjb25zdCBzcGVjc0xpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNwZWNzU2VsZWN0b3IpIGFzIEhUTUxBbmNob3JFbGVtZW50IHwgbnVsbDtcbiAgICBpZiAoc3BlY3NMaW5rKSB7XG4gICAgICBsb2dnZXIuaW5mbygn4pyTIFByb2R1Y3Qgc3BlY3MgbGluayBmb3VuZCAtIGNsaWNraW5nJyk7XG4gICAgICBzcGVjc0xpbmsuY2xpY2soKTtcbiAgICAgIGF3YWl0IHNsZWVwKDUwMCArIE1hdGgucmFuZG9tKCkgKiA1MDApO1xuICAgICAgbG9nZ2VyLmluZm8oJ+KchSBTdWNjZXNzOiBOYXZpZ2F0ZWQgdG8gcHJvZHVjdCBzcGVjc1xcbicpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBuYXZpZ2F0ZWRUb1NwZWNzOiB0cnVlLCB1dWlkOiBhcmdzLnByb2R1Y3RVdWlkIH0gfTtcbiAgICB9XG5cbiAgICBsb2dnZXIuaW5mbygn4p2MIEZBSUxFRDogUHJvZHVjdCBzcGVjcyBsaW5rIG5vdCBmb3VuZFxcbicpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Byb2R1Y3Qgc3BlY3MgbGluayBub3QgZm91bmQnIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVSUk9SOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFN0cmluZyhlcnJvcikgfTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZCBwcm9kdWN0IHRvIGNhcnQgZnJvbSBwcm9kdWN0IGRldGFpbCBwYWdlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFkZFRvQ2FydEZyb21Qcm9kdWN0UGFnZShhcmdzOiBhbnkpOiBQcm9taXNlPFRvb2xSZXN1bHQ+IHtcbiAgbG9nZ2VyLmluZm8oXG4gICAgJ1xcbicgK1xuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nICtcbiAgICAn8J+bkiBbQU1BWk9OXSBFWEVDVVRJTkc6IEFERCBUTyBDQVJUIEZST00gUFJPRFVDVCBQQUdFXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5OLIEFyZ3VtZW50cyByZWNlaXZlZDpcXG4nICtcbiAgICBKU09OLnN0cmluZ2lmeShhcmdzLCBudWxsLCAyKSArXG4gICAgJ1xcbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbidcbiAgKTtcblxuICB0cnkge1xuICAgIGlmIChkZXRlY3RDYXB0Y2hhKCkpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCfimqDvuI8gIENBUFRDSEEgZGV0ZWN0ZWQgLSBhYm9ydGluZyBhY3Rpb24nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0NBUFRDSEEgZGV0ZWN0ZWQgLSBwYXVzaW5nIGFjdGlvbnMnLFxuICAgICAgICBkYXRhOiB7IGNhcHRjaGE6IHRydWUgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRoZSBtYWluIGFkZC10by1jYXJ0IGJ1dHRvbiBvbiBwcm9kdWN0IHBhZ2VcbiAgICBsb2dnZXIuaW5mbyhg8J+UjSBMb29raW5nIGZvciBhZGQtdG8tY2FydCBidXR0b246ICR7UFJPRFVDVF9QQUdFX1NFTEVDVE9SUy5hZGRUb0NhcnRCdXR0b259YCk7XG4gICAgY29uc3QgYXRjQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFBST0RVQ1RfUEFHRV9TRUxFQ1RPUlMuYWRkVG9DYXJ0QnV0dG9uXG4gICAgKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG5cbiAgICBpZiAoYXRjQnRuICYmICFhdGNCdG4uZGlzYWJsZWQpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCfinJMgQnV0dG9uIGZvdW5kIGFuZCBlbmFibGVkIC0gY2xpY2tpbmcnKTtcbiAgICAgIGF0Y0J0bi5jbGljaygpO1xuICAgICAgYXdhaXQgc2xlZXAoNTAwICsgTWF0aC5yYW5kb20oKSAqIDcwMCk7XG4gICAgICBsb2dnZXIuaW5mbygn4pyFIFN1Y2Nlc3M6IFByb2R1Y3QgYWRkZWQgdG8gY2FydFxcbicpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBjbGlja2VkOiAncHJvZHVjdF9wYWdlX2F0YycgfSB9O1xuICAgIH1cblxuICAgIGxvZ2dlci5pbmZvKCfinYwgRkFJTEVEOiBBZGQgdG8gY2FydCBidXR0b24gbm90IGZvdW5kIG9yIGRpc2FibGVkXFxuJyk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQWRkIHRvIGNhcnQgYnV0dG9uIG5vdCBhdmFpbGFibGUnIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVSUk9SOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFN0cmluZyhlcnJvcikgfTtcbiAgfVxufVxuXG4vKipcbiAqIE5hdmlnYXRlIHRvIHNob3BwaW5nIGNhcnRcbiAqL1xuZnVuY3Rpb24gbmF2aWdhdGVUb0NhcnQoKTogVG9vbFJlc3VsdCB7XG4gIGxvZ2dlci5pbmZvKFxuICAgICdcXG4nICtcbiAgICAn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJyArXG4gICAgJ/Cfm5IgW0FNQVpPTl0gRVhFQ1VUSU5HOiBOQVZJR0FURSBUTyBDQVJUXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbidcbiAgKTtcblxuICB0cnkge1xuICAgIC8vIERldGVjdCB0aGUgY3VycmVudCBBbWF6b24gZG9tYWluIChjb20sIGNvbS5hdSwgY28udWssIGV0Yy4pXG4gICAgY29uc3QgY3VycmVudEhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gICAgY29uc3QgZG9tYWluTWF0Y2ggPSBjdXJyZW50SG9zdC5tYXRjaCgvYW1hem9uXFwuKC4rKSQvKTtcbiAgICBjb25zdCBkb21haW4gPSBkb21haW5NYXRjaCA/IGRvbWFpbk1hdGNoWzFdIDogJ2NvbSc7XG5cbiAgICAvLyBCdWlsZCBjYXJ0IFVSTCBmb3IgdGhlIGNvcnJlY3QgZG9tYWluXG4gICAgY29uc3QgY2FydFVybCA9IGBodHRwczovL3d3dy5hbWF6b24uJHtkb21haW59L2dwL2NhcnQvdmlldy5odG1sP3JlZl89bmF2X2NhcnRgO1xuICAgIGxvZ2dlci5pbmZvKGDinJMgRGV0ZWN0ZWQgZG9tYWluOiAke2RvbWFpbn1gKTtcbiAgICBsb2dnZXIuaW5mbyhg4pyTIE5hdmlnYXRpbmcgdG86ICR7Y2FydFVybH1gKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNhcnRVcmw7XG4gICAgbG9nZ2VyLmluZm8oJ+KchSBTdWNjZXNzOiBOYXZpZ2F0ZWQgdG8gY2FydFxcbicpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgbmF2aWdhdGVkVG9DYXJ0OiB0cnVlLCB1cmw6IGNhcnRVcmwgfSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFUlJPUjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBTdHJpbmcoZXJyb3IpIH07XG4gIH1cbn1cblxuLyoqXG4gKiBOYXZpZ2F0ZSBkaXJlY3RseSB0byBhIHByb2R1Y3QgcGFnZSB1c2luZyBpdHMgVVJMXG4gKiBUaGlzIGlzIG1vcmUgcmVsaWFibGUgdGhhbiBjbGlja2luZyBsaW5rIGVsZW1lbnRzXG4gKi9cbmZ1bmN0aW9uIG5hdmlnYXRlVG9Qcm9kdWN0KGFyZ3M6IHsgbGluazogc3RyaW5nIH0pOiBUb29sUmVzdWx0IHtcbiAgbG9nZ2VyLmluZm8oXG4gICAgJ1xcbicgK1xuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nICtcbiAgICAn8J+UlyBbQU1BWk9OXSBFWEVDVVRJTkc6IE5BVklHQVRFIFRPIFBST0RVQ1RcXG4nICtcbiAgICAn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJyArXG4gICAgJ/Cfk4sgQXJndW1lbnRzIHJlY2VpdmVkOlxcbicgK1xuICAgIEpTT04uc3RyaW5naWZ5KGFyZ3MsIG51bGwsIDIpICtcbiAgICAnXFxu4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJ1xuICApO1xuXG4gIGlmICghYXJncy5saW5rKSB7XG4gICAgbG9nZ2VyLmluZm8oJ+KdjCBGQUlMRUQ6IE5vIGxpbmsgVVJMIHByb3ZpZGVkXFxuJyk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm8gbGluayBVUkwgcHJvdmlkZWQnIH07XG4gIH1cblxuICBsb2dnZXIuaW5mbyhg8J+UlyBOYXZpZ2F0aW5nIHRvOiAke2FyZ3MubGlua31gKTtcbiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhcmdzLmxpbms7XG4gIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogTmF2aWdhdGlvbiBpbml0aWF0ZWRcXG4nKTtcbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBuYXZpZ2F0ZWRUb1BEUDogdHJ1ZSwgdXJsOiBhcmdzLmxpbmsgfSB9O1xufVxuXG4vKipcbiAqIFByb2NlZWQgdG8gY2hlY2tvdXQgZnJvbSB0aGUgc2hvcHBpbmcgY2FydCBwYWdlXG4gKiBDbGlja3MgdGhlIFwiUHJvY2VlZCB0byBjaGVja291dFwiIGJ1dHRvblxuICovXG5hc3luYyBmdW5jdGlvbiBwcm9jZWVkVG9DaGVja291dCgpOiBQcm9taXNlPFRvb2xSZXN1bHQ+IHtcbiAgbG9nZ2VyLmluZm8oXG4gICAgJ1xcbicgK1xuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nICtcbiAgICAn8J+SsyBbQU1BWk9OXSBFWEVDVVRJTkc6IFBST0NFRUQgVE8gQ0hFQ0tPVVRcXG4nICtcbiAgICAn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJ1xuICApO1xuXG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgb24gdGhlIGNhcnQgcGFnZVxuICAgIGNvbnN0IGN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghY3VycmVudFVybC5pbmNsdWRlcygnL2dwL2NhcnQvJykgJiYgIWN1cnJlbnRVcmwuaW5jbHVkZXMoJy9jYXJ0LycpKSB7XG4gICAgICBsb2dnZXIuaW5mbygn4p2MIEZBSUxFRDogTm90IG9uIGNhcnQgcGFnZScpO1xuICAgICAgbG9nZ2VyLmluZm8oYEN1cnJlbnQgVVJMOiAke2N1cnJlbnRVcmx9XFxuYCk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdOb3Qgb24gY2FydCBwYWdlLiBQbGVhc2UgbmF2aWdhdGUgdG8gY2FydCBmaXJzdC4nIH07XG4gICAgfVxuXG4gICAgaWYgKGRldGVjdENhcHRjaGEoKSkge1xuICAgICAgbG9nZ2VyLmluZm8oJ+KaoO+4jyAgQ0FQVENIQSBkZXRlY3RlZCAtIGFib3J0aW5nIGFjdGlvbicpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnQ0FQVENIQSBkZXRlY3RlZCAtIHBhdXNpbmcgYWN0aW9ucycsXG4gICAgICAgIGRhdGE6IHsgY2FwdGNoYTogdHJ1ZSB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdGhlIG1haW4gcHJvY2VlZCB0byBjaGVja291dCBidXR0b25cbiAgICBsb2dnZXIuaW5mbyhg8J+UjSBMb29raW5nIGZvciBwcm9jZWVkIHRvIGNoZWNrb3V0IGJ1dHRvbjogJHtDQVJUX1NFTEVDVE9SUy5wcm9jZWVkVG9DaGVja291dH1gKTtcbiAgICBjb25zdCBjaGVja291dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBDQVJUX1NFTEVDVE9SUy5wcm9jZWVkVG9DaGVja291dFxuICAgICkgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG5cbiAgICBpZiAoY2hlY2tvdXRCdG4gJiYgIWNoZWNrb3V0QnRuLmRpc2FibGVkKSB7XG4gICAgICBsb2dnZXIuaW5mbygn4pyTIEJ1dHRvbiBmb3VuZCBhbmQgZW5hYmxlZCAtIGNsaWNraW5nJyk7XG4gICAgICBjaGVja291dEJ0bi5jbGljaygpO1xuICAgICAgYXdhaXQgc2xlZXAoNTAwICsgTWF0aC5yYW5kb20oKSAqIDcwMCk7XG4gICAgICBsb2dnZXIuaW5mbygn4pyFIFN1Y2Nlc3M6IFByb2NlZWRpbmcgdG8gY2hlY2tvdXRcXG4nKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgY2xpY2tlZDogJ3Byb2NlZWRfdG9fY2hlY2tvdXQnIH0gfTtcbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjazogVHJ5IGFsdGVybmF0aXZlIGNoZWNrb3V0IGJ1dHRvbiBzZWxlY3RvcnNcbiAgICBjb25zdCBhbHRTZWxlY3RvcnMgPSBbXG4gICAgICAnaW5wdXRbbmFtZT1cInByb2NlZWRUb1JldGFpbENoZWNrb3V0XCJdJyxcbiAgICAgICdpbnB1dFtuYW1lPVwicHJvY2VlZFRvQ2hlY2tvdXRcIl0nLFxuICAgICAgJ2J1dHRvbltuYW1lPVwicHJvY2VlZFRvQ2hlY2tvdXRcIl0nLFxuICAgICAgJyNzYy1idXktYm94LXB0Yy1idXR0b24gaW5wdXQnLFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IHNlbCBvZiBhbHRTZWxlY3RvcnMpIHtcbiAgICAgIGxvZ2dlci5pbmZvKGAgIPCflI0gVHJ5aW5nIGFsdGVybmF0aXZlIHNlbGVjdG9yOiAke3NlbH1gKTtcbiAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKGJ0biAmJiAhYnRuLmRpc2FibGVkKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCcgIOKckyBCdXR0b24gZm91bmQgYW5kIGVuYWJsZWQgLSBjbGlja2luZycpO1xuICAgICAgICBidG4uY2xpY2soKTtcbiAgICAgICAgYXdhaXQgc2xlZXAoNTAwICsgTWF0aC5yYW5kb20oKSAqIDcwMCk7XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogUHJvY2VlZGluZyB0byBjaGVja291dFxcbicpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGNsaWNrZWQ6IHNlbCB9IH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgbG9nZ2VyLmluZm8oJ+KdjCBGQUlMRUQ6IFByb2NlZWQgdG8gY2hlY2tvdXQgYnV0dG9uIG5vdCBmb3VuZCBvciBkaXNhYmxlZFxcbicpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Byb2NlZWQgdG8gY2hlY2tvdXQgYnV0dG9uIG5vdCBhdmFpbGFibGUnIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVSUk9SOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFN0cmluZyhlcnJvcikgfTtcbiAgfVxufVxuXG4od2luZG93IGFzIGFueSkuX19zaXRlSW50ZWdyYXRpb24gPSAod2luZG93IGFzIGFueSkuX19zaXRlSW50ZWdyYXRpb24gfHwge307XG4od2luZG93IGFzIGFueSkuX19zaXRlSW50ZWdyYXRpb24uYW1hem9uID0ge1xuICBkZXRlY3RQcm9kdWN0Q2FyZHMsXG4gIGFkZFRvQ2FydCxcbiAgYWRkVG9DYXJ0RnJvbVByb2R1Y3RQYWdlLFxuICBuYXZpZ2F0ZVRvUHJvZHVjdCxcbiAgbmF2aWdhdGVUb1Byb2R1Y3RTcGVjcyxcbiAgbmF2aWdhdGVUb0NhcnQsXG4gIHByb2NlZWRUb0NoZWNrb3V0LFxuICBkZXRlY3RDYXB0Y2hhLFxuICBTRUFSQ0hfVEVNUExBVEUsXG4gIFNFTEVDVE9SUyxcbiAgQ0FSVF9TRUxFQ1RPUlMsXG4gIFBST0RVQ1RfUEFHRV9TRUxFQ1RPUlMsXG59O1xuXG4vLyBIYW5kc2hha2U6IG1hcmsgaW50ZWdyYXRpb24gcmVhZHkgZm9yIHRoZSBjb250ZW50IHNjcmlwdFxuKHdpbmRvdyBhcyBhbnkpLl9fc2l0ZUludGVncmF0aW9uUmVhZHkgPSB0cnVlO1xuY29uc29sZS5kZWJ1ZygnQW1hem9uIHNpdGUgaW50ZWdyYXRpb24gaW5qZWN0ZWQgYW5kIHJlYWR5Jyk7XG4iXSwibmFtZXMiOlsiTG9nTGV2ZWwiLCJRdWV1ZSIsInZhbHVlIiwibm9kZSIsIkRFRkFVTFRfQlVGRkVSX1NJWkUiLCJERUZBVUxUX0ZMVVNIX1RJTUVPVVQiLCJERUZBVUxUX1JFVFJZX0NPVU5UIiwiREVGQVVMVF9SRVRSWV9CQUNLT0ZGIiwiY2FsY3VsYXRlSnNvbkxvZ1NpemVCeXRlcyIsImxvZyIsIm1ha2VCYXRjaCIsInNpemUiLCJmbHVzaFRpbWVvdXQiLCJyZXRyeUNvdW50IiwicmV0cnlCYWNrb2ZmIiwic2l6ZUJ5dGVzIiwiY2FsY3VsYXRlTG9nU2l6ZUJ5dGVzIiwidGltZW91dCIsImNiIiwiYnVmZmVyIiwiYnVmZmVyU2l6ZUJ5dGVzIiwicmV0cnkiLCJtaW5SZXRyeUJhY2tvZmYiLCJmbHVzaCIsImN1cnJlbnRCdWZmZXIiLCJjdXJyZW50QnVmZmVyU2l6ZUtCIiwiZCIsImUiLCJzZXR1cFRpbWVvdXQiLCJyZXNvbHZlIiwiZm4iLCJyZWplY3QiLCJSRVNPTFVUSU9OIiwibWFrZUJ1cnN0UHJvdGVjdGlvbiIsIm1pbGxpc2Vjb25kcyIsIm1heCIsImZ1bmN0aW9uTmFtZSIsImNhbGxDb3VudHMiLCJsYXN0RXJyb3JPdXRwdXQiLCJsYXN0SW50ZXJ2YWxUaW1lIiwidXBkYXRlQ2FsbENvdW50cyIsIm5vdyIsImludGVydmFsTGVuZ3RoIiwiaW50ZXJ2YWxDb3VudFNpbmNlTGFzdCIsImdldFRvdGFsQ2FsbENvdW50IiwidG90YWwiLCJpdGVtIiwiaW5jcmVtZW50Q2FsbENvdW50IiwiYXJncyIsIm1ha2VUaHJvdHRsZSIsInF1ZXVlTWF4IiwiY3VycmVudCIsInF1ZXVlIiwidGhyb3R0bGUiLCJoYW5kbGVyIiwiTm9uRXJyb3IiLCJtZXNzYWdlIiwiY29tbW9uUHJvcGVydGllcyIsImlzQ2FsbGVkIiwidG9KU09OIiwiZnJvbSIsImpzb24iLCJkZXN0cm95Q2lyY3VsYXIiLCJzZWVuIiwidG9fIiwiZm9yY2VFbnVtZXJhYmxlIiwibWF4RGVwdGgiLCJkZXB0aCIsInRvIiwia2V5IiwicHJvcGVydHkiLCJlbnVtZXJhYmxlIiwic2VyaWFsaXplRXJyb3JfMSIsIm9wdGlvbnMiLCJuZXdFcnJvciIsImRlZmF1bHRPcHRpb25zIiwiTG9ndGFpbCIsInNvdXJjZVRva2VuIiwidGhyb3R0bGVyIiwibG9ncyIsImJhdGNoZXIiLCJsZXZlbCIsImNvbnRleHQiLCJ0cmFuc2Zvcm1lZExvZyIsInNlcmlhbGl6ZUVycm9yIiwibWlkZGxld2FyZSIsIm5ld1RyYW5zZm9ybWVkTG9nIiwidmlzaXRlZE9iamVjdHMiLCJzZXJpYWxpemVkQXJyYXkiLCJzZXJpYWxpemVkT2JqZWN0Iiwic2VyaWFsaXplZFZhbHVlIiwicCIsIkJhc2UiLCJCcm93c2VyIiwic3luYyIsInJlcyIsIl9hIiwiX2IiLCJfYyIsImNyZWF0ZUxvZ2dlciIsImxvZ2dlciIsIlNFQVJDSF9URU1QTEFURSIsIlNFTEVDVE9SUyIsIkFUQ19TRUxFQ1RPUlMiLCJTUlBfQVRDX1NFTEVDVE9SUyIsIlZBUklBTlRfU0VMRUNUT1JTIiwiQ0FSVF9TRUxFQ1RPUlMiLCJQUk9EVUNUX1BBR0VfU0VMRUNUT1JTIiwiYnVpbGRQcm9kdWN0U3BlY3NTZWxlY3RvciIsInByb2R1Y3RVdWlkIiwicGFyc2VQcmljZSIsInByaWNlVGV4dCIsImNsZWFuZWQiLCJuIiwicGFyc2VSYXRpbmciLCJyYXRpbmdUZXh0IiwibWF0Y2giLCJwYXJzZVJldmlld3MiLCJyZXZpZXdzVGV4dCIsImRldGVjdFByb2R1Y3RDYXJkcyIsImRldGVjdFNpbmdsZVByb2R1Y3RQYWdlIiwicmVzdWx0cyIsImFsdFNlbGVjdG9ycyIsImFsdFNlbGVjdG9yIiwiYWx0UmVzdWx0cyIsImV4dHJhY3RQcm9kdWN0c0Zyb21FbGVtZW50cyIsInRpdGxlRWwiLCJwcmljZUVsIiwicmF0aW5nRWwiLCJ0aXRsZSIsInByaWNlIiwicmF0aW5nIiwiY2FyZHMiLCJsaW1pdGVkUmVzdWx0cyIsImluZGV4IiwiaXNFbGVtZW50VmlzaWJsZSIsImVsIiwiZGF0YVV1aWQiLCJyZXZpZXdzRWwiLCJyZXZpZXdzIiwibGlua0VsIiwibGluayIsInByb2R1Y3REYXRhIiwiZ2VuZXJhdGVTZWxlY3RvciIsIm1zZ3MiLCJwcm9kdWN0IiwiYWRkVG9DYXJ0IiwiZGV0ZWN0Q2FwdGNoYSIsImJ0biIsInNsZWVwIiwiY2FyZCIsInNlbCIsImF0Y0J0biIsImFuY2hvciIsInZhcmlhbnQiLCJ0YXJnZXRCdG4iLCJiIiwidGV4dCIsImVycm9yIiwicmVjdCIsInBhdGgiLCJuYW1lIiwiY24iLCJtcyIsIm5hdmlnYXRlVG9Qcm9kdWN0U3BlY3MiLCJzcGVjc1NlbGVjdG9yIiwic3BlY3NMaW5rIiwiYWRkVG9DYXJ0RnJvbVByb2R1Y3RQYWdlIiwibmF2aWdhdGVUb0NhcnQiLCJkb21haW5NYXRjaCIsImRvbWFpbiIsImNhcnRVcmwiLCJuYXZpZ2F0ZVRvUHJvZHVjdCIsInByb2NlZWRUb0NoZWNrb3V0IiwiY3VycmVudFVybCIsImNoZWNrb3V0QnRuIl0sIm1hcHBpbmdzIjoieUJBR08sSUFBSUEsR0FDVixTQUFVQSxFQUFVLENBRWpCQSxFQUFTLE1BQVcsUUFDcEJBLEVBQVMsS0FBVSxPQUNuQkEsRUFBUyxLQUFVLE9BQ25CQSxFQUFTLE1BQVcsUUFFcEJBLEVBQVMsTUFBVyxRQUNwQkEsRUFBUyxLQUFVLE9BQ25CQSxFQUFTLFFBQWEsVUFDdEJBLEVBQVMsTUFBVyxRQUNwQkEsRUFBUyxNQUFXLE9BQ3hCLEdBQUdBLElBQWFBLEVBQVcsQ0FBQSxFQUFHLEVDWmYsTUFBTUMsQ0FBTSxDQUN2QixhQUFjLENBT1YsS0FBSyxPQUFTLENBQ2xCLENBS0EsS0FBS0MsRUFBTyxDQUNSLE1BQU1DLEVBQU8sQ0FBRSxNQUFBRCxDQUFLLEVBQ3BCLEtBQUssS0FBTyxLQUFLLEtBQVEsS0FBSyxLQUFLLEtBQU9DLEVBQVMsS0FBSyxNQUFRQSxFQUNoRSxLQUFLLFFBQ1QsQ0FJQSxPQUFRLENBQ0osR0FBSSxLQUFLLE1BQU8sQ0FDWixLQUFNLENBQUUsTUFBQUQsR0FB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

(function(){"use strict";var b;(function(n){n.Error="error",n.Warn="warn",n.Info="info",n.Debug="debug",n.Fatal="fatal",n.Http="http",n.Verbose="verbose",n.Silly="silly",n.Trace="trace"})(b||(b={}));class N{constructor(){this.length=0}push(t){const o={value:t};this.last=this.last?this.last.next=o:this.first=o,this.length++}shift(){if(this.first){const{value:t}=this.first;return this.first=this.first.next,--this.length||(this.last=void 0),t}}}const R=1e3,D=1e3,L=3,I=100,x=n=>JSON.stringify(n).length+1;function B(n=R,t=D,o=L,e=I,r=0,s=x){let u,i,a=[],d=0,f=0,p=0;async function w(){u&&clearTimeout(u),u=null;const l=a,h=d;a=[],d=0;try{await i(l.map(y=>y.log)),l.forEach(y=>y.resolve(y.log)),f=0}catch(y){if(f<o){f++,p=Date.now()+e,a=a.concat(l),d+=h,await g();return}l.map(_=>_.reject(y)),f=0}}async function g(){if(!u)return new Promise(l=>{u=setTimeout(async function(){await w(),l()},t)})}return{initPusher:function(l){return i=l,async function(h){return new Promise(async(y,_)=>(a.push({log:h,resolve:y,reject:_}),r>0&&(d+=s(h)),(a.length>=n||r>0&&d>=r)&&Date.now()>p?await w():await g(),y))}},flush:w}}const T=64;function M(n,t,o="The function"){if(n<=0||t<=0)return d=>d;let e=[0],r=0,s=Date.now();function u(){const d=Date.now(),f=n/T;if(d<s+f)return;const p=Math.floor((d-s)/f);e=Array(Math.min(p,T)).fill(0).concat(e).slice(0,T),s+=p*f}function i(){return e.reduce((d,f)=>d+f)}function a(){e[0]++}return d=>async(...f)=>{if(u(),i()<t)return a(),await d(...f);const p=Date.now();r<p-n&&(r=p,console.error(`${o} was called more than ${t} times during last ${n}ms. Ignoring.`))}}function z(n,t=-1){let o=0;const e=new N;function r(s){return async(...u)=>new Promise((i,a)=>{async function d(){if(o<n){o++;try{i(await s(...u))}catch(f){a(f)}o--,e.length>0&&e.shift()()}else if(t<0||e.length<t)e.push(d);else{a(new Error("Queue max limit exceeded"));return}}return d()})}return r}var C,P;function U(){if(P)return C;P=1;class n extends Error{constructor(a){super(n._prepareSuperMessage(a)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,n)}static _prepareSuperMessage(a){try{return JSON.stringify(a)}catch{return String(a)}}}const t=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],o=Symbol(".toJSON called"),e=i=>{i[o]=!0;const a=i.toJSON();return delete i[o],a},r=({from:i,seen:a,to_:d,forceEnumerable:f,maxDepth:p,depth:w})=>{const g=d||(Array.isArray(i)?[]:{});if(a.push(i),w>=p)return g;if(typeof i.toJSON=="function"&&i[o]!==!0)return e(i);for(const[l,h]of Object.entries(i)){if(typeof Buffer=="function"&&Buffer.isBuffer(h)){g[l]="[object Buffer]";continue}if(typeof h!="function"){if(!h||typeof h!="object"){g[l]=h;continue}if(!a.includes(i[l])){w++,g[l]=r({from:i[l],seen:a.slice(),forceEnumerable:f,maxDepth:p,depth:w});continue}g[l]="[Circular]"}}for(const{property:l,enumerable:h}of t)typeof i[l]=="string"&&Object.defineProperty(g,l,{value:i[l],enumerable:f?!0:h,configurable:!0,writable:!0});return g};return C={serializeError:(i,a={})=>{const{maxDepth:d=Number.POSITIVE_INFINITY}=a;return typeof i=="object"&&i!==null?r({from:i,seen:[],forceEnumerable:!0,maxDepth:d,depth:0}):typeof i=="function"?`[Function: ${i.name||"anonymous"}]`:i},deserializeError:(i,a={})=>{const{maxDepth:d=Number.POSITIVE_INFINITY}=a;if(i instanceof Error)return i;if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const f=new Error;return r({from:i,seen:[],to_:f,maxDepth:d,depth:0}),f}return new n(i)}},C}var k=U();const $={endpoint:"https://in.logs.betterstack.com",batchSize:1e3,batchSizeKiB:0,batchInterval:1e3,retryCount:3,retryBackoff:100,syncMax:5,syncQueuedMax:100,burstProtectionMilliseconds:5e3,burstProtectionMax:1e4,ignoreExceptions:!1,throwExceptions:!1,contextObjectMaxDepth:50,contextObjectMaxDepthWarn:!0,contextObjectCircularRefWarn:!0,sendLogsToConsoleOutput:!1,sendLogsToBetterStack:!0,calculateLogSizeBytes:x};class F{constructor(t,o){if(this._middleware=[],this._countLogged=0,this._countSynced=0,this._countDropped=0,typeof t!="string"||t==="")throw new Error("Logtail source token missing");this._sourceToken=t,this._options=Object.assign(Object.assign({},$),o);const r=z(this._options.syncMax,this._options.syncQueuedMax)(u=>this._sync(u));this._logBurstProtection=M(this._options.burstProtectionMilliseconds,this._options.burstProtectionMax,"Logging"),this.log=this._logBurstProtection(this.log.bind(this));const s=B(this._options.batchSize,this._options.batchInterval,this._options.retryCount,this._options.retryBackoff,this._options.batchSizeKiB*1024,this._options.calculateLogSizeBytes);this._batch=s.initPusher(u=>r(u)),this._flush=s.flush}async flush(){return this._flush()}get logged(){return this._countLogged}get synced(){return this._countSynced}get dropped(){return this._countDropped}async log(t,o=b.Info,e={}){if(typeof e!="object"&&(e={extra:e}),e instanceof Error&&(e={error:e}),this._options.sendLogsToConsoleOutput)switch(o){case"debug":console.debug(t,e);break;case"info":console.info(t,e);break;case"warn":console.warn(t,e);break;case"error":console.error(t,e);break;default:console.log(`[${o.toUpperCase()}]`,t,e);break}if(typeof this._sync!="function")throw new Error("No Logtail logger sync function provided");this._countLogged++;let s=Object.assign(Object.assign({dt:new Date,level:o},e),t instanceof Error?k.serializeError(t):{message:t});for(const u of this._middleware){let i=await u(s);if(i==null)return s;s=i}if(s=this.serialize(s,this._options.contextObjectMaxDepth),!this._options.sendLogsToBetterStack)return s;try{await this._batch(s),this._countSynced++}catch(u){if(this._countDropped++,!this._options.ignoreExceptions){if(this._options.throwExceptions)throw u;console.error(u)}}return s}serialize(t,o,e=new WeakSet){if(t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t;if(t instanceof Date)return isNaN(t.getTime())?t.toString():t.toISOString();if(t instanceof Error)return k.serializeError(t);if((typeof t=="object"||Array.isArray(t))&&(o<1||e.has(t)))return e.has(t)?(this._options.contextObjectCircularRefWarn&&console.warn("[Logtail] Found a circular reference when serializing logs. Please do not use circular references in your logs."),"<omitted circular reference>"):(this._options.contextObjectMaxDepthWarn&&console.warn(`[Logtail] Max depth of ${this._options.contextObjectMaxDepth} reached when serializing logs. Please do not use excessive object depth in your logs.`),`<omitted context beyond configured max depth: ${this._options.contextObjectMaxDepth}>`);if(Array.isArray(t)){e.add(t);const r=t.map(s=>this.serialize(s,o-1,e));return e.delete(t),r}else if(typeof t=="object"){const r={};return e.add(t),Object.entries(t).forEach(s=>{const u=s[0],i=s[1],a=this.serialize(i,o-1,e);a!==void 0&&(r[u]=a)}),e.delete(t),r}else return typeof t>"u"?void 0:`<omitted unserializable ${typeof t}>`}async debug(t,o={}){return this.log(t,b.Debug,o)}async info(t,o={}){return this.log(t,b.Info,o)}async warn(t,o={}){return this.log(t,b.Warn,o)}async error(t,o={}){return this.log(t,b.Error,o)}setSync(t){this._sync=t}use(t){this._middleware.push(t)}remove(t){this._middleware=this._middleware.filter(o=>o!==t)}}class j extends F{async log(t,o=b.Info,e={}){return super.log(t,o,e)}}class q extends j{constructor(t,o){super(t,Object.assign({batchSizeKiB:48},o));const e=async r=>{const s=await fetch(this._options.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._sourceToken}`},body:JSON.stringify(r),keepalive:!0});if(s.ok)return r;throw new Error(s.statusText)};this.setSync(e),this.configureFlushOnPageLeave()}async log(t,o,e={}){return typeof e!="object"&&(e={extra:e}),e instanceof Error&&(e={error:e}),e=Object.assign(Object.assign({},this.getCurrentContext()),e),super.log(t,o,e)}getCurrentContext(){var t,o,e;const r={};return typeof window<"u"&&(r.url=(t=window.location)===null||t===void 0?void 0:t.href,r.device_pixel_ratio=window.devicePixelRatio,r.screen_width=(o=window.screen)===null||o===void 0?void 0:o.width,r.screen_height=(e=window.screen)===null||e===void 0?void 0:e.height,r.window_width=window.innerWidth,r.window_height=window.innerHeight),typeof navigator<"u"&&(r.user_locale=navigator.userLanguage||navigator.language,r.user_agent=navigator.userAgent),r}configureFlushOnPageLeave(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.flush()})}}function W(){return new q("PKSXVyGdsc4wsLFEyZ3RaUk8",{endpoint:"https://s1709138.eu-fsn-3.betterstackdata.com",batchSize:30,batchInterval:1e3,retryCount:2})}const c=W(),J="https://www.walmart.com/search?q=[QUERY]",S={grid_container:"section > div",item_card:"section > div > div",title:"div.sans-serif.mid-gray.relative.flex.flex-column.w-100.hide-child-opacity > a > span > h3",price:"div.sans-serif.mid-gray.relative.flex.flex-column.w-100.hide-child-opacity > div > div:nth-child(3) > div.mt1 > div > span",link:"div.sans-serif.mid-gray.relative.flex.flex-column.w-100.hide-child-opacity > a",sponsored:"div",rating:"div.sans-serif.mid-gray.relative.flex.flex-column.w-100.hide-child-opacity > div > div:nth-child(3) > div.flex.items-center.mv1 > span.w_iUH7",add_to_cart_in_card:"div.sans-serif.mid-gray.relative.flex.flex-column.w-100.hide-child-opacity > div > div.z-2.relative.mv2 > div > div > button",cart_button:"#cart-button-header",search_bar:"#__next > div.flex.flex-column.min-vh-100.shadow-2 > span > header > form > div > input"};S.add_to_cart_in_card;const V=[S.add_to_cart_in_card,"button[data-automation-id='add-to-cart']","button[data-tl-id*='cta-add-to-cart']","button[aria-label*='Add to cart']","button[aria-label*='Add to Cart']",".add-to-cart-button"],G="[data-testid='variant-group']",H="button[data-tl-id*='cta-add-to-cart']";function K(n){if(!n)return null;const t=n.replace(/[^0-9.,-]/g,"").replace(/,/g,""),o=parseFloat(t);return Number.isFinite(o)?o:null}function Y(){c.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üîç [WALMART] PRODUCT DETECTION STARTED (STRICT USER MODE)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`);const n=[];if(!document.querySelector("section > div"))return c.info("‚ùå Grid container (section > div) not found"),n;for(let e=1;e<=12;e++){console.group(`üõçÔ∏è  Product #${e}`);const r=`section > div > div:nth-child(${e}) > div > div.sans-serif.mid-gray.relative.flex.flex-column.w-100.hide-child-opacity`,s=`${r} > a > span > h3`,u=`${r} > div > div:nth-child(2) > div:nth-child(2) > div > span`,i=`${r} > div > div:nth-child(2) > div.flex.items-center.mv1 > span.w_iUH7`,a=`${r} > a`,d=r;if(!document.querySelector(d)){c.info(`‚ùå No container found for #${e}`),console.groupEnd();continue}const p=document.querySelector(s),w=p?(p.textContent||"").trim():null,g=document.querySelector(u),l=g?(g.textContent||"").trim():null,h=K(l||void 0),y=document.querySelector(i);let _=null;if(y){const v=(y.textContent||"").match(/([\d.]+)/);v&&(_=parseFloat(v[1]))}const E=document.querySelector(a),O=E?E.href:null;let tt=null;const et={index:e,title:w,price:l,priceParsed:h,rating:_,link:O,selectors:{base:r,title:s,price:u,rating:i,link:a}};c.info("üì¶ Product extracted:",et),n.push({selector:`section > div > div:nth-child(${e})`,title:w,price:l||null,priceNumber:h,rating:_,availability:null,link:O,isDetailPage:!1,addToCartSelector:tt,productIndex:e}),console.groupEnd()}c.info(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üì¶ EXTRACTION COMPLETE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
‚úì Valid products extracted: ${n.length}

üìã PRODUCTS BEING SENT TO LLM (FULL TITLES - NOT TRUNCATED):
`);let o=[];return n.forEach((e,r)=>{o.push(`
üõçÔ∏è  PRODUCT ${r+1}:
   üìù Title:   ${e.title}
   üí∞ Price:   ${e.price}
   ‚≠ê Rating:  ${e.rating||"N/A"}
   üîó Link:    ${e.link}`)}),c.info(o.join("")),c.info(`
üìä SUMMARY TABLE:`),console.table(n.map(e=>({"Title (Full)":e.title,Price:e.price,Rating:e.rating||"N/A"}))),c.info(`
üìÑ FULL JSON DATA (for LLM):`),c.info(JSON.stringify(n,null,2)),c.info(`‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`),n.slice(0,5)}async function Q(n){c.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üõí [WALMART] EXECUTING: ADD TO CART
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìã Arguments received:
`+JSON.stringify(n,null,2)+`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`);try{if(A())return c.info("‚ö†Ô∏è  CAPTCHA detected - aborting action"),{success:!1,error:"CAPTCHA detected - pausing actions",data:{captcha:!0}};if(n.addToCartSelector){c.info(`üîç Trying pre-detected ATC selector: ${n.addToCartSelector}`);const r=document.querySelector(n.addToCartSelector);if(r&&!r.disabled)return c.info("‚úì Button found and enabled - clicking"),r.click(),await m(400+Math.random()*600),c.info(`‚úÖ Success: Clicked pre-detected SRP button
`),{success:!0,data:{clicked:"srp_predetected"}};c.info("‚ùå Button not found or disabled")}if(n.selector){c.info(`üîç Trying product card selector: ${n.selector}`);const r=document.querySelector(n.selector);if(r){c.info("‚úì Product card found");for(const s of V){c.info(`  üîç Trying ATC selector: ${s}`);const u=r.querySelector(s);if(u&&!u.disabled)return c.info("  ‚úì Button found and enabled - clicking"),u.click(),await m(400+Math.random()*800),c.info(`‚úÖ Success: Clicked SRP card button
`),{success:!0,data:{clicked:"srp_card"}}}c.info("‚ùå No enabled ATC button found in card")}else c.info("‚ùå Product card not found")}if(n.link)return c.info(`üîó Navigating to product page: ${n.link}`),window.location.href=n.link,c.info(`‚úÖ Success: Navigation initiated
`),{success:!0,data:{navigatedToPDP:!0,url:n.link}};c.info("üîç Trying PDP add-to-cart button");const t=document.querySelector(H);if(t&&!t.disabled){c.info("‚úì PDP add button found");const r=document.querySelector(G);if(r){c.info("‚úì Variant group found - selecting first option");const s=r.querySelector("select option:nth-child(2)");s&&(s.selected=!0,s.dispatchEvent(new Event("change",{bubbles:!0})),await m(400+Math.random()*400))}return c.info("‚úì Clicking PDP add button"),t.click(),await m(500+Math.random()*700),c.info(`‚úÖ Success: Clicked PDP add button
`),{success:!0,data:{clicked:"pdp_add"}}}c.info("‚ùå PDP button not found or disabled"),c.info("üîç Trying text-based button search");const e=Array.from(document.querySelectorAll('button, input[type="submit"], a')).find(r=>{const s=(r.textContent||r.value||"").toLowerCase().trim();return(s==="add to cart"||s==="add to basket")&&!r.disabled});return e?(c.info(`‚úì Found button with text: "${e.textContent}"`),e.click(),await m(500+Math.random()*700),c.info(`‚úÖ Success: Clicked text-matched button
`),{success:!0,data:{clicked:"text_match",text:e.textContent}}):(c.info(`‚ùå FAILED: No add-to-cart button found
`),{success:!1,error:"No add-to-cart button found"})}catch(t){return console.error("‚ùå ERROR:",t),{success:!1,error:String(t)}}}function A(){return window.location.href.toLowerCase().includes("captcha")||/verify you are a human/i.test(document.body.textContent||"")?!0:document.querySelectorAll('iframe[src*="recaptcha"], div[class*="captcha"]').length>0}function m(n){return new Promise(t=>setTimeout(t,n))}function X(n){return c.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üîó [WALMART] EXECUTING: NAVIGATE TO PRODUCT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìã Arguments received:
`+JSON.stringify(n,null,2)+`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`),n.link?(c.info(`üîó Navigating to: ${n.link}`),window.location.href=n.link,c.info(`‚úÖ Success: Navigation initiated
`),{success:!0,data:{navigatedToPDP:!0,url:n.link}}):(c.info(`‚ùå FAILED: No link URL provided
`),{success:!1,error:"No link URL provided"})}async function Z(){c.info(`
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üõí [WALMART] EXECUTING: OPEN CART
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
`);try{const n=document.querySelector(S.cart_button);return n?(c.info("‚úì Cart button found, clicking..."),n.click(),await m(500),c.info(`‚úÖ Success: Cart opened
`),{success:!0,data:{clicked:"cart_button"}}):(c.info("‚ö†Ô∏è Cart button not found, navigating to cart URL..."),window.location.href="https://www.walmart.com/cart",{success:!0,data:{navigated:"cart_url"}})}catch(n){return console.error("‚ùå ERROR:",n),{success:!1,error:String(n)}}}window.__siteIntegration=window.__siteIntegration||{},window.__siteIntegration.walmart={detectProductCards:Y,addToCart:Q,navigateToProduct:X,openCart:Z,detectCaptcha:A,SEARCH_URL:J,SELECTORS:S},window.__siteIntegrationReady=!0,console.debug("Walmart site integration injected and ready")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FsbWFydC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0Bsb2d0YWlsL3R5cGVzL2Rpc3QvZXM2L3R5cGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bsb2d0YWlsL3Rvb2xzL2Rpc3QvZXM2L3F1ZXVlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bsb2d0YWlsL3Rvb2xzL2Rpc3QvZXM2L2JhdGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bsb2d0YWlsL3Rvb2xzL2Rpc3QvZXM2L2J1cnN0UHJvdGVjdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AbG9ndGFpbC90b29scy9kaXN0L2VzNi90aHJvdHRsZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zZXJpYWxpemUtZXJyb3IvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQGxvZ3RhaWwvY29yZS9kaXN0L2VzNi9iYXNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0Bsb2d0YWlsL2Jyb3dzZXIvZGlzdC9lczYvYnJvd3Nlci5qcyIsIi4uLy4uL3NyYy9saWIvdXRpbHMvbG9nZ2VyLnRzIiwiLi4vLi4vc3JjL3NpdGVzL3dhbG1hcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMb2d0YWlsIGxpYnJhcnkgb3B0aW9uc1xuICovXG5leHBvcnQgdmFyIExvZ0xldmVsO1xuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xuICAgIC8vIGNvcmUgbG9nIGxldmVscyAtIGF2YWlsYWJsZSBhcyBmdW5jdGlvbnNcbiAgICBMb2dMZXZlbFtcIkVycm9yXCJdID0gXCJlcnJvclwiO1xuICAgIExvZ0xldmVsW1wiV2FyblwiXSA9IFwid2FyblwiO1xuICAgIExvZ0xldmVsW1wiSW5mb1wiXSA9IFwiaW5mb1wiO1xuICAgIExvZ0xldmVsW1wiRGVidWdcIl0gPSBcImRlYnVnXCI7XG4gICAgLy8gZXh0cmEgbG9nIGxldmVscyAtIHJlY29nbml6ZWQgd2hlbiBwYXNzZWQgZnJvbSBsb2dnaW5nIGZyYW1ld29ya3NcbiAgICBMb2dMZXZlbFtcIkZhdGFsXCJdID0gXCJmYXRhbFwiO1xuICAgIExvZ0xldmVsW1wiSHR0cFwiXSA9IFwiaHR0cFwiO1xuICAgIExvZ0xldmVsW1wiVmVyYm9zZVwiXSA9IFwidmVyYm9zZVwiO1xuICAgIExvZ0xldmVsW1wiU2lsbHlcIl0gPSBcInNpbGx5XCI7XG4gICAgTG9nTGV2ZWxbXCJUcmFjZVwiXSA9IFwidHJhY2VcIjtcbn0pKExvZ0xldmVsIHx8IChMb2dMZXZlbCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiLCIvKipcbiAqIFF1ZXVlLCBmb3IgRklGTyBhY2Nlc3MgdG8gYXJiaXRyYXJ5IG9iamVjdHMuIEludGVuZGVkIHRvIGJlIGEgZmFzdGVyXG4gKiByZXBsYWNlbWVudCBmb3IgYSBKYXZhc2NyaXB0IGFycmF5LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJzdCBub2RlIGluIHRoZSB0cmVlXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBxdWV1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSB2YWx1ZSBpbnRvIHRoZSBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBBbnkgb2JqZWN0IHRvIHB1c2ggaW50byB0aGUgcXVldWVcbiAgICAgKi9cbiAgICBwdXNoKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB7IHZhbHVlIH07XG4gICAgICAgIHRoaXMubGFzdCA9IHRoaXMubGFzdCA/ICh0aGlzLmxhc3QubmV4dCA9IG5vZGUpIDogKHRoaXMuZmlyc3QgPSBub2RlKTtcbiAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgdmFsdWUgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIHF1ZXVlIChGSUZPKSBhbmQgcmV0dXJuIGl0XG4gICAgICovXG4gICAgc2hpZnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcnN0KSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLmZpcnN0O1xuICAgICAgICAgICAgdGhpcy5maXJzdCA9IHRoaXMuZmlyc3QubmV4dDtcbiAgICAgICAgICAgIGlmICghLS10aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXVlLmpzLm1hcCIsIi8qXG4gKiBEZWZhdWx0IGJ1ZmZlciBzaXplXG4gKi9cbmNvbnN0IERFRkFVTFRfQlVGRkVSX1NJWkUgPSAxMDAwO1xuLypcbiAqIERlZmF1bHQgZmx1c2ggdGltZW91dFxuICovXG5jb25zdCBERUZBVUxUX0ZMVVNIX1RJTUVPVVQgPSAxMDAwO1xuLypcbiAqIERlZmF1bHQgcmV0cnkgY291bnRcbiAqL1xuY29uc3QgREVGQVVMVF9SRVRSWV9DT1VOVCA9IDM7XG4vKlxuICogRGVmYXVsdCByZXRyeSBiYWNrb2ZmXG4gKi9cbmNvbnN0IERFRkFVTFRfUkVUUllfQkFDS09GRiA9IDEwMDtcbi8qXG4gKiBEZWZhdWx0IGZ1bmN0aW9uIGZvciBjb21wdXRpbmcgbG9nIHNpemUgKHNlcmlhbGl6ZWQgSlNPTiBsZW5ndGggKyAxIGZvciBjb21tYSlcbiAqL1xuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZUpzb25Mb2dTaXplQnl0ZXMgPSAobG9nKSA9PiBKU09OLnN0cmluZ2lmeShsb2cpLmxlbmd0aCArIDE7XG4vKipcbiAqIGJhdGNoIHRoZSBidWZmZXIgY29taW5nIGluLCBwcm9jZXNzIHRoZW0gYW5kIHRoZW4gcmVzb2x2ZVxuICpcbiAqIEBwYXJhbSBzaXplIC0gTnVtYmVyXG4gKiBAcGFyYW0gZmx1c2hUaW1lb3V0IC0gTnVtYmVyXG4gKiBAcGFyYW0gcmV0cnlDb3VudCAtIE51bWJlclxuICogQHBhcmFtIHJldHJ5QmFja29mZiAtIE51bWJlclxuICogQHBhcmFtIHNpemVCeXRlcyAtIFNpemUgb2YgdGhlIGJhdGNoIChpbiBieXRlcykgdGhhdCB0cmlnZ2VycyBmbHVzaGluZy4gU2V0IHRvIDAgdG8gZGlzYWJsZS5cbiAqIEBwYXJhbSBjYWxjdWxhdGVMb2dTaXplQnl0ZXMgLSBGdW5jdGlvbiB0byBjYWxjdWxhdGUgc2l6ZSBvZiBhIHNpbmdsZSBJTG9ndGFpbExvZyBpbnN0YW5jZSAoaW4gYnl0ZXMpLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlQmF0Y2goc2l6ZSA9IERFRkFVTFRfQlVGRkVSX1NJWkUsIGZsdXNoVGltZW91dCA9IERFRkFVTFRfRkxVU0hfVElNRU9VVCwgcmV0cnlDb3VudCA9IERFRkFVTFRfUkVUUllfQ09VTlQsIHJldHJ5QmFja29mZiA9IERFRkFVTFRfUkVUUllfQkFDS09GRiwgc2l6ZUJ5dGVzID0gMCwgY2FsY3VsYXRlTG9nU2l6ZUJ5dGVzID0gY2FsY3VsYXRlSnNvbkxvZ1NpemVCeXRlcykge1xuICAgIGxldCB0aW1lb3V0O1xuICAgIGxldCBjYjtcbiAgICBsZXQgYnVmZmVyID0gW107XG4gICAgbGV0IGJ1ZmZlclNpemVCeXRlcyA9IDA7XG4gICAgbGV0IHJldHJ5ID0gMDtcbiAgICAvLyBXYWl0IHVudGlsIHRoZSBtaW5pbXVtIHJldHJ5IGJhY2tvZmYgdGltZSBoYXMgcGFzc2VkIGJlZm9yZSByZXRyeWluZ1xuICAgIGxldCBtaW5SZXRyeUJhY2tvZmYgPSAwO1xuICAgIC8qXG4gICAgICogUHJvY2VzcyB0aGVuIGZsdXNoIHRoZSBsaXN0XG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCdWZmZXIgPSBidWZmZXI7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCdWZmZXJTaXplS0IgPSBidWZmZXJTaXplQnl0ZXM7XG4gICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgICAgICBidWZmZXJTaXplQnl0ZXMgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgY2IoY3VycmVudEJ1ZmZlci5tYXAoKGQpID0+IGQubG9nKSk7XG4gICAgICAgICAgICBjdXJyZW50QnVmZmVyLmZvckVhY2goKGQpID0+IGQucmVzb2x2ZShkLmxvZykpO1xuICAgICAgICAgICAgcmV0cnkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAocmV0cnkgPCByZXRyeUNvdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0cnkrKztcbiAgICAgICAgICAgICAgICBtaW5SZXRyeUJhY2tvZmYgPSBEYXRlLm5vdygpICsgcmV0cnlCYWNrb2ZmO1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5jb25jYXQoY3VycmVudEJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgYnVmZmVyU2l6ZUJ5dGVzICs9IGN1cnJlbnRCdWZmZXJTaXplS0I7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2V0dXBUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEJ1ZmZlci5tYXAoKGQpID0+IGQucmVqZWN0KGUpKTtcbiAgICAgICAgICAgIHJldHJ5ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgICAqIFN0YXJ0IHRpbWVvdXQgdG8gZmx1c2hcbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZXR1cFRpbWVvdXQoKSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZmx1c2goKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCBmbHVzaFRpbWVvdXQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLypcbiAgICAgKiBCYXRjaGVyIHdoaWNoIHRha2VzIGEgcHJvY2VzcyBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBmbiAtIEFueSBmdW5jdGlvbiB0byBwcm9jZXNzIGxpc3RcbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0UHVzaGVyOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIGNiID0gZm47XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogUHVzaGVzIGVhY2ggbG9nIGludG8gbGlzdFxuICAgICAgICAgICAgICogQHBhcmFtIGxvZzogSUxvZ3RhaWxMb2cgLSBBbnkgb2JqZWN0IHRvIHB1c2ggaW50byBsaXN0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAobG9nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLnB1c2goeyBsb2csIHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIHNraXAgbG9nIHNpemUgY2FsY3VsYXRpb24gaWYgdGhlcmUgaXMgbm8gbWF4IHNpemUgc2V0XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaXplQnl0ZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJTaXplQnl0ZXMgKz0gY2FsY3VsYXRlTG9nU2l6ZUJ5dGVzKGxvZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGJ1ZmZlciBpcyBmdWxsIGVub3VnaCwgZmx1c2ggaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5sZXNzIHdlJ3JlIHN0aWxsIHdhaXRpbmcgZm9yIHRoZSBtaW5pbXVtIHJldHJ5IGJhY2tvZmYgdGltZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0J1ZmZlckZ1bGxFbm91Z2ggPSBidWZmZXIubGVuZ3RoID49IHNpemUgfHwgKHNpemVCeXRlcyA+IDAgJiYgYnVmZmVyU2l6ZUJ5dGVzID49IHNpemVCeXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0J1ZmZlckZ1bGxFbm91Z2ggJiYgRGF0ZS5ub3coKSA+IG1pblJldHJ5QmFja29mZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNldHVwVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZmx1c2gsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhdGNoLmpzLm1hcCIsImNvbnN0IFJFU09MVVRJT04gPSA2NDtcbi8qKlxuICogQ3JlYXRlIGEgYnVyc3QgcHJvdGVjdGlvbiB3aGljaCBhbGxvd3MgcnVubmluZyBmdW5jdGlvbiBvbmx5IGEgbnVtYmVyIG9mIHRpbWVzIGluIGEgY29uZmlndXJhYmxlIHdpbmRvd1xuICogQHBhcmFtIG1pbGxpc2Vjb25kcyAtIGxlbmd0aCBvZiB0aGUgY2hlY2tlZCB3aW5kb3cgaW4gbWlsbGlzZWNvbmRzXG4gKiBAcGFyYW0gbWF4IC0gbWF4aW11bSBudW1iZXIgb2YgZnVuY3Rpb25zIHRvIHJ1biBpbiB0aGF0IHdpbmRvd1xuICogQHBhcmFtIGZ1bmN0aW9uTmFtZSAtIGZ1bmN0aW9uIG5hbWUgZm9yIGVycm9yIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUJ1cnN0UHJvdGVjdGlvbihtaWxsaXNlY29uZHMsIG1heCwgZnVuY3Rpb25OYW1lID0gXCJUaGUgZnVuY3Rpb25cIikge1xuICAgIGlmIChtaWxsaXNlY29uZHMgPD0gMCB8fCBtYXggPD0gMCkge1xuICAgICAgICByZXR1cm4gKGZuKSA9PiBmbjtcbiAgICB9XG4gICAgbGV0IGNhbGxDb3VudHMgPSBbMF07XG4gICAgbGV0IGxhc3RFcnJvck91dHB1dCA9IDA7XG4gICAgbGV0IGxhc3RJbnRlcnZhbFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUNhbGxDb3VudHMoKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IGludGVydmFsTGVuZ3RoID0gbWlsbGlzZWNvbmRzIC8gUkVTT0xVVElPTjtcbiAgICAgICAgaWYgKG5vdyA8IGxhc3RJbnRlcnZhbFRpbWUgKyBpbnRlcnZhbExlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXBlbmQgY2FsbENvdW50cyB3aXRoIGNvcnJlY3QgbnVtYmVyIG9mIHplcm9lcyBhbmQga2VlcCBpdHMgbGVuZ3RoIHRvIFJFU09MVVRJT04gYXQgbWF4XG4gICAgICAgIGNvbnN0IGludGVydmFsQ291bnRTaW5jZUxhc3QgPSBNYXRoLmZsb29yKChub3cgLSBsYXN0SW50ZXJ2YWxUaW1lKSAvIGludGVydmFsTGVuZ3RoKTtcbiAgICAgICAgY2FsbENvdW50cyA9IEFycmF5KE1hdGgubWluKGludGVydmFsQ291bnRTaW5jZUxhc3QsIFJFU09MVVRJT04pKS5maWxsKDApLmNvbmNhdChjYWxsQ291bnRzKS5zbGljZSgwLCBSRVNPTFVUSU9OKTtcbiAgICAgICAgbGFzdEludGVydmFsVGltZSArPSBpbnRlcnZhbENvdW50U2luY2VMYXN0ICogaW50ZXJ2YWxMZW5ndGg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRvdGFsQ2FsbENvdW50KCkge1xuICAgICAgICByZXR1cm4gY2FsbENvdW50cy5yZWR1Y2UoKHRvdGFsLCBpdGVtKSA9PiB0b3RhbCArIGl0ZW0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmNyZW1lbnRDYWxsQ291bnQoKSB7XG4gICAgICAgIGNhbGxDb3VudHNbMF0rKztcbiAgICB9XG4gICAgcmV0dXJuIChmbikgPT4ge1xuICAgICAgICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUNhbGxDb3VudHMoKTtcbiAgICAgICAgICAgIGlmIChnZXRUb3RhbENhbGxDb3VudCgpIDwgbWF4KSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50Q2FsbENvdW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmIChsYXN0RXJyb3JPdXRwdXQgPCBub3cgLSBtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICBsYXN0RXJyb3JPdXRwdXQgPSBub3c7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHtmdW5jdGlvbk5hbWV9IHdhcyBjYWxsZWQgbW9yZSB0aGFuICR7bWF4fSB0aW1lcyBkdXJpbmcgbGFzdCAke21pbGxpc2Vjb25kc31tcy4gSWdub3JpbmcuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1cnN0UHJvdGVjdGlvbi5qcy5tYXAiLCJpbXBvcnQgUXVldWUgZnJvbSBcIi4vcXVldWVcIjtcbi8qKlxuICogQ3JlYXRlIGEgdGhyb3R0bGUgd2hpY2ggcnVucyB1cCB0byBgbWF4YCBhc3luYyBmdW5jdGlvbnMgYXQgb25jZVxuICogQHBhcmFtIG1heCAtIG1heGltdW0gbnVtYmVyIG9mIGFzeW5jIGZ1bmN0aW9ucyB0byBydW5cbiAqIEBwYXJhbSBxdWV1ZU1heCAtIG1heGltdW0gbnVtYmVyIG9mIGZ1bmN0aW9ucyB0byBxdWV1ZSAoLTEgPSB1bmxpbWl0ZWQsIGRlZmF1bHQpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VUaHJvdHRsZShtYXgsIHF1ZXVlTWF4ID0gLTEpIHtcbiAgICAvLyBDdXJyZW50IGl0ZXJhdGlvbiBjeWNsZVxuICAgIGxldCBjdXJyZW50ID0gMDtcbiAgICAvLyBDcmVhdGUgYSBGSUZPIHF1ZXVlXG4gICAgY29uc3QgcXVldWUgPSBuZXcgUXVldWUoKTtcbiAgICAvKipcbiAgICAgKiBUaHJvdHRsZSBmdW5jdGlvbiB0aGF0IHRocm90dGxlcyB0aGUgcGFzc2VkIGZ1bmMgYWNjb3JkaW5nIHRvIGBtYXhgXG4gICAgICogQHBhcmFtIGZuIC0gYXN5bmMgZnVuY3Rpb24gdG8gcmVzb2x2ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZuKSB7XG4gICAgICAgIHJldHVybiBhc3luYyAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBIYW5kbGVyIGZvciByZXNvbHZpbmcgdGhlIFByb21pc2UgY2hhaW5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJlc29sdmUgaWYgdGhlIGBtYXhgIGhhc24ndCBiZWVuIGV4aGF1c3RlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA8IG1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IHRoZSBhdmFpbGFibGUgc2xvdCBzaXplXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF3YWl0IHRoZSBwYXNzZWQgZnVuY3Rpb24gaGVyZSBmaXJzdCwgdG8gZGV0ZXJtaW5lIGlmIGFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVycm9ycyBhcmUgdGhyb3duLCBzbyB0aGV5IGNhbiBiZSBoYW5kbGVkIGJ5IG91ciBvdXRzaWRlIGByZWplY3RgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhd2FpdCBmbiguLi5hcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaGFzIG5vdyByZXNvbHZlZCwgbWFrZSB0aGUgc2xvdCBhdmFpbGFibGUgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBpdGVtcyB3YWl0aW5nIGluIHRoZSBxdWV1ZSwgcmVzb2x2ZSB0aGUgbmV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5zaGlmdCgpKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocXVldWVNYXggPCAwIHx8IHF1ZXVlLmxlbmd0aCA8IHF1ZXVlTWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYG1heGAgaGFzIGJlZW4gZXhjZWVkZWQgYW5kIGlmIHF1ZXVlIGxpbWl0IGhhc24ndCBiZWVuIGhpdCAtIHB1c2ggb250byB0aGUgcXVldWUgdG8gd2FpdFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlamVjdCB0aGlzIGNhbGwgZHVlIHRvIHF1ZXVlIGxpbWl0XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiUXVldWUgbWF4IGxpbWl0IGV4Y2VlZGVkXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGFzeW5jIGhhbmRsZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFJldHVybiB0aGUgdGhyb3R0bGUgZnVuY3Rpb25cbiAgICByZXR1cm4gdGhyb3R0bGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvdHRsZS5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbmNsYXNzIE5vbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIoTm9uRXJyb3IuX3ByZXBhcmVTdXBlck1lc3NhZ2UobWVzc2FnZSkpO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHtcblx0XHRcdHZhbHVlOiAnTm9uRXJyb3InLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0d3JpdGFibGU6IHRydWVcblx0XHR9KTtcblxuXHRcdGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuXHRcdFx0RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgTm9uRXJyb3IpO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyBfcHJlcGFyZVN1cGVyTWVzc2FnZShtZXNzYWdlKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHJldHVybiBTdHJpbmcobWVzc2FnZSk7XG5cdFx0fVxuXHR9XG59XG5cbmNvbnN0IGNvbW1vblByb3BlcnRpZXMgPSBbXG5cdHtwcm9wZXJ0eTogJ25hbWUnLCBlbnVtZXJhYmxlOiBmYWxzZX0sXG5cdHtwcm9wZXJ0eTogJ21lc3NhZ2UnLCBlbnVtZXJhYmxlOiBmYWxzZX0sXG5cdHtwcm9wZXJ0eTogJ3N0YWNrJywgZW51bWVyYWJsZTogZmFsc2V9LFxuXHR7cHJvcGVydHk6ICdjb2RlJywgZW51bWVyYWJsZTogdHJ1ZX1cbl07XG5cbmNvbnN0IGlzQ2FsbGVkID0gU3ltYm9sKCcudG9KU09OIGNhbGxlZCcpO1xuXG5jb25zdCB0b0pTT04gPSBmcm9tID0+IHtcblx0ZnJvbVtpc0NhbGxlZF0gPSB0cnVlO1xuXHRjb25zdCBqc29uID0gZnJvbS50b0pTT04oKTtcblx0ZGVsZXRlIGZyb21baXNDYWxsZWRdO1xuXHRyZXR1cm4ganNvbjtcbn07XG5cbmNvbnN0IGRlc3Ryb3lDaXJjdWxhciA9ICh7XG5cdGZyb20sXG5cdHNlZW4sXG5cdHRvXyxcblx0Zm9yY2VFbnVtZXJhYmxlLFxuXHRtYXhEZXB0aCxcblx0ZGVwdGhcbn0pID0+IHtcblx0Y29uc3QgdG8gPSB0b18gfHwgKEFycmF5LmlzQXJyYXkoZnJvbSkgPyBbXSA6IHt9KTtcblxuXHRzZWVuLnB1c2goZnJvbSk7XG5cblx0aWYgKGRlcHRoID49IG1heERlcHRoKSB7XG5cdFx0cmV0dXJuIHRvO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBmcm9tLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJyAmJiBmcm9tW2lzQ2FsbGVkXSAhPT0gdHJ1ZSkge1xuXHRcdHJldHVybiB0b0pTT04oZnJvbSk7XG5cdH1cblxuXHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmcm9tKSkge1xuXHRcdGlmICh0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIEJ1ZmZlci5pc0J1ZmZlcih2YWx1ZSkpIHtcblx0XHRcdHRvW2tleV0gPSAnW29iamVjdCBCdWZmZXJdJztcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0dG9ba2V5XSA9IHZhbHVlO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKCFzZWVuLmluY2x1ZGVzKGZyb21ba2V5XSkpIHtcblx0XHRcdGRlcHRoKys7XG5cblx0XHRcdHRvW2tleV0gPSBkZXN0cm95Q2lyY3VsYXIoe1xuXHRcdFx0XHRmcm9tOiBmcm9tW2tleV0sXG5cdFx0XHRcdHNlZW46IHNlZW4uc2xpY2UoKSxcblx0XHRcdFx0Zm9yY2VFbnVtZXJhYmxlLFxuXHRcdFx0XHRtYXhEZXB0aCxcblx0XHRcdFx0ZGVwdGhcblx0XHRcdH0pO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dG9ba2V5XSA9ICdbQ2lyY3VsYXJdJztcblx0fVxuXG5cdGZvciAoY29uc3Qge3Byb3BlcnR5LCBlbnVtZXJhYmxlfSBvZiBjb21tb25Qcm9wZXJ0aWVzKSB7XG5cdFx0aWYgKHR5cGVvZiBmcm9tW3Byb3BlcnR5XSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0bywgcHJvcGVydHksIHtcblx0XHRcdFx0dmFsdWU6IGZyb21bcHJvcGVydHldLFxuXHRcdFx0XHRlbnVtZXJhYmxlOiBmb3JjZUVudW1lcmFibGUgPyB0cnVlIDogZW51bWVyYWJsZSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcblxuY29uc3Qgc2VyaWFsaXplRXJyb3IgPSAodmFsdWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuXHRjb25zdCB7bWF4RGVwdGggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9ID0gb3B0aW9ucztcblxuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuXHRcdHJldHVybiBkZXN0cm95Q2lyY3VsYXIoe1xuXHRcdFx0ZnJvbTogdmFsdWUsXG5cdFx0XHRzZWVuOiBbXSxcblx0XHRcdGZvcmNlRW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdG1heERlcHRoLFxuXHRcdFx0ZGVwdGg6IDBcblx0XHR9KTtcblx0fVxuXG5cdC8vIFBlb3BsZSBzb21ldGltZXMgdGhyb3cgdGhpbmdzIGJlc2lkZXMgRXJyb3Igb2JqZWN0c+KAplxuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gYEpTT04uc3RyaW5naWZ5KClgIGRpc2NhcmRzIGZ1bmN0aW9ucy4gV2UgZG8gdG9vLCB1bmxlc3MgYSBmdW5jdGlvbiBpcyB0aHJvd24gZGlyZWN0bHkuXG5cdFx0cmV0dXJuIGBbRnVuY3Rpb246ICR7KHZhbHVlLm5hbWUgfHwgJ2Fub255bW91cycpfV1gO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufTtcblxuY29uc3QgZGVzZXJpYWxpemVFcnJvciA9ICh2YWx1ZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG5cdGNvbnN0IHttYXhEZXB0aCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWX0gPSBvcHRpb25zO1xuXG5cdGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0Y29uc3QgbmV3RXJyb3IgPSBuZXcgRXJyb3IoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSB1bmljb3JuL2Vycm9yLW1lc3NhZ2Vcblx0XHRkZXN0cm95Q2lyY3VsYXIoe1xuXHRcdFx0ZnJvbTogdmFsdWUsXG5cdFx0XHRzZWVuOiBbXSxcblx0XHRcdHRvXzogbmV3RXJyb3IsXG5cdFx0XHRtYXhEZXB0aCxcblx0XHRcdGRlcHRoOiAwXG5cdFx0fSk7XG5cdFx0cmV0dXJuIG5ld0Vycm9yO1xuXHR9XG5cblx0cmV0dXJuIG5ldyBOb25FcnJvcih2YWx1ZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0c2VyaWFsaXplRXJyb3IsXG5cdGRlc2VyaWFsaXplRXJyb3Jcbn07XG4iLCJpbXBvcnQgeyBMb2dMZXZlbCB9IGZyb20gXCJAbG9ndGFpbC90eXBlc1wiO1xuaW1wb3J0IHsgbWFrZUJhdGNoLCBtYWtlQnVyc3RQcm90ZWN0aW9uLCBtYWtlVGhyb3R0bGUsIGNhbGN1bGF0ZUpzb25Mb2dTaXplQnl0ZXMgfSBmcm9tIFwiQGxvZ3RhaWwvdG9vbHNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZUVycm9yIH0gZnJvbSBcInNlcmlhbGl6ZS1lcnJvclwiO1xuLy8gU2V0IGRlZmF1bHQgb3B0aW9ucyBmb3IgTG9ndGFpbFxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgLy8gRGVmYXVsdCBzeW5jIGVuZHBvaW50IChwcm90b2NvbCArIGRvbWFpbilcbiAgICBlbmRwb2ludDogXCJodHRwczovL2luLmxvZ3MuYmV0dGVyc3RhY2suY29tXCIsXG4gICAgLy8gTWF4aW11bSBudW1iZXIgb2YgbG9ncyB0byBzeW5jIGluIGEgc2luZ2xlIHJlcXVlc3QgdG8gQmV0dGVyIFN0YWNrXG4gICAgYmF0Y2hTaXplOiAxMDAwLFxuICAgIC8vIFNpemUgb2YgbG9ncyAoaW4gS2lCKSB0byB0cmlnZ2VyIHN5bmMgdG8gQmV0dGVyIFN0YWNrICgwIHRvIGRpc2FibGUpXG4gICAgYmF0Y2hTaXplS2lCOiAwLFxuICAgIC8vIE1heCBpbnRlcnZhbCAoaW4gbWlsbGlzZWNvbmRzKSBiZWZvcmUgYSBiYXRjaCBvZiBsb2dzIHByb2NlZWRzIHRvIHN5bmNpbmdcbiAgICBiYXRjaEludGVydmFsOiAxMDAwLFxuICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHJldHJ5IGEgZmFpbGVkIHN5bmMgcmVxdWVzdFxuICAgIHJldHJ5Q291bnQ6IDMsXG4gICAgLy8gTWluaW11bSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHJldHJ5aW5nIGEgZmFpbGVkIHN5bmMgcmVxdWVzdFxuICAgIHJldHJ5QmFja29mZjogMTAwLFxuICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIHN5bmMgcmVxdWVzdHMgdG8gbWFrZSBjb25jdXJyZW50bHlcbiAgICBzeW5jTWF4OiA1LFxuICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIHN5bmMgcmVxdWVzdHMgdGhhdCBjYW4gYmUgcXVldWVkICgtMSBmb3IgdW5saW1pdGVkIHF1ZXVlKVxuICAgIHN5bmNRdWV1ZWRNYXg6IDEwMCxcbiAgICAvLyBMZW5ndGggb2YgdGhlIGNoZWNrZWQgd2luZG93IGZvciBsb2dzIGJ1cnN0IHByb3RlY3Rpb24gaW4gbWlsbGlzZWNvbmRzICgwIHRvIGRpc2FibGUpXG4gICAgYnVyc3RQcm90ZWN0aW9uTWlsbGlzZWNvbmRzOiA1MDAwLFxuICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIGFjY2VwdGVkIGxvZ3MgaW4gdGhlIHNwZWNpZmllZCB0aW1lIHdpbmRvdyAoMCB0byBkaXNhYmxlKVxuICAgIGJ1cnN0UHJvdGVjdGlvbk1heDogMTAwMDAsXG4gICAgLy8gSWYgdHJ1ZSwgZXJyb3JzIHdoZW4gc2VuZGluZyBsb2dzIHdpbGwgYmUgaWdub3JlZFxuICAgIC8vIEhhcyBwcmVjZWRlbmNlIG92ZXIgdGhyb3dFeGNlcHRpb25zXG4gICAgaWdub3JlRXhjZXB0aW9uczogZmFsc2UsXG4gICAgLy8gSWYgdHJ1ZSwgZXJyb3JzIHdoZW4gc2VuZGluZyBsb2dzIHdpbGwgcmVzdWx0IGluIGEgdGhyb3duIGV4Y2VwdGlvblxuICAgIHRocm93RXhjZXB0aW9uczogZmFsc2UsXG4gICAgLy8gTWF4aW11bSBkZXB0aCAobnVtYmVyIG9mIGF0dHJpYnV0ZSBsZXZlbHMpIG9mIGEgY29udGV4dCBvYmplY3RcbiAgICBjb250ZXh0T2JqZWN0TWF4RGVwdGg6IDUwLFxuICAgIC8vIFByb2R1Y2UgYSB3YXJuIGxvZyB3aGVuIGNvbnRleHQgb2JqZWN0IG1heCBkZXB0aCBpcyByZWFjaGVkXG4gICAgY29udGV4dE9iamVjdE1heERlcHRoV2FybjogdHJ1ZSxcbiAgICAvLyBQcm9kdWNlIGEgd2FybmluZyB3aGVuIGNpcmN1bGFyIHJlZmVyZW5jZSBpcyBmb3VuZCBpbiBjb250ZXh0IG9iamVjdFxuICAgIGNvbnRleHRPYmplY3RDaXJjdWxhclJlZldhcm46IHRydWUsXG4gICAgLy8gSWYgdHJ1ZSwgYWxsIGxvZ3Mgd2lsbCBiZSBzZW50IHRvIHN0YW5kYXJkIGNvbnNvbGUgb3V0cHV0IGZ1bmN0aW9ucyAoY29uc29sZS5pbmZvLCBjb25zb2xlLndhcm4sIC4uLilcbiAgICBzZW5kTG9nc1RvQ29uc29sZU91dHB1dDogZmFsc2UsXG4gICAgLy8gSWYgdHJ1ZSwgYWxsIGxvZ3Mgd2lsbCBiZSBzZW50IHRvIEJldHRlciBTdGFja1xuICAgIHNlbmRMb2dzVG9CZXR0ZXJTdGFjazogdHJ1ZSxcbiAgICAvLyBGdW5jdGlvbiB0byBiZSB1c2VkIHRvIGNhbGN1bGF0ZSBzaXplIG9mIGxvZ3MgaW4gYnl0ZXMgKHRvIGV2YWx1YXRlIGJhdGNoU2l6ZUxpbWl0S2lCKVxuICAgIGNhbGN1bGF0ZUxvZ1NpemVCeXRlczogY2FsY3VsYXRlSnNvbkxvZ1NpemVCeXRlcyxcbn07XG4vKipcbiAqIExvZ3RhaWwgY29yZSBjbGFzcyBmb3IgbG9nZ2luZyB0byB0aGUgQmV0dGVyIFN0YWNrIHNlcnZpY2VcbiAqL1xuY2xhc3MgTG9ndGFpbCB7XG4gICAgLyogQ09OU1RSVUNUT1IgKi9cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBMb2d0YWlsIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc291cmNlVG9rZW46IHN0cmluZyAtIFByaXZhdGUgc291cmNlIHRva2VuIGZvciBsb2dnaW5nIHRvIEJldHRlciBTdGFja1xuICAgICAqIEBwYXJhbSBvcHRpb25zPzogSUxvZ3RhaWxPcHRpb25zIC0gT3B0aW9uYWxseSBzcGVjaWZ5IExvZ3RhaWwgb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZVRva2VuLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIE1pZGRsZXdhcmVcbiAgICAgICAgdGhpcy5fbWlkZGxld2FyZSA9IFtdO1xuICAgICAgICAvLyBOdW1iZXIgb2YgbG9ncyBsb2dnZWRcbiAgICAgICAgdGhpcy5fY291bnRMb2dnZWQgPSAwO1xuICAgICAgICAvLyBOdW1iZXIgb2YgbG9ncyBzdWNjZXNzZnVsbHkgc3luY2VkIHdpdGggTG9ndGFpbFxuICAgICAgICB0aGlzLl9jb3VudFN5bmNlZCA9IDA7XG4gICAgICAgIC8vIE51bWJlciBvZiBsb2dzIHRoYXQgZmFpbGVkIHRvIGJlIHN5bmNlZCB0byBMb2d0YWlsXG4gICAgICAgIHRoaXMuX2NvdW50RHJvcHBlZCA9IDA7XG4gICAgICAgIC8vIEZpcnN0LCBjaGVjayB3ZSBoYXZlIGEgdmFsaWQgc291cmNlIHRva2VuXG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlVG9rZW4gIT09IFwic3RyaW5nXCIgfHwgc291cmNlVG9rZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvZ3RhaWwgc291cmNlIHRva2VuIG1pc3NpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RvcmUgdGhlIHNvdXJjZSB0b2tlbiwgdG8gdXNlIGZvciBzeW5jaW5nIHdpdGggQmV0dGVyIFN0YWNrXG4gICAgICAgIHRoaXMuX3NvdXJjZVRva2VuID0gc291cmNlVG9rZW47XG4gICAgICAgIC8vIE1lcmdlIGRlZmF1bHQgYW5kIHVzZXIgb3B0aW9uc1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAvLyBDcmVhdGUgYSB0aHJvdHRsZXIsIGZvciBzeW5jIG9wZXJhdGlvbnNcbiAgICAgICAgY29uc3QgdGhyb3R0bGUgPSBtYWtlVGhyb3R0bGUodGhpcy5fb3B0aW9ucy5zeW5jTWF4LCB0aGlzLl9vcHRpb25zLnN5bmNRdWV1ZWRNYXgpO1xuICAgICAgICAvLyBTeW5jIGFmdGVyIHRocm90dGxpbmdcbiAgICAgICAgY29uc3QgdGhyb3R0bGVyID0gdGhyb3R0bGUoKGxvZ3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zeW5jKGxvZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQnVyc3QgcHJvdGVjdGlvbiBmb3IgbG9nZ2luZ1xuICAgICAgICB0aGlzLl9sb2dCdXJzdFByb3RlY3Rpb24gPSBtYWtlQnVyc3RQcm90ZWN0aW9uKHRoaXMuX29wdGlvbnMuYnVyc3RQcm90ZWN0aW9uTWlsbGlzZWNvbmRzLCB0aGlzLl9vcHRpb25zLmJ1cnN0UHJvdGVjdGlvbk1heCwgXCJMb2dnaW5nXCIpO1xuICAgICAgICB0aGlzLmxvZyA9IHRoaXMuX2xvZ0J1cnN0UHJvdGVjdGlvbih0aGlzLmxvZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgYmF0Y2hlciwgZm9yIGFnZ3JlZ2F0aW5nIGxvZ3MgYnkgYnVmZmVyIHNpemUvaW50ZXJ2YWxcbiAgICAgICAgY29uc3QgYmF0Y2hlciA9IG1ha2VCYXRjaCh0aGlzLl9vcHRpb25zLmJhdGNoU2l6ZSwgdGhpcy5fb3B0aW9ucy5iYXRjaEludGVydmFsLCB0aGlzLl9vcHRpb25zLnJldHJ5Q291bnQsIHRoaXMuX29wdGlvbnMucmV0cnlCYWNrb2ZmLCB0aGlzLl9vcHRpb25zLmJhdGNoU2l6ZUtpQiAqIDEwMjQsIHRoaXMuX29wdGlvbnMuY2FsY3VsYXRlTG9nU2l6ZUJ5dGVzKTtcbiAgICAgICAgdGhpcy5fYmF0Y2ggPSBiYXRjaGVyLmluaXRQdXNoZXIoKGxvZ3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aHJvdHRsZXIobG9ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9mbHVzaCA9IGJhdGNoZXIuZmx1c2g7XG4gICAgfVxuICAgIC8qIFBVQkxJQyBNRVRIT0RTICovXG4gICAgLyoqXG4gICAgICogRmx1c2ggYmF0Y2hlZCBsb2dzIHRvIExvZ3RhaWxcbiAgICAgKi9cbiAgICBhc3luYyBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsdXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBlbnRyaWVzIGxvZ2dlZFxuICAgICAqXG4gICAgICogQHJldHVybnMgbnVtYmVyXG4gICAgICovXG4gICAgZ2V0IGxvZ2dlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50TG9nZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgbG9nIGVudHJpZXMgc3luY2VkIHdpdGggQmV0dGVyIFN0YWNrXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBudW1iZXJcbiAgICAgKi9cbiAgICBnZXQgc3luY2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY291bnRTeW5jZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBlbnRyaWVzIGRyb3BwZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIG51bWJlclxuICAgICAqL1xuICAgIGdldCBkcm9wcGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY291bnREcm9wcGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgYW4gZW50cnksIHRvIGJlIHN5bmNlZCB3aXRoIEJldHRlciBTdGFja1xuICAgICAqXG4gICAgICogQHBhcmFtIG1lc3NhZ2U6IHN0cmluZyAtIExvZyBtZXNzYWdlXG4gICAgICogQHBhcmFtIGxldmVsIChMb2dMZXZlbCkgLSBMZXZlbCB0byBsb2cgYXQgKGRlYnVnfGluZm98d2FybnxlcnJvcilcbiAgICAgKiBAcGFyYW0gY29udGV4dDogKENvbnRleHQpIC0gQ29udGV4dCAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxJTG9ndGFpbExvZz4gYWZ0ZXIgc3luY2luZ1xuICAgICAqL1xuICAgIGFzeW5jIGxvZyhtZXNzYWdlLCBsZXZlbCA9IExvZ0xldmVsLkluZm8sIGNvbnRleHQgPSB7fSkge1xuICAgICAgICAvLyBXcmFwIGNvbnRleHQgaW4gYW4gb2JqZWN0LCBpZiBpdCdzIG5vdCBhbHJlYWR5XG4gICAgICAgIGlmICh0eXBlb2YgY29udGV4dCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZENvbnRleHQgPSB7IGV4dHJhOiBjb250ZXh0IH07XG4gICAgICAgICAgICBjb250ZXh0ID0gd3JhcHBlZENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZENvbnRleHQgPSB7IGVycm9yOiBjb250ZXh0IH07XG4gICAgICAgICAgICBjb250ZXh0ID0gd3JhcHBlZENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuc2VuZExvZ3NUb0NvbnNvbGVPdXRwdXQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVidWdcIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhtZXNzYWdlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImluZm9cIjpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKG1lc3NhZ2UsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwid2FyblwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7bGV2ZWwudG9VcHBlckNhc2UoKX1dYCwgbWVzc2FnZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHRoYXQgd2UgaGF2ZSBhIHN5bmMgZnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zeW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIExvZ3RhaWwgbG9nZ2VyIHN5bmMgZnVuY3Rpb24gcHJvdmlkZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IGxvZyBjb3VudFxuICAgICAgICB0aGlzLl9jb3VudExvZ2dlZCsrO1xuICAgICAgICAvLyBTdGFydCBidWlsZGluZyB0aGUgbG9nIG1lc3NhZ2VcbiAgICAgICAgbGV0IGxvZyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IFxuICAgICAgICAgICAgLy8gSW1wbGljaXQgZGF0ZSB0aW1lc3RhbXBcbiAgICAgICAgICAgIGR0OiBuZXcgRGF0ZSgpLCBcbiAgICAgICAgICAgIC8vIEV4cGxpY2l0IGxldmVsXG4gICAgICAgICAgICBsZXZlbCB9LCBjb250ZXh0KSwgKG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IHNlcmlhbGl6ZUVycm9yKG1lc3NhZ2UpIDogeyBtZXNzYWdlIH0pKTtcbiAgICAgICAgbGV0IHRyYW5zZm9ybWVkTG9nID0gbG9nO1xuICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgdGhpcy5fbWlkZGxld2FyZSkge1xuICAgICAgICAgICAgbGV0IG5ld1RyYW5zZm9ybWVkTG9nID0gYXdhaXQgbWlkZGxld2FyZSh0cmFuc2Zvcm1lZExvZyk7XG4gICAgICAgICAgICBpZiAobmV3VHJhbnNmb3JtZWRMb2cgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IHB1c2ggdGhlIGxvZyBpZiBpdCB3YXMgZmlsdGVyZWQgb3V0IGluIGEgbWlkZGxld2FyZVxuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZExvZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYW5zZm9ybWVkTG9nID0gbmV3VHJhbnNmb3JtZWRMb2c7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFudWFsbHkgc2VyaWFsaXplIHRoZSBsb2cgZGF0YVxuICAgICAgICB0cmFuc2Zvcm1lZExvZyA9IHRoaXMuc2VyaWFsaXplKHRyYW5zZm9ybWVkTG9nLCB0aGlzLl9vcHRpb25zLmNvbnRleHRPYmplY3RNYXhEZXB0aCk7XG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5zZW5kTG9nc1RvQmV0dGVyU3RhY2spIHtcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIGxvZyBiZWZvcmUgc2VuZGluZyBpdFxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkTG9nO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBQdXNoIHRoZSBsb2cgdGhyb3VnaCB0aGUgYmF0Y2hlciwgYW5kIHN5bmNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2JhdGNoKHRyYW5zZm9ybWVkTG9nKTtcbiAgICAgICAgICAgIC8vIEluY3JlbWVudCBzeW5jIGNvdW50XG4gICAgICAgICAgICB0aGlzLl9jb3VudFN5bmNlZCsrO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJbmNyZW1lbnQgZHJvcHBlZCBjb3VudFxuICAgICAgICAgICAgdGhpcy5fY291bnREcm9wcGVkKys7XG4gICAgICAgICAgICAvLyBDYXRjaCBhbnkgZXJyb3JzIC0gcmUtdGhyb3cgaWYgYGlnbm9yZUV4Y2VwdGlvbnNgID09IGZhbHNlXG4gICAgICAgICAgICBpZiAoIXRoaXMuX29wdGlvbnMuaWdub3JlRXhjZXB0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnRocm93RXhjZXB0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT3V0cHV0IHRvIGNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHRoZSByZXN1bHRpbmcgbG9nXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZExvZztcbiAgICB9XG4gICAgc2VyaWFsaXplKHZhbHVlLCBtYXhEZXB0aCwgdmlzaXRlZE9iamVjdHMgPSBuZXcgV2Vha1NldCgpKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIC8vIERhdGUgaW5zdGFuY2VzIGNhbiBiZSBpbnZhbGlkICYgdG9JU09TdHJpbmcoKSB3aWxsIGZhaWxcbiAgICAgICAgICAgIGlmIChpc05hTih2YWx1ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRXJyb3IodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpICYmIChtYXhEZXB0aCA8IDEgfHwgdmlzaXRlZE9iamVjdHMuaGFzKHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGlmICh2aXNpdGVkT2JqZWN0cy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY29udGV4dE9iamVjdENpcmN1bGFyUmVmV2Fybikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFtMb2d0YWlsXSBGb3VuZCBhIGNpcmN1bGFyIHJlZmVyZW5jZSB3aGVuIHNlcmlhbGl6aW5nIGxvZ3MuIFBsZWFzZSBkbyBub3QgdXNlIGNpcmN1bGFyIHJlZmVyZW5jZXMgaW4geW91ciBsb2dzLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8b21pdHRlZCBjaXJjdWxhciByZWZlcmVuY2U+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5jb250ZXh0T2JqZWN0TWF4RGVwdGhXYXJuKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbTG9ndGFpbF0gTWF4IGRlcHRoIG9mICR7dGhpcy5fb3B0aW9ucy5jb250ZXh0T2JqZWN0TWF4RGVwdGh9IHJlYWNoZWQgd2hlbiBzZXJpYWxpemluZyBsb2dzLiBQbGVhc2UgZG8gbm90IHVzZSBleGNlc3NpdmUgb2JqZWN0IGRlcHRoIGluIHlvdXIgbG9ncy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBgPG9taXR0ZWQgY29udGV4dCBiZXlvbmQgY29uZmlndXJlZCBtYXggZGVwdGg6ICR7dGhpcy5fb3B0aW9ucy5jb250ZXh0T2JqZWN0TWF4RGVwdGh9PmA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZpc2l0ZWRPYmplY3RzLmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkQXJyYXkgPSB2YWx1ZS5tYXAoKGl0ZW0pID0+IHRoaXMuc2VyaWFsaXplKGl0ZW0sIG1heERlcHRoIC0gMSwgdmlzaXRlZE9iamVjdHMpKTtcbiAgICAgICAgICAgIHZpc2l0ZWRPYmplY3RzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplZEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZE9iamVjdCA9IHt9O1xuICAgICAgICAgICAgdmlzaXRlZE9iamVjdHMuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gaXRlbVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGl0ZW1bMV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZFZhbHVlID0gdGhpcy5zZXJpYWxpemUodmFsdWUsIG1heERlcHRoIC0gMSwgdmlzaXRlZE9iamVjdHMpO1xuICAgICAgICAgICAgICAgIGlmIChzZXJpYWxpemVkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemVkT2JqZWN0W2tleV0gPSBzZXJpYWxpemVkVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2aXNpdGVkT2JqZWN0cy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGA8b21pdHRlZCB1bnNlcmlhbGl6YWJsZSAke3R5cGVvZiB2YWx1ZX0+YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIERlYnVnIGxldmVsIGxvZywgdG8gYmUgc3luY2VkIHdpdGggQmV0dGVyIFN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZTogc3RyaW5nIC0gTG9nIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gY29udGV4dDogKFBpY2s8SUxvZ3RhaWxMb2csIFwiY29udGV4dFwiPikgLSBDb250ZXh0IChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPElMb2d0YWlsTG9nPiBhZnRlciBzeW5jaW5nXG4gICAgICovXG4gICAgYXN5bmMgZGVidWcobWVzc2FnZSwgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhtZXNzYWdlLCBMb2dMZXZlbC5EZWJ1ZywgY29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogSW5mbyBsZXZlbCBsb2csIHRvIGJlIHN5bmNlZCB3aXRoIEJldHRlciBTdGFja1xuICAgICAqXG4gICAgICogQHBhcmFtIG1lc3NhZ2U6IHN0cmluZyAtIExvZyBtZXNzYWdlXG4gICAgICogQHBhcmFtIGNvbnRleHQ6IChQaWNrPElMb2d0YWlsTG9nLCBcImNvbnRleHRcIj4pIC0gQ29udGV4dCAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxJTG9ndGFpbExvZz4gYWZ0ZXIgc3luY2luZ1xuICAgICAqL1xuICAgIGFzeW5jIGluZm8obWVzc2FnZSwgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvZyhtZXNzYWdlLCBMb2dMZXZlbC5JbmZvLCBjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBXYXJuaW5nIGxldmVsIGxvZywgdG8gYmUgc3luY2VkIHdpdGggQmV0dGVyIFN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZTogc3RyaW5nIC0gTG9nIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gY29udGV4dDogKFBpY2s8SUxvZ3RhaWxMb2csIFwiY29udGV4dFwiPikgLSBDb250ZXh0IChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPElMb2d0YWlsTG9nPiBhZnRlciBzeW5jaW5nXG4gICAgICovXG4gICAgYXN5bmMgd2FybihtZXNzYWdlLCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nKG1lc3NhZ2UsIExvZ0xldmVsLldhcm4sIGNvbnRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFdhcm5pbmcgbGV2ZWwgbG9nLCB0byBiZSBzeW5jZWQgd2l0aCBCZXR0ZXIgU3RhY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlOiBzdHJpbmcgLSBMb2cgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBjb250ZXh0OiAoUGljazxJTG9ndGFpbExvZywgXCJjb250ZXh0XCI+KSAtIENvbnRleHQgKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SUxvZ3RhaWxMb2c+IGFmdGVyIHN5bmNpbmdcbiAgICAgKi9cbiAgICBhc3luYyBlcnJvcihtZXNzYWdlLCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nKG1lc3NhZ2UsIExvZ0xldmVsLkVycm9yLCBjb250ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3luYyBtZXRob2QgLSBpLmUuIHRoZSBmaW5hbCBzdGVwIGluIHRoZSBwaXBlbGluZSB0byBnZXQgbG9nc1xuICAgICAqIG92ZXIgdG8gQmV0dGVyIFN0YWNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBQaXBlbGluZSBmdW5jdGlvbiB0byB1c2UgYXMgc3luYyBtZXRob2RcbiAgICAgKi9cbiAgICBzZXRTeW5jKGZuKSB7XG4gICAgICAgIHRoaXMuX3N5bmMgPSBmbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0byB0aGUgbG9nZ2luZyBwaXBlbGluZVxuICAgICAqXG4gICAgICogQHBhcmFtIGZuIC0gRnVuY3Rpb24gdG8gYWRkIHRvIHRoZSBsb2cgcGlwZWxpbmVcbiAgICAgKiBAcmV0dXJucyB2b2lkXG4gICAgICovXG4gICAgdXNlKGZuKSB7XG4gICAgICAgIHRoaXMuX21pZGRsZXdhcmUucHVzaChmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGZ1bmN0aW9uIGZyb20gdGhlIHBpcGVsaW5lXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBQaXBlbGluZSBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHZvaWRcbiAgICAgKi9cbiAgICByZW1vdmUoZm4pIHtcbiAgICAgICAgdGhpcy5fbWlkZGxld2FyZSA9IHRoaXMuX21pZGRsZXdhcmUuZmlsdGVyKChwKSA9PiBwICE9PSBmbik7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBMb2d0YWlsIHtcbiAgICBhc3luYyBsb2cobWVzc2FnZSwgbGV2ZWwgPSBMb2dMZXZlbC5JbmZvLCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmxvZyhtZXNzYWdlLCBsZXZlbCwgY29udGV4dCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiLCJpbXBvcnQgeyBCYXNlIH0gZnJvbSBcIkBsb2d0YWlsL2NvcmVcIjtcbi8vIEF3YWl0aW5nOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01NzE3MjJcbi8vIGltcG9ydCB7IGdldFVzZXJBZ2VudCB9IGZyb20gXCIuL2hlbHBlcnNcIjtcbmV4cG9ydCBjbGFzcyBCcm93c2VyIGV4dGVuZHMgQmFzZSB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlVG9rZW4sIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQWZ0ZXIgcmVhY2hpbmcgNDhLaUIsIHRoZSBiYXRjaCB3aWxsIGdldCBmbHVzaGVkIGF1dG9tYXRpY2FsbHkgdG8gYXZvaWQgNjRLaUIgYm9keSBsaW1pdCBmb3Iga2VlcGFsaXZlIHJlcXVlc3RzXG4gICAgICAgIHN1cGVyKHNvdXJjZVRva2VuLCBPYmplY3QuYXNzaWduKHsgYmF0Y2hTaXplS2lCOiA0OCB9LCBvcHRpb25zKSk7XG4gICAgICAgIC8vIFN5bmMgZnVuY3Rpb25cbiAgICAgICAgY29uc3Qgc3luYyA9IGFzeW5jIChsb2dzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh0aGlzLl9vcHRpb25zLmVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5fc291cmNlVG9rZW59YCxcbiAgICAgICAgICAgICAgICAgICAgLy8gQXdhaXRpbmc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU3MTcyMlxuICAgICAgICAgICAgICAgICAgICAvLyBcIlVzZXItQWdlbnRcIjogZ2V0VXNlckFnZW50KClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGxvZ3MpLFxuICAgICAgICAgICAgICAgIGtlZXBhbGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2dzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUT0RPOiBpZiBzdGF0dXMgaXMgNTB4IHRocm93IGN1c3RvbSBTZXJ2ZXJFcnJvclxuICAgICAgICAgICAgICogdG8gYmUgdXNlZCBpbiByZXRyeSBsb2dpY1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzLnN0YXR1c1RleHQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIHRocm90dGxlZCBzeW5jIGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuc2V0U3luYyhzeW5jKTtcbiAgICAgICAgdGhpcy5jb25maWd1cmVGbHVzaE9uUGFnZUxlYXZlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGBCYXNlYCBsb2cgdG8gYWRkIGJyb3dzZXItc3BlY2lmaWMgY29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIG1lc3NhZ2U6IHN0cmluZyAtIExvZyBtZXNzYWdlXG4gICAgICogQHBhcmFtIGxldmVsIChMb2dMZXZlbCkgLSBMZXZlbCB0byBsb2cgYXQgKGRlYnVnfGluZm98d2FybnxlcnJvcilcbiAgICAgKiBAcGFyYW0gY29udGV4dDogKENvbnRleHQpIC0gTG9nIGNvbnRleHQgZm9yIHBhc3Npbmcgc3RydWN0dXJlZCBkYXRhXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxJTG9ndGFpbExvZz4gYWZ0ZXIgc3luY2luZ1xuICAgICAqL1xuICAgIGFzeW5jIGxvZyhtZXNzYWdlLCBsZXZlbCwgY29udGV4dCA9IHt9KSB7XG4gICAgICAgIC8vIFdyYXAgY29udGV4dCBpbiBhbiBvYmplY3QsIGlmIGl0J3Mgbm90IGFscmVhZHlcbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkQ29udGV4dCA9IHsgZXh0cmE6IGNvbnRleHQgfTtcbiAgICAgICAgICAgIGNvbnRleHQgPSB3cmFwcGVkQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkQ29udGV4dCA9IHsgZXJyb3I6IGNvbnRleHQgfTtcbiAgICAgICAgICAgIGNvbnRleHQgPSB3cmFwcGVkQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldEN1cnJlbnRDb250ZXh0KCkpLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmxvZyhtZXNzYWdlLCBsZXZlbCwgY29udGV4dCk7XG4gICAgfVxuICAgIGdldEN1cnJlbnRDb250ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgY29udGV4dC51cmwgPSAoX2EgPSB3aW5kb3cubG9jYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ocmVmO1xuICAgICAgICAgICAgY29udGV4dC5kZXZpY2VfcGl4ZWxfcmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgICAgIGNvbnRleHQuc2NyZWVuX3dpZHRoID0gKF9iID0gd2luZG93LnNjcmVlbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLndpZHRoO1xuICAgICAgICAgICAgY29udGV4dC5zY3JlZW5faGVpZ2h0ID0gKF9jID0gd2luZG93LnNjcmVlbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmhlaWdodDtcbiAgICAgICAgICAgIGNvbnRleHQud2luZG93X3dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICBjb250ZXh0LndpbmRvd19oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQudXNlcl9sb2NhbGUgPSBuYXZpZ2F0b3IudXNlckxhbmd1YWdlIHx8IG5hdmlnYXRvci5sYW5ndWFnZTtcbiAgICAgICAgICAgIGNvbnRleHQudXNlcl9hZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIGNvbmZpZ3VyZUZsdXNoT25QYWdlTGVhdmUoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLmpzLm1hcCIsIi8qKlxuICogTG9nZ2VyIFV0aWxpdHlcbiAqIENlbnRyYWxpemVkIExvZ3RhaWwgaW5pdGlhbGl6YXRpb24uXG4gKi9cblxuaW1wb3J0IHsgTG9ndGFpbCB9IGZyb20gXCJAbG9ndGFpbC9icm93c2VyXCI7XG5cbi8vIEtlZXAgdHlwZXMgZm9yIGNvbXBhdGliaWxpdHkgaWYgbmVlZGVkLCBvciBkZXByZWNhdGUgdGhlbSBmdWxseSBpZiB1bnVzZWQuXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHID0gMCxcbiAgSU5GTyA9IDEsXG4gIFdBUk4gPSAyLFxuICBFUlJPUiA9IDMsXG4gIE5PTkUgPSA0LFxufVxuXG5leHBvcnQgdHlwZSBMb2dIb29rID0gKGxldmVsOiBMb2dMZXZlbCwgbmFtZXNwYWNlOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgZGF0YT86IHVua25vd24pID0+IHZvaWQ7XG5cbi8qKlxuICogU2luZ2xldG9uLWxpa2UgZmFjdG9yeSBmb3IgY3JlYXRpbmcgdGhlIExvZ3RhaWwgaW5zdGFuY2UuXG4gKiBJbiBhIENocm9tZSBleHRlbnNpb24sIHRoaXMgd2lsbCBzdGlsbCBydW4gb25jZSBwZXIgY29udGV4dCAoQmFja2dyb3VuZCwgQ29udGVudCwgUG9wdXApLFxuICogY3JlYXRpbmcgYSBzZXBhcmF0ZSBpbnN0YW5jZSBmb3IgZWFjaCwgd2hpY2ggaXMgcmVxdWlyZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2dnZXIoKTogTG9ndGFpbCB7XG4gIHJldHVybiBuZXcgTG9ndGFpbChcIlBLU1hWeUdkc2M0d3NMRkV5WjNSYVVrOFwiLCB7XG4gICAgZW5kcG9pbnQ6ICdodHRwczovL3MxNzA5MTM4LmV1LWZzbi0zLmJldHRlcnN0YWNrZGF0YS5jb20nLFxuICAgIGJhdGNoU2l6ZTogMzAsXG4gICAgYmF0Y2hJbnRlcnZhbDogMTAwMCxcbiAgICByZXRyeUNvdW50OiAyLFxuICB9KTtcbn1cbiIsIi8qKlxuICogV2FsbWFydCBTaXRlIEludGVncmF0aW9uXG4gKiBJbmplY3RlZCBvbiB3YWxtYXJ0LmNvbSBwYWdlcyB0byBkZXRlY3QgcHJvZHVjdCBjYXJkcyBhbmQgcGVyZm9ybSBzaG9wcGluZyBhY3Rpb25zXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBUb29sUmVzdWx0IH0gZnJvbSAnQC90eXBlcy90b29scyc7XG5pbXBvcnQgeyBjcmVhdGVMb2dnZXIgfSBmcm9tICdAL2xpYi91dGlscy9sb2dnZXInO1xuLy8gY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignV0FMTUFSVCcpO1xuY29uc3QgbG9nZ2VyID0gY3JlYXRlTG9nZ2VyKCk7XG5jb25zdCBTRUFSQ0hfVVJMID0gJ2h0dHBzOi8vd3d3LndhbG1hcnQuY29tL3NlYXJjaD9xPVtRVUVSWV0nO1xuXG4vKipcbiAqIFdhbG1hcnQgU2VsZWN0b3JzICh1cGRhdGVkIHdpdGggdXNlci1wcm92aWRlZCBzZWxlY3RvcnMpXG4gKiBQcm9kdWN0IE51bWJlciBpcyAxLWluZGV4ZWQgZnJvbSB0b3AgdG8gYm90dG9tXG4gKi9cbmNvbnN0IFNFTEVDVE9SUyA9IHtcbiAgLy8gU2VhcmNoIHJlc3VsdHMgY29udGFpbmVyIC0gdXNlIGdlbmVyaWMgc2VjdGlvbiA+IGRpdiBhcyB0aGUgZ3JpZFxuICBncmlkX2NvbnRhaW5lcjogJ3NlY3Rpb24gPiBkaXYnLFxuXG4gIC8vIEluZGl2aWR1YWwgcHJvZHVjdCBjYXJkcyAtIGVhY2ggaXMgZGl2Om50aC1jaGlsZChuKSB3aXRoaW4gdGhlIGdyaWRcbiAgaXRlbV9jYXJkOiAnc2VjdGlvbiA+IGRpdiA+IGRpdicsXG5cbiAgLy8gVGl0bGU6IGgzIHdpdGhpbiB0aGUgcHJvZHVjdCBsaW5rXG4gIHRpdGxlOlxuICAgICdkaXYuc2Fucy1zZXJpZi5taWQtZ3JheS5yZWxhdGl2ZS5mbGV4LmZsZXgtY29sdW1uLnctMTAwLmhpZGUtY2hpbGQtb3BhY2l0eSA+IGEgPiBzcGFuID4gaDMnLFxuXG4gIC8vIFByaWNlOiBzcGFuIHdpdGhpbiB0aGUgcHJpY2UgY29udGFpbmVyXG4gIHByaWNlOlxuICAgICdkaXYuc2Fucy1zZXJpZi5taWQtZ3JheS5yZWxhdGl2ZS5mbGV4LmZsZXgtY29sdW1uLnctMTAwLmhpZGUtY2hpbGQtb3BhY2l0eSA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMykgPiBkaXYubXQxID4gZGl2ID4gc3BhbicsXG5cbiAgLy8gTGluayB0byBwcm9kdWN0XG4gIGxpbms6ICdkaXYuc2Fucy1zZXJpZi5taWQtZ3JheS5yZWxhdGl2ZS5mbGV4LmZsZXgtY29sdW1uLnctMTAwLmhpZGUtY2hpbGQtb3BhY2l0eSA+IGEnLFxuXG4gIC8vIFNwb25zb3JlZCBpbmRpY2F0b3JcbiAgc3BvbnNvcmVkOiAnZGl2JyxcblxuICAvLyBSYXRpbmc6IC53X2lVSDcgY2xhc3NcbiAgcmF0aW5nOlxuICAgICdkaXYuc2Fucy1zZXJpZi5taWQtZ3JheS5yZWxhdGl2ZS5mbGV4LmZsZXgtY29sdW1uLnctMTAwLmhpZGUtY2hpbGQtb3BhY2l0eSA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMykgPiBkaXYuZmxleC5pdGVtcy1jZW50ZXIubXYxID4gc3Bhbi53X2lVSDcnLFxuXG4gIC8vIEFkZCB0byBjYXJ0IGJ1dHRvbiB3aXRoaW4gcHJvZHVjdCBjYXJkXG4gIGFkZF90b19jYXJ0X2luX2NhcmQ6XG4gICAgJ2Rpdi5zYW5zLXNlcmlmLm1pZC1ncmF5LnJlbGF0aXZlLmZsZXguZmxleC1jb2x1bW4udy0xMDAuaGlkZS1jaGlsZC1vcGFjaXR5ID4gZGl2ID4gZGl2LnotMi5yZWxhdGl2ZS5tdjIgPiBkaXYgPiBkaXYgPiBidXR0b24nLFxuXG4gIC8vIENhcnQgYnV0dG9uIGluIGhlYWRlciAoZm9yIG9wZW5pbmcgY2FydCBhZnRlciBhZGRpbmcgaXRlbSlcbiAgY2FydF9idXR0b246ICcjY2FydC1idXR0b24taGVhZGVyJyxcblxuICAvLyBTZWFyY2ggYmFyIGlucHV0XG4gIHNlYXJjaF9iYXI6XG4gICAgJyNfX25leHQgPiBkaXYuZmxleC5mbGV4LWNvbHVtbi5taW4tdmgtMTAwLnNoYWRvdy0yID4gc3BhbiA+IGhlYWRlciA+IGZvcm0gPiBkaXYgPiBpbnB1dCcsXG59O1xuXG5jb25zdCBTUlBfQUREX0JUTiA9IFNFTEVDVE9SUy5hZGRfdG9fY2FydF9pbl9jYXJkO1xuY29uc3QgU1JQX0FUQ19TRUxFQ1RPUlMgPSBbXG4gIFNFTEVDVE9SUy5hZGRfdG9fY2FydF9pbl9jYXJkLFxuICBcImJ1dHRvbltkYXRhLWF1dG9tYXRpb24taWQ9J2FkZC10by1jYXJ0J11cIixcbiAgXCJidXR0b25bZGF0YS10bC1pZCo9J2N0YS1hZGQtdG8tY2FydCddXCIsXG4gIFwiYnV0dG9uW2FyaWEtbGFiZWwqPSdBZGQgdG8gY2FydCddXCIsXG4gIFwiYnV0dG9uW2FyaWEtbGFiZWwqPSdBZGQgdG8gQ2FydCddXCIsXG4gICcuYWRkLXRvLWNhcnQtYnV0dG9uJyxcbl07XG5jb25zdCBQRFBfVkFSSUFOVF9HUk9VUCA9IFwiW2RhdGEtdGVzdGlkPSd2YXJpYW50LWdyb3VwJ11cIjtcbmNvbnN0IFBEUF9BRERfQlROID0gXCJidXR0b25bZGF0YS10bC1pZCo9J2N0YS1hZGQtdG8tY2FydCddXCI7XG5cbmZ1bmN0aW9uIHBhcnNlUHJpY2UocHJpY2VUZXh0Pzogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCB7XG4gIGlmICghcHJpY2VUZXh0KSByZXR1cm4gbnVsbDtcbiAgY29uc3QgY2xlYW5lZCA9IHByaWNlVGV4dC5yZXBsYWNlKC9bXjAtOS4sLV0vZywgJycpLnJlcGxhY2UoLywvZywgJycpO1xuICBjb25zdCBuID0gcGFyc2VGbG9hdChjbGVhbmVkKTtcbiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBkZXRlY3RQcm9kdWN0Q2FyZHMoKSB7XG4gIGxvZ2dlci5pbmZvKFxuICAgICdcXG4nICtcbiAgICAn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJyArXG4gICAgJ/CflI0gW1dBTE1BUlRdIFBST0RVQ1QgREVURUNUSU9OIFNUQVJURUQgKFNUUklDVCBVU0VSIE1PREUpXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCdcbiAgKTtcblxuICBjb25zdCBjYXJkczogYW55W10gPSBbXTtcblxuICAvLyBVc2UgZ2VuZXJpYyBzZWN0aW9uID4gZGl2IGFzIGdyaWQgY29udGFpbmVyLCBidXQgdGhlIGxvb3AgZHJpdmVzIHRoZSBsb2dpY1xuICBjb25zdCBncmlkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbiA+IGRpdicpO1xuXG4gIGlmICghZ3JpZENvbnRhaW5lcikge1xuICAgIGxvZ2dlci5pbmZvKCfinYwgR3JpZCBjb250YWluZXIgKHNlY3Rpb24gPiBkaXYpIG5vdCBmb3VuZCcpO1xuICAgIHJldHVybiBjYXJkcztcbiAgfVxuXG4gIC8vIFNUUklDVCBMT09QIDEuLjEyIGFzIHJlcXVlc3RlZFxuICBmb3IgKGxldCBwcm9kdWN0TnVtID0gMTsgcHJvZHVjdE51bSA8PSAxMjsgcHJvZHVjdE51bSsrKSB7XG4gICAgY29uc29sZS5ncm91cChg8J+bje+4jyAgUHJvZHVjdCAjJHtwcm9kdWN0TnVtfWApO1xuXG4gICAgLy8gU1RSSUNUIFNFTEVDVE9SOiBzZWN0aW9uID4gZGl2ID4gZGl2Om50aC1jaGlsZChOKSA+IC4uLlxuICAgIGNvbnN0IGJhc2VTZWxlY3RvciA9IGBzZWN0aW9uID4gZGl2ID4gZGl2Om50aC1jaGlsZCgke3Byb2R1Y3ROdW19KSA+IGRpdiA+IGRpdi5zYW5zLXNlcmlmLm1pZC1ncmF5LnJlbGF0aXZlLmZsZXguZmxleC1jb2x1bW4udy0xMDAuaGlkZS1jaGlsZC1vcGFjaXR5YDtcblxuICAgIC8vIFRpdGxlXG4gICAgY29uc3QgdGl0bGVTZWxlY3RvciA9IGAke2Jhc2VTZWxlY3Rvcn0gPiBhID4gc3BhbiA+IGgzYDtcblxuICAgIC8vIFByaWNlIC0gVXNlciBzcGVjaWZpZWQ6IC4uLiA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2ID4gc3BhblxuICAgIGNvbnN0IHByaWNlU2VsZWN0b3IgPSBgJHtiYXNlU2VsZWN0b3J9ID4gZGl2ID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXYgPiBzcGFuYDtcblxuICAgIC8vIFJhdGluZyAtIFVzZXIgc3BlY2lmaWVkOiAuLi4gPiBkaXYgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2LmZsZXguaXRlbXMtY2VudGVyLm12MSA+IHNwYW4ud19pVUg3XG4gICAgY29uc3QgcmF0aW5nU2VsZWN0b3IgPSBgJHtiYXNlU2VsZWN0b3J9ID4gZGl2ID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdi5mbGV4Lml0ZW1zLWNlbnRlci5tdjEgPiBzcGFuLndfaVVIN2A7XG5cbiAgICAvLyBMaW5rIC0gVXNlciBzcGVjaWZpZWRcbiAgICBjb25zdCBsaW5rU2VsZWN0b3IgPSBgJHtiYXNlU2VsZWN0b3J9ID4gYWA7XG5cbiAgICBjb25zdCBpbm5lckNvbnRhaW5lclNlbGVjdG9yID0gYmFzZVNlbGVjdG9yO1xuXG4gICAgLy8gV2UgcXVlcnkgdGhlIGRvY3VtZW50IGRpcmVjdGx5IGJlY2F1c2UgdGhlIHNlbGVjdG9yIHN0YXJ0cyB3aXRoICdzZWN0aW9uJ1xuICAgIGNvbnN0IGlubmVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihpbm5lckNvbnRhaW5lclNlbGVjdG9yKTtcblxuICAgIGlmICghaW5uZXJDb250YWluZXIpIHtcbiAgICAgIGxvZ2dlci5pbmZvKGDinYwgTm8gY29udGFpbmVyIGZvdW5kIGZvciAjJHtwcm9kdWN0TnVtfWApO1xuICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gVGl0bGVcbiAgICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aXRsZVNlbGVjdG9yKTtcbiAgICBjb25zdCB0aXRsZSA9IHRpdGxlRWwgPyAodGl0bGVFbC50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpIDogbnVsbDtcblxuICAgIC8vIFByaWNlXG4gICAgY29uc3QgcHJpY2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJpY2VTZWxlY3Rvcik7XG4gICAgY29uc3QgcHJpY2UgPSBwcmljZUVsID8gKHByaWNlRWwudGV4dENvbnRlbnQgfHwgJycpLnRyaW0oKSA6IG51bGw7XG4gICAgY29uc3QgcHJpY2VOdW0gPSBwYXJzZVByaWNlKHByaWNlIHx8IHVuZGVmaW5lZCk7XG5cbiAgICAvLyBSYXRpbmdcbiAgICBjb25zdCByYXRpbmdFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocmF0aW5nU2VsZWN0b3IpO1xuICAgIGxldCByYXRpbmc6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIGlmIChyYXRpbmdFbCkge1xuICAgICAgY29uc3QgcmF0aW5nVGV4dCA9IHJhdGluZ0VsLnRleHRDb250ZW50IHx8ICcnO1xuICAgICAgY29uc3QgcmF0aW5nTWF0Y2ggPSByYXRpbmdUZXh0Lm1hdGNoKC8oW1xcZC5dKykvKTtcbiAgICAgIGlmIChyYXRpbmdNYXRjaCkgcmF0aW5nID0gcGFyc2VGbG9hdChyYXRpbmdNYXRjaFsxXSk7XG4gICAgfVxuXG4gICAgLy8gTGlua1xuICAgIGNvbnN0IGxpbmtFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobGlua1NlbGVjdG9yKSBhcyBIVE1MQW5jaG9yRWxlbWVudCB8IG51bGw7XG4gICAgY29uc3QgbGluayA9IGxpbmtFbCA/IGxpbmtFbC5ocmVmIDogbnVsbDtcblxuICAgIC8vIEFkZCB0byBjYXJ0IGJ1dHRvbiAtIFVzZXIgc3RhdGVkIGVmZmVjdGl2ZWx5IG5vbi1leGlzdGVudCBvbiBzZWFyY2gsIHNvIHdlIHNldCBudWxsIHRvIGZvcmNlIG5hdmlnYXRpb25cbiAgICBsZXQgYWRkVG9DYXJ0U2VsZWN0b3I6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gQ29uc3RydWN0IGRhdGEgb2JqZWN0IGZvciBsb2dnaW5nXG4gICAgY29uc3QgZXh0cmFjdGVkRGF0YSA9IHtcbiAgICAgIGluZGV4OiBwcm9kdWN0TnVtLFxuICAgICAgdGl0bGUsXG4gICAgICBwcmljZSxcbiAgICAgIHByaWNlUGFyc2VkOiBwcmljZU51bSxcbiAgICAgIHJhdGluZyxcbiAgICAgIGxpbmssXG4gICAgICBzZWxlY3RvcnM6IHtcbiAgICAgICAgYmFzZTogYmFzZVNlbGVjdG9yLFxuICAgICAgICB0aXRsZTogdGl0bGVTZWxlY3RvcixcbiAgICAgICAgcHJpY2U6IHByaWNlU2VsZWN0b3IsXG4gICAgICAgIHJhdGluZzogcmF0aW5nU2VsZWN0b3IsXG4gICAgICAgIGxpbms6IGxpbmtTZWxlY3RvclxuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2dnZXIuaW5mbygn8J+TpiBQcm9kdWN0IGV4dHJhY3RlZDonLCBleHRyYWN0ZWREYXRhKTtcblxuICAgIGNhcmRzLnB1c2goe1xuICAgICAgc2VsZWN0b3I6IGBzZWN0aW9uID4gZGl2ID4gZGl2Om50aC1jaGlsZCgke3Byb2R1Y3ROdW19KWAsXG4gICAgICB0aXRsZSxcbiAgICAgIHByaWNlOiBwcmljZSB8fCBudWxsLFxuICAgICAgcHJpY2VOdW1iZXI6IHByaWNlTnVtLFxuICAgICAgcmF0aW5nLFxuICAgICAgYXZhaWxhYmlsaXR5OiBudWxsLFxuICAgICAgbGluayxcbiAgICAgIGlzRGV0YWlsUGFnZTogZmFsc2UsXG4gICAgICBhZGRUb0NhcnRTZWxlY3RvcixcbiAgICAgIHByb2R1Y3RJbmRleDogcHJvZHVjdE51bSxcbiAgICB9KTtcblxuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxuXG4gIGxvZ2dlci5pbmZvKFxuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nICtcbiAgICAn8J+TpiBFWFRSQUNUSU9OIENPTVBMRVRFXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgIGDinJMgVmFsaWQgcHJvZHVjdHMgZXh0cmFjdGVkOiAke2NhcmRzLmxlbmd0aH1cXG5gICtcbiAgICAnXFxu8J+TiyBQUk9EVUNUUyBCRUlORyBTRU5UIFRPIExMTSAoRlVMTCBUSVRMRVMgLSBOT1QgVFJVTkNBVEVEKTpcXG4nXG4gICk7XG5cbiAgLy8gTG9nIGVhY2ggcHJvZHVjdCBpbiBhIHN0cnVjdHVyZWQsIGh1bWFuLXJlYWRhYmxlIGZvcm1hdFxuICBsZXQgbXNnczogc3RyaW5nW10gPSBbXTtcblxuICBjYXJkcy5mb3JFYWNoKChwcm9kdWN0LCBpbmRleCkgPT4ge1xuICAgIG1zZ3MucHVzaChcbiAgICAgIGBcXG7wn5uN77iPICBQUk9EVUNUICR7aW5kZXggKyAxfTpcXG5gICtcbiAgICAgIGAgICDwn5OdIFRpdGxlOiAgICR7cHJvZHVjdC50aXRsZX1cXG5gICtcbiAgICAgIGAgICDwn5KwIFByaWNlOiAgICR7cHJvZHVjdC5wcmljZX1cXG5gICtcbiAgICAgIGAgICDirZAgUmF0aW5nOiAgJHtwcm9kdWN0LnJhdGluZyB8fCAnTi9BJ31cXG5gICtcbiAgICAgIGAgICDwn5SXIExpbms6ICAgICR7cHJvZHVjdC5saW5rfWBcbiAgICApO1xuICB9KTtcbiAgbG9nZ2VyLmluZm8obXNncy5qb2luKCcnKSk7XG5cbiAgbG9nZ2VyLmluZm8oJ1xcbvCfk4ogU1VNTUFSWSBUQUJMRTonKTtcbiAgY29uc29sZS50YWJsZShcbiAgICBjYXJkcy5tYXAoKHApID0+ICh7XG4gICAgICAnVGl0bGUgKEZ1bGwpJzogcC50aXRsZSwgLy8gTm8gdHJ1bmNhdGlvblxuICAgICAgUHJpY2U6IHAucHJpY2UsXG4gICAgICBSYXRpbmc6IHAucmF0aW5nIHx8ICdOL0EnLFxuICAgIH0pKVxuICApO1xuXG4gIGxvZ2dlci5pbmZvKCdcXG7wn5OEIEZVTEwgSlNPTiBEQVRBIChmb3IgTExNKTonKTtcbiAgbG9nZ2VyLmluZm8oSlNPTi5zdHJpbmdpZnkoY2FyZHMsIG51bGwsIDIpKTtcbiAgbG9nZ2VyLmluZm8oJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicpO1xuXG4gIHJldHVybiBjYXJkcy5zbGljZSgwLCA1KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYWRkVG9DYXJ0KGFyZ3M6IGFueSk6IFByb21pc2U8VG9vbFJlc3VsdD4ge1xuICBsb2dnZXIuaW5mbyhcbiAgICAnXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5uSIFtXQUxNQVJUXSBFWEVDVVRJTkc6IEFERCBUTyBDQVJUXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5OLIEFyZ3VtZW50cyByZWNlaXZlZDpcXG4nICtcbiAgICBKU09OLnN0cmluZ2lmeShhcmdzLCBudWxsLCAyKSArXG4gICAgJ1xcbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbidcbiAgKTtcblxuICB0cnkge1xuICAgIGlmIChkZXRlY3RDYXB0Y2hhKCkpIHtcbiAgICAgIGxvZ2dlci5pbmZvKCfimqDvuI8gIENBUFRDSEEgZGV0ZWN0ZWQgLSBhYm9ydGluZyBhY3Rpb24nKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0NBUFRDSEEgZGV0ZWN0ZWQgLSBwYXVzaW5nIGFjdGlvbnMnLFxuICAgICAgICBkYXRhOiB7IGNhcHRjaGE6IHRydWUgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgYWRkVG9DYXJ0U2VsZWN0b3IgaXMgcHJvdmlkZWQgKHByZS1kZXRlY3RlZCBmcm9tIFNSUCksIHRyeSBpdCBmaXJzdFxuICAgIGlmIChhcmdzLmFkZFRvQ2FydFNlbGVjdG9yKSB7XG4gICAgICBsb2dnZXIuaW5mbyhg8J+UjSBUcnlpbmcgcHJlLWRldGVjdGVkIEFUQyBzZWxlY3RvcjogJHthcmdzLmFkZFRvQ2FydFNlbGVjdG9yfWApO1xuICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhcmdzLmFkZFRvQ2FydFNlbGVjdG9yKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgICBpZiAoYnRuICYmICFidG4uZGlzYWJsZWQpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+KckyBCdXR0b24gZm91bmQgYW5kIGVuYWJsZWQgLSBjbGlja2luZycpO1xuICAgICAgICBidG4uY2xpY2soKTtcbiAgICAgICAgYXdhaXQgc2xlZXAoNDAwICsgTWF0aC5yYW5kb20oKSAqIDYwMCk7XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogQ2xpY2tlZCBwcmUtZGV0ZWN0ZWQgU1JQIGJ1dHRvblxcbicpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGNsaWNrZWQ6ICdzcnBfcHJlZGV0ZWN0ZWQnIH0gfTtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5pbmZvKCfinYwgQnV0dG9uIG5vdCBmb3VuZCBvciBkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIC8vIElmIHByb2R1Y3QgY2FyZCBzZWxlY3RvciBpcyBwcm92aWRlZCwgbG9vayBmb3IgYWRkLXRvLWNhcnQgd2l0aGluIGl0XG4gICAgaWYgKGFyZ3Muc2VsZWN0b3IpIHtcbiAgICAgIGxvZ2dlci5pbmZvKGDwn5SNIFRyeWluZyBwcm9kdWN0IGNhcmQgc2VsZWN0b3I6ICR7YXJncy5zZWxlY3Rvcn1gKTtcbiAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFyZ3Muc2VsZWN0b3IpIGFzIEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+KckyBQcm9kdWN0IGNhcmQgZm91bmQnKTtcbiAgICAgICAgZm9yIChjb25zdCBzZWwgb2YgU1JQX0FUQ19TRUxFQ1RPUlMpIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbyhgICDwn5SNIFRyeWluZyBBVEMgc2VsZWN0b3I6ICR7c2VsfWApO1xuICAgICAgICAgIGNvbnN0IGFkZEJ0biA9IHJvb3QucXVlcnlTZWxlY3RvcihzZWwpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICAgICAgICBpZiAoYWRkQnRuICYmICFhZGRCdG4uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCcgIOKckyBCdXR0b24gZm91bmQgYW5kIGVuYWJsZWQgLSBjbGlja2luZycpO1xuICAgICAgICAgICAgYWRkQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBhd2FpdCBzbGVlcCg0MDAgKyBNYXRoLnJhbmRvbSgpICogODAwKTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogQ2xpY2tlZCBTUlAgY2FyZCBidXR0b25cXG4nKTtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgY2xpY2tlZDogJ3NycF9jYXJkJyB9IH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinYwgTm8gZW5hYmxlZCBBVEMgYnV0dG9uIGZvdW5kIGluIGNhcmQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinYwgUHJvZHVjdCBjYXJkIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERpcmVjdCBVUkwgbmF2aWdhdGlvbiAtIG1vc3QgcmVsaWFibGUgbWV0aG9kXG4gICAgaWYgKGFyZ3MubGluaykge1xuICAgICAgbG9nZ2VyLmluZm8oYPCflJcgTmF2aWdhdGluZyB0byBwcm9kdWN0IHBhZ2U6ICR7YXJncy5saW5rfWApO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhcmdzLmxpbms7XG4gICAgICBsb2dnZXIuaW5mbygn4pyFIFN1Y2Nlc3M6IE5hdmlnYXRpb24gaW5pdGlhdGVkXFxuJyk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IG5hdmlnYXRlZFRvUERQOiB0cnVlLCB1cmw6IGFyZ3MubGluayB9IH07XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlIHRyeSBQRFAgZmxvd1xuICAgIGxvZ2dlci5pbmZvKCfwn5SNIFRyeWluZyBQRFAgYWRkLXRvLWNhcnQgYnV0dG9uJyk7XG4gICAgY29uc3QgcGRwQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQRFBfQUREX0JUTikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsO1xuICAgIGlmIChwZHBBZGQgJiYgIXBkcEFkZC5kaXNhYmxlZCkge1xuICAgICAgbG9nZ2VyLmluZm8oJ+KckyBQRFAgYWRkIGJ1dHRvbiBmb3VuZCcpO1xuICAgICAgLy8gSWYgdmFyaWFudCBncm91cCBleGlzdHMsIHRyeSB0byBzZWxlY3QgZmlyc3Qgb3B0aW9uXG4gICAgICBjb25zdCB2YXJpYW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQRFBfVkFSSUFOVF9HUk9VUCkgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKHZhcmlhbnQpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+KckyBWYXJpYW50IGdyb3VwIGZvdW5kIC0gc2VsZWN0aW5nIGZpcnN0IG9wdGlvbicpO1xuICAgICAgICBjb25zdCBmaXJzdE9wdCA9IHZhcmlhbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAnc2VsZWN0IG9wdGlvbjpudGgtY2hpbGQoMiknXG4gICAgICAgICkgYXMgSFRNTE9wdGlvbkVsZW1lbnQgfCBudWxsO1xuICAgICAgICBpZiAoZmlyc3RPcHQpIHtcbiAgICAgICAgICBmaXJzdE9wdC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgZmlyc3RPcHQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gICAgICAgICAgYXdhaXQgc2xlZXAoNDAwICsgTWF0aC5yYW5kb20oKSAqIDQwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbG9nZ2VyLmluZm8oJ+KckyBDbGlja2luZyBQRFAgYWRkIGJ1dHRvbicpO1xuICAgICAgcGRwQWRkLmNsaWNrKCk7XG4gICAgICBhd2FpdCBzbGVlcCg1MDAgKyBNYXRoLnJhbmRvbSgpICogNzAwKTtcbiAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogQ2xpY2tlZCBQRFAgYWRkIGJ1dHRvblxcbicpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBjbGlja2VkOiAncGRwX2FkZCcgfSB9O1xuICAgIH1cbiAgICBsb2dnZXIuaW5mbygn4p2MIFBEUCBidXR0b24gbm90IGZvdW5kIG9yIGRpc2FibGVkJyk7XG5cbiAgICAvLyBGYWxsYmFjazogVXNlIHRleHQgc2VhcmNoIGZvciBcIkFkZCB0byBDYXJ0XCIgYnV0dG9uIChyb2J1c3QgYWdhaW5zdCBzZWxlY3RvciBjaGFuZ2VzKVxuICAgIGxvZ2dlci5pbmZvKCfwn5SNIFRyeWluZyB0ZXh0LWJhc2VkIGJ1dHRvbiBzZWFyY2gnKTtcbiAgICBjb25zdCB0ZXh0QnV0dG9ucyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uLCBpbnB1dFt0eXBlPVwic3VibWl0XCJdLCBhJykpO1xuICAgIGNvbnN0IHRhcmdldEJ0biA9IHRleHRCdXR0b25zLmZpbmQoKGIpID0+IHtcbiAgICAgIGNvbnN0IHRleHQgPSAoYi50ZXh0Q29udGVudCB8fCAoYiBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSB8fCAnJykudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAodGV4dCA9PT0gJ2FkZCB0byBjYXJ0JyB8fCB0ZXh0ID09PSAnYWRkIHRvIGJhc2tldCcpICYmICEoYiBhcyBIVE1MQnV0dG9uRWxlbWVudCkuZGlzYWJsZWRcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpZiAodGFyZ2V0QnRuKSB7XG4gICAgICBsb2dnZXIuaW5mbyhg4pyTIEZvdW5kIGJ1dHRvbiB3aXRoIHRleHQ6IFwiJHt0YXJnZXRCdG4udGV4dENvbnRlbnR9XCJgKTtcbiAgICAgICh0YXJnZXRCdG4gYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICBhd2FpdCBzbGVlcCg1MDAgKyBNYXRoLnJhbmRvbSgpICogNzAwKTtcbiAgICAgIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogQ2xpY2tlZCB0ZXh0LW1hdGNoZWQgYnV0dG9uXFxuJyk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGNsaWNrZWQ6ICd0ZXh0X21hdGNoJywgdGV4dDogdGFyZ2V0QnRuLnRleHRDb250ZW50IH0gfTtcbiAgICB9XG5cbiAgICBsb2dnZXIuaW5mbygn4p2MIEZBSUxFRDogTm8gYWRkLXRvLWNhcnQgYnV0dG9uIGZvdW5kXFxuJyk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm8gYWRkLXRvLWNhcnQgYnV0dG9uIGZvdW5kJyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFUlJPUjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBTdHJpbmcoZXJyb3IpIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gZGV0ZWN0Q2FwdGNoYSgpOiBib29sZWFuIHtcbiAgY29uc3QgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYudG9Mb3dlckNhc2UoKTtcbiAgaWYgKHVybC5pbmNsdWRlcygnY2FwdGNoYScpIHx8IC92ZXJpZnkgeW91IGFyZSBhIGh1bWFuL2kudGVzdChkb2N1bWVudC5ib2R5LnRleHRDb250ZW50IHx8ICcnKSlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgY29uc3Qgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpZnJhbWVbc3JjKj1cInJlY2FwdGNoYVwiXSwgZGl2W2NsYXNzKj1cImNhcHRjaGFcIl0nKTtcbiAgcmV0dXJuIG5vZGVzLmxlbmd0aCA+IDA7XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudFZpc2libGUoZWw6IEVsZW1lbnQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZWN0ID0gKGVsIGFzIEhUTUxFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gcmVjdC53aWR0aCA+IDAgJiYgcmVjdC5oZWlnaHQgPiAwO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTZWxlY3RvcihlbDogRWxlbWVudCk6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIShlbCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm4gbnVsbDtcbiAgaWYgKGVsLmlkKSByZXR1cm4gYCMke2VsLmlkfWA7XG4gIGNvbnN0IHBhdGg6IHN0cmluZ1tdID0gW107XG4gIGxldCBub2RlOiBFbGVtZW50IHwgbnVsbCA9IGVsO1xuICB3aGlsZSAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiBub2RlICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICBsZXQgbmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobm9kZS5jbGFzc05hbWUpIHtcbiAgICAgIGNvbnN0IGNuID0gKG5vZGUuY2xhc3NOYW1lIGFzIHN0cmluZykuc3BsaXQoJyAnKVswXTtcbiAgICAgIGlmIChjbikgbmFtZSArPSBgLiR7Y259YDtcbiAgICB9XG4gICAgcGF0aC51bnNoaWZ0KG5hbWUpO1xuICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIHBhdGgubGVuZ3RoID8gcGF0aC5qb2luKCcgPiAnKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNsZWVwKG1zOiBudW1iZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBtcykpO1xufVxuXG4vKipcbiAqIE5hdmlnYXRlIGRpcmVjdGx5IHRvIGEgcHJvZHVjdCBwYWdlIHVzaW5nIGl0cyBVUkxcbiAqIFRoaXMgaXMgbW9yZSByZWxpYWJsZSB0aGFuIGNsaWNraW5nIGxpbmsgZWxlbWVudHNcbiAqL1xuZnVuY3Rpb24gbmF2aWdhdGVUb1Byb2R1Y3QoYXJnczogeyBsaW5rOiBzdHJpbmcgfSk6IFRvb2xSZXN1bHQge1xuICBsb2dnZXIuaW5mbyhcbiAgICAnXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5SXIFtXQUxNQVJUXSBFWEVDVVRJTkc6IE5BVklHQVRFIFRPIFBST0RVQ1RcXG4nICtcbiAgICAn4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJyArXG4gICAgJ/Cfk4sgQXJndW1lbnRzIHJlY2VpdmVkOlxcbicgK1xuICAgIEpTT04uc3RyaW5naWZ5KGFyZ3MsIG51bGwsIDIpICtcbiAgICAnXFxu4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXFxuJ1xuICApO1xuXG4gIGlmICghYXJncy5saW5rKSB7XG4gICAgbG9nZ2VyLmluZm8oJ+KdjCBGQUlMRUQ6IE5vIGxpbmsgVVJMIHByb3ZpZGVkXFxuJyk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm8gbGluayBVUkwgcHJvdmlkZWQnIH07XG4gIH1cblxuICBsb2dnZXIuaW5mbyhg8J+UlyBOYXZpZ2F0aW5nIHRvOiAke2FyZ3MubGlua31gKTtcbiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhcmdzLmxpbms7XG4gIGxvZ2dlci5pbmZvKCfinIUgU3VjY2VzczogTmF2aWdhdGlvbiBpbml0aWF0ZWRcXG4nKTtcbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBuYXZpZ2F0ZWRUb1BEUDogdHJ1ZSwgdXJsOiBhcmdzLmxpbmsgfSB9O1xufVxuXG4vKipcbiAqIE9wZW4gdGhlIGNhcnQgYnkgY2xpY2tpbmcgdGhlIGNhcnQgYnV0dG9uIGluIGhlYWRlclxuICogU2hvdWxkIGJlIGNhbGxlZCBhZnRlciBhZGRpbmcgYW4gaXRlbSB0byBjYXJ0XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIG9wZW5DYXJ0KCk6IFByb21pc2U8VG9vbFJlc3VsdD4ge1xuICBsb2dnZXIuaW5mbyhcbiAgICAnXFxuJyArXG4gICAgJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicgK1xuICAgICfwn5uSIFtXQUxNQVJUXSBFWEVDVVRJTkc6IE9QRU4gQ0FSVFxcbicgK1xuICAgICfilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcXG4nXG4gICk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjYXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUlMuY2FydF9idXR0b24pIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICBpZiAoY2FydEJ0bikge1xuICAgICAgbG9nZ2VyLmluZm8oJ+KckyBDYXJ0IGJ1dHRvbiBmb3VuZCwgY2xpY2tpbmcuLi4nKTtcbiAgICAgIGNhcnRCdG4uY2xpY2soKTtcbiAgICAgIGF3YWl0IHNsZWVwKDUwMCk7XG4gICAgICBsb2dnZXIuaW5mbygn4pyFIFN1Y2Nlc3M6IENhcnQgb3BlbmVkXFxuJyk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGNsaWNrZWQ6ICdjYXJ0X2J1dHRvbicgfSB9O1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrOiBuYXZpZ2F0ZSBkaXJlY3RseSB0byBjYXJ0IFVSTFxuICAgIGxvZ2dlci5pbmZvKCfimqDvuI8gQ2FydCBidXR0b24gbm90IGZvdW5kLCBuYXZpZ2F0aW5nIHRvIGNhcnQgVVJMLi4uJyk7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaHR0cHM6Ly93d3cud2FsbWFydC5jb20vY2FydCc7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBuYXZpZ2F0ZWQ6ICdjYXJ0X3VybCcgfSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFUlJPUjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBTdHJpbmcoZXJyb3IpIH07XG4gIH1cbn1cblxuKHdpbmRvdyBhcyBhbnkpLl9fc2l0ZUludGVncmF0aW9uID0gKHdpbmRvdyBhcyBhbnkpLl9fc2l0ZUludGVncmF0aW9uIHx8IHt9O1xuKHdpbmRvdyBhcyBhbnkpLl9fc2l0ZUludGVncmF0aW9uLndhbG1hcnQgPSB7XG4gIGRldGVjdFByb2R1Y3RDYXJkcyxcbiAgYWRkVG9DYXJ0LFxuICBuYXZpZ2F0ZVRvUHJvZHVjdCxcbiAgb3BlbkNhcnQsXG4gIGRldGVjdENhcHRjaGEsXG4gIFNFQVJDSF9VUkwsXG4gIFNFTEVDVE9SUyxcbn07XG5cbi8vIEhhbmRzaGFrZTogbWFyayBpbnRlZ3JhdGlvbiByZWFkeSBmb3IgdGhlIGNvbnRlbnQgc2NyaXB0XG4od2luZG93IGFzIGFueSkuX19zaXRlSW50ZWdyYXRpb25SZWFkeSA9IHRydWU7XG5jb25zb2xlLmRlYnVnKCdXYWxtYXJ0IHNpdGUgaW50ZWdyYXRpb24gaW5qZWN0ZWQgYW5kIHJlYWR5Jyk7XG4iXSwibmFtZXMiOlsiTG9nTGV2ZWwiLCJRdWV1ZSIsInZhbHVlIiwibm9kZSIsIkRFRkFVTFRfQlVGRkVSX1NJWkUiLCJERUZBVUxUX0ZMVVNIX1RJTUVPVVQiLCJERUZBVUxUX1JFVFJZX0NPVU5UIiwiREVGQVVMVF9SRVRSWV9CQUNLT0ZGIiwiY2FsY3VsYXRlSnNvbkxvZ1NpemVCeXRlcyIsImxvZyIsIm1ha2VCYXRjaCIsInNpemUiLCJmbHVzaFRpbWVvdXQiLCJyZXRyeUNvdW50IiwicmV0cnlCYWNrb2ZmIiwic2l6ZUJ5dGVzIiwiY2FsY3VsYXRlTG9nU2l6ZUJ5dGVzIiwidGltZW91dCIsImNiIiwiYnVmZmVyIiwiYnVmZmVyU2l6ZUJ5dGVzIiwicmV0cnkiLCJtaW5SZXRyeUJhY2tvZmYiLCJmbHVzaCIsImN1cnJlbnRCdWZmZXIiLCJjdXJyZW50QnVmZmVyU2l6ZUtCIiwiZCIsImUiLCJzZXR1cFRpbWVvdXQiLCJyZXNvbHZlIiwiZm4iLCJyZWplY3QiLCJSRVNPTFVUSU9OIiwibWFrZUJ1cnN0UHJvdGVjdGlvbiIsIm1pbGxpc2Vjb25kcyIsIm1heCIsImZ1bmN0aW9uTmFtZSIsImNhbGxDb3VudHMiLCJsYXN0RXJyb3JPdXRwdXQiLCJsYXN0SW50ZXJ2YWxUaW1lIiwidXBkYXRlQ2FsbENvdW50cyIsIm5vdyIsImludGVydmFsTGVuZ3RoIiwiaW50ZXJ2YWxDb3VudFNpbmNlTGFzdCIsImdldFRvdGFsQ2FsbENvdW50IiwidG90YWwiLCJpdGVtIiwiaW5jcmVtZW50Q2FsbENvdW50IiwiYXJncyIsIm1ha2VUaHJvdHRsZSIsInF1ZXVlTWF4IiwiY3VycmVudCIsInF1ZXVlIiwidGhyb3R0bGUiLCJoYW5kbGVyIiwiTm9uRXJyb3IiLCJtZXNzYWdlIiwiY29tbW9uUHJvcGVydGllcyIsImlzQ2FsbGVkIiwidG9KU09OIiwiZnJvbSIsImpzb24iLCJkZXN0cm95Q2lyY3VsYXIiLCJzZWVuIiwidG9fIiwiZm9yY2VFbnVtZXJhYmxlIiwibWF4RGVwdGgiLCJkZXB0aCIsInRvIiwia2V5IiwicHJvcGVydHkiLCJlbnVtZXJhYmxlIiwic2VyaWFsaXplRXJyb3JfMSIsIm9wdGlvbnMiLCJuZXdFcnJvciIsImRlZmF1bHRPcHRpb25zIiwiTG9ndGFpbCIsInNvdXJjZVRva2VuIiwidGhyb3R0bGVyIiwibG9ncyIsImJhdGNoZXIiLCJsZXZlbCIsImNvbnRleHQiLCJ0cmFuc2Zvcm1lZExvZyIsInNlcmlhbGl6ZUVycm9yIiwibWlkZGxld2FyZSIsIm5ld1RyYW5zZm9ybWVkTG9nIiwidmlzaXRlZE9iamVjdHMiLCJzZXJpYWxpemVkQXJyYXkiLCJzZXJpYWxpemVkT2JqZWN0Iiwic2VyaWFsaXplZFZhbHVlIiwicCIsIkJhc2UiLCJCcm93c2VyIiwic3luYyIsInJlcyIsIl9hIiwiX2IiLCJfYyIsImNyZWF0ZUxvZ2dlciIsImxvZ2dlciIsIlNFQVJDSF9VUkwiLCJTRUxFQ1RPUlMiLCJTUlBfQVRDX1NFTEVDVE9SUyIsIlBEUF9WQVJJQU5UX0dST1VQIiwiUERQX0FERF9CVE4iLCJwYXJzZVByaWNlIiwicHJpY2VUZXh0IiwiY2xlYW5lZCIsIm4iLCJkZXRlY3RQcm9kdWN0Q2FyZHMiLCJjYXJkcyIsInByb2R1Y3ROdW0iLCJiYXNlU2VsZWN0b3IiLCJ0aXRsZVNlbGVjdG9yIiwicHJpY2VTZWxlY3RvciIsInJhdGluZ1NlbGVjdG9yIiwibGlua1NlbGVjdG9yIiwiaW5uZXJDb250YWluZXJTZWxlY3RvciIsInRpdGxlRWwiLCJ0aXRsZSIsInByaWNlRWwiLCJwcmljZSIsInByaWNlTnVtIiwicmF0aW5nRWwiLCJyYXRpbmciLCJyYXRpbmdNYXRjaCIsImxpbmtFbCIsImxpbmsiLCJhZGRUb0NhcnRTZWxlY3RvciIsImV4dHJhY3RlZERhdGEiLCJtc2dzIiwicHJvZHVjdCIsImluZGV4IiwiYWRkVG9DYXJ0IiwiZGV0ZWN0Q2FwdGNoYSIsImJ0biIsInNsZWVwIiwicm9vdCIsInNlbCIsImFkZEJ0biIsInBkcEFkZCIsInZhcmlhbnQiLCJmaXJzdE9wdCIsInRhcmdldEJ0biIsImIiLCJ0ZXh0IiwiZXJyb3IiLCJtcyIsIm5hdmlnYXRlVG9Qcm9kdWN0Iiwib3BlbkNhcnQiLCJjYXJ0QnRuIl0sIm1hcHBpbmdzIjoieUJBR08sSUFBSUEsR0FDVixTQUFVQSxFQUFVLENBRWpCQSxFQUFTLE1BQVcsUUFDcEJBLEVBQVMsS0FBVSxPQUNuQkEsRUFBUyxLQUFVLE9BQ25CQSxFQUFTLE1BQVcsUUFFcEJBLEVBQVMsTUFBVyxRQUNwQkEsRUFBUyxLQUFVLE9BQ25CQSxFQUFTLFFBQWEsVUFDdEJBLEVBQVMsTUFBVyxRQUNwQkEsRUFBUyxNQUFXLE9BQ3hCLEdBQUdBLElBQWFBLEVBQVcsQ0FBQSxFQUFHLEVDWmYsTUFBTUMsQ0FBTSxDQUN2QixhQUFjLENBT1YsS0FBSyxPQUFTLENBQ2xCLENBS0EsS0FBS0MsRUFBTyxDQUNSLE1BQU1DLEVBQU8sQ0FBRSxNQUFBRCxDQUFLLEVBQ3BCLEtBQUssS0FBTyxLQUFLLEtBQVEsS0FBSyxLQUFLLEtBQU9DLEVBQVMsS0FBSyxNQUFRQSxFQUNoRSxLQUFLLFFBQ1QsQ0FJQSxPQUFRLENBQ0osR0FBSSxLQUFLLE1BQU8sQ0FDWixLQUFNLENBQUUsTUFBQUQsR0FBVSxLQUFLLE1BQ3ZCLFlBQUssTUFBUSxLQUFLLE1BQU0sS0FDbkIsRUFBRSxLQUFLLFNBQ1IsS0FBSyxLQUFPLFFBRVRBLENBQ1gsQ0FDSixDQUNKLENDakNBLE1BQU1FLEVBQXNCLElBSXRCQyxFQUF3QixJQUl4QkMsRUFBc0IsRUFJdEJDLEVBQXdCLElBSWpCQyxFQUE2QkMsR0FBUSxLQUFLLFVBQVVBLENBQUcsRUFBRSxPQUFTLEVBV2hFLFNBQVNDLEVBQVVDLEVBQU9QLEVBQXFCUSxFQUFlUCxFQUF1QlEsRUFBYVAsRUFBcUJRLEVBQWVQLEVBQXVCUSxFQUFZLEVBQUdDLEVBQXdC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
